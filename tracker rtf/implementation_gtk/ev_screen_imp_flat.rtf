{\rtf1\ansi\ansicpg1252\deflang1033{\fonttbl{\f0\fscript\fcharset0 Courier;}}{\colortbl ;\red0\green0\blue0;\red255\green255\blue255;\red128\green0\blue0;\red0\green0\blue255;\red0\green128\blue0;\red0\green0\blue128;}
{\cf3\f0\fs16 {\tab}{\tab}{\tab}-- Automatic generation produced by ISE Eiffel --
{\line}
{{\b\cf6 note}{\line}
{\tab}{\cf1 description}{\cf1 :} "EiffelVision screen. GTK+ implementation."{\line}
{\tab}{\cf1 legal}{\cf1 :} "See notice at end of class."{\line}
{\tab}{\cf1 status}{\cf1 :} "See notice at end of class."{\line}
{\tab}{\cf1 keywords}{\cf1 :} "screen, root, window, visual, top"{\line}
{\tab}{\cf1 date}{\cf1 :} "$Date: 2017-03-27 13:31:29 -0700 (Mon, 27 Mar 2017) $"{\line}
{\tab}{\cf1 revision}{\cf1 :} "$Revision: 100058 $"{\line}
{\line}
{\b\cf6 class} {\line}
{\tab}{\cf4 EV_SCREEN_IMP}{\line}
{\line}
{\b\cf6 create} {\line}
{\tab}{\cf5 make}{\line}
{\line}
{\b\cf6 feature} {\cf1 \{}NONE{\cf1 \}} {\cf3 --}{\cf3  Initialization}{\line}
{\line}
{\tab}{\cf5 {\cf5 default_create}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Process instances of classes with no creation clause.}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  (Default: do nothing.)}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 ANY}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 init_default_values}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Set default values. Call during initialization.}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 local}{\line}
{\tab}{\tab}{\tab}{\cf5 l_mem}{\cf1 :} {\cf4 INTEGER_16}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\cf5 l_mem} {\cf1 :=} {\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}} 3 {\cf1 |} {\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}} 3 {\cf1 |<<} {\cf5 Integer_8_bits}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf5 set_dashes_pattern}{\cf1  }{\cf1 (}{\cf5 gc}{\cf1 ,} {\cf1 $}{\cf5 l_mem}{\b\cf1 .}{\cf5 to_pointer}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf5 line_style} {\cf1 :=} {\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_line_solid_enum}{\line}
{\tab}{\tab}{\tab}{\cf5 set_drawing_mode}{\cf1  }{\cf1 (}{\cf5 Drawing_mode_copy}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf5 set_line_width}{\cf1  }{\cf1 (}1{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 make}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Set up action sequence connections and create graphics context.}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\cf5 App_implementation}{\b\cf1 .}{\cf5 do_nothing}{\line}
{\tab}{\tab}{\tab}{\cf5 drawable} {\cf1 :=} {\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_screen_get_root_window} {\cf1 (}{\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_screen_get_default}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf5 gc} {\cf1 :=} {\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_gc_new} {\cf1 (}{\cf5 drawable}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_gc_set_subwindow} {\cf1 (}{\cf5 gc}{\cf1 ,} {\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_include_inferiors_enum}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf5 init_default_values}{\line}
{\tab}{\tab}{\tab}{\cf5 device_x_offset} {\cf1 :=} {\cf1 -} {\cf5 App_implementation}{\b\cf1 .}{\cf5 screen_virtual_x}{\b\cf1 .}{\cf5 as_integer_16}{\line}
{\tab}{\tab}{\tab}{\cf5 device_y_offset} {\cf1 :=} {\cf1 -} {\cf5 App_implementation}{\b\cf1 .}{\cf5 screen_virtual_y}{\b\cf1 .}{\cf5 as_integer_16}{\line}
{\tab}{\tab}{\tab}{\cf5 set_is_initialized}{\cf1  }{\cf1 (}{\b\cf6 True}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 ensure} {\cf3 --} {\cf3 from }{\cf4 EV_ANY_I}{\line}
{\tab}{\tab}{\tab}{\cf1 is_initialized}{\cf1 :} {\cf5 get_state_flag}{\cf1  }{\cf1 (}{\cf5 Is_initialized_flag}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 old_make} {\cf1 (}{\cf5 an_interface}{\cf1 :} {\b\cf6 attached} {\b\cf6 like} {\cf5 interface}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Create an empty drawing area.}{\line}
{\tab}{\tab}{\b\cf6 require} {\cf3 --} {\cf3 from }{\cf4 EV_ANY_I}{\line}
{\tab}{\tab}{\tab}{\cf1 an_interface_not_void}{\cf1 :} {\cf5 an_interface} {\cf1 /=} {\b\cf6 Void}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\cf5 assign_interface}{\cf1  }{\cf1 (}{\cf5 an_interface}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 ensure} {\cf3 --} {\cf3 from }{\cf4 EV_ANY_I}{\line}
{\tab}{\tab}{\tab}{\cf1 interface_assigned}{\cf1 :} {\cf5 interface} {\cf1 =} {\cf5 an_interface}{\line}
{\tab}{\tab}{\tab}{\cf1 base_make_called}{\cf1 :} {\cf5 base_make_called}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\tab}{\line}
{\b\cf6 feature} {\cf1 \{}{\cf4 EV_ANY}{\cf1 ,} {\cf4 EV_ANY_I}{\cf1 \}} {\cf3 --}{\cf3  Initialization}{\line}
{\line}
{\tab}{\cf5 {\b\cf6 frozen} {\cf5 assign_interface} {\cf1 (}{\cf5 an_interface}{\cf1 :} {\b\cf6 attached} {\b\cf6 like} {\cf5 interface}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Assign }{\cf5 an_interface}{\cf3  to }{\cf5 interface}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_ANY_I}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 require} {\cf3 --} {\cf3 from }{\cf4 EV_ANY_I}{\line}
{\tab}{\tab}{\tab}{\cf1 an_interface_not_void}{\cf1 :} {\cf5 an_interface} {\cf1 /=} {\b\cf6 Void}{\line}
{\tab}{\tab}{\tab}{\cf1 not_already_called}{\cf1 :} {\cf5 base_make_called} {\cf1 =} {\b\cf6 False}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\cf5 set_state_flag}{\cf1  }{\cf1 (}{\cf5 Base_make_called_flag}{\cf1 ,} {\b\cf6 True}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf5 interface} {\cf1 :=} {\cf5 an_interface}{\line}
{\tab}{\tab}{\b\cf6 ensure} {\cf3 --} {\cf3 from }{\cf4 EV_ANY_I}{\line}
{\tab}{\tab}{\tab}{\cf1 interface_assigned}{\cf1 :} {\cf5 interface} {\cf1 =} {\cf5 an_interface}{\line}
{\tab}{\tab}{\tab}{\cf1 called_flag_set}{\cf1 :} {\cf5 base_make_called} {\cf1 =} {\b\cf6 True}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\tab}{\line}
{\b\cf6 feature} {\cf3 --}{\cf3  Access}{\line}
{\line}
{\tab}{\cf5 {\cf5 arc_cosine} {\cf1 (}{\cf5 v}{\cf1 :} {\cf4 REAL_32}{\cf1 )}{\cf1 :} {\cf4 REAL_32}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Trigonometric arccosine of radian }{\cf5 v}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  in the range [0, pi]}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 SINGLE_MATH}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 external}{\line}
{\tab}{\tab}{\tab}"C signature (double): double use <math.h>"{\line}
{\tab}{\tab}{\b\cf6 alias}{\line}
{\tab}{\tab}{\tab}"acos"{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 arc_sine} {\cf1 (}{\cf5 v}{\cf1 :} {\cf4 REAL_32}{\cf1 )}{\cf1 :} {\cf4 REAL_32}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Trigonometric arcsine of radian }{\cf5 v}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  in the range [-pi/2, +pi/2]}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 SINGLE_MATH}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 external}{\line}
{\tab}{\tab}{\tab}"C signature (double): double use <math.h>"{\line}
{\tab}{\tab}{\b\cf6 alias}{\line}
{\tab}{\tab}{\tab}"asin"{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 arc_tangent} {\cf1 (}{\cf5 v}{\cf1 :} {\cf4 REAL_32}{\cf1 )}{\cf1 :} {\cf4 REAL_32}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Trigonometric arctangent of radian }{\cf5 v}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  in the range [-pi/2, +pi/2]}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 SINGLE_MATH}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 external}{\line}
{\tab}{\tab}{\tab}"C signature (double): double use <math.h>"{\line}
{\tab}{\tab}{\b\cf6 alias}{\line}
{\tab}{\tab}{\tab}"atan"{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\b\cf6 frozen} {\cf5 background_color}{\cf1 :} {\cf4 EV_COLOR}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Color displayed behind foreground features.}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_COLORIZABLE_I}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 local}{\line}
{\tab}{\tab}{\tab}{\cf5 l_result}{\cf1 :} {\b\cf6 detachable} {\b\cf6 like} {\cf5 background_color_internal}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\cf5 l_result} {\cf1 :=} {\cf5 background_color_internal}{\line}
{\tab}{\tab}{\tab}{\b\cf6 check}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf5 l_result} {\cf1 /=} {\b\cf6 Void}{\line}
{\tab}{\tab}{\tab}{\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf5 l_result}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 background_color_internal}{\cf1 :} {\cf4 EV_COLOR}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Color used for erasing of canvas.}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Default: white.}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 require} {\cf3 --} {\cf3 from } {\cf4 EV_COLORIZABLE_I}{\line}
{\tab}{\tab}{\tab}{\b\cf6 True}{\line}
{\tab}{\tab}{\b\cf6 local}{\line}
{\tab}{\tab}{\tab}{\cf5 l_red}{\cf1 ,} {\cf5 l_green}{\cf1 ,} {\cf5 l_blue}{\cf1 :} {\cf4 INTEGER_32}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 if} {\b\cf6 attached} {\cf5 internal_background_color} {\b\cf6 as} l_internal_background_color {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 l_red} {\cf1 :=} {\cf5 l_internal_background_color}{\b\cf1 .}{\cf5 red_8_bit}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 l_green} {\cf1 :=} {\cf5 l_internal_background_color}{\b\cf1 .}{\cf5 green_8_bit}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 l_blue} {\cf1 :=} {\cf5 l_internal_background_color}{\b\cf1 .}{\cf5 blue_8_bit}{\line}
{\tab}{\tab}{\tab}{\b\cf6 else}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 l_red} {\cf1 :=} 255{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 l_green} {\cf1 :=} 255{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 l_blue} {\cf1 :=} 255{\line}
{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\tab}{\b\cf6 create} {\b\cf6 Result}{\b\cf1 .}{\cf5 make_with_8_bit_rgb}{\cf1  }{\cf1 (}{\cf5 l_red}{\cf1 ,} {\cf5 l_green}{\cf1 ,} {\cf5 l_blue}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 ceiling} {\cf1 (}{\cf5 v}{\cf1 :} {\cf4 REAL_32}{\cf1 )}{\cf1 :} {\cf4 REAL_32}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Least integral value greater than or equal to }{\cf5 v}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 SINGLE_MATH}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 external}{\line}
{\tab}{\tab}{\tab}"C signature (double): double use <math.h>"{\line}
{\tab}{\tab}{\b\cf6 alias}{\line}
{\tab}{\tab}{\tab}"ceil"{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 clip_area}{\cf1 :} {\b\cf6 detachable} {\cf4 EV_RECTANGLE}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Clip area used to clip drawing.}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  If set to Void, no clipping is applied.}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 require} {\cf3 --} {\cf3 from } {\cf4 EV_DRAWABLE_I}{\line}
{\tab}{\tab}{\tab}{\b\cf6 True}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 if} {\b\cf6 attached} {\cf5 gc_clip_area} {\b\cf6 as} l_gc_clip_area {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf5 l_gc_clip_area}{\b\cf1 .}{\cf5 twin}{\line}
{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 cosine} {\cf1 (}{\cf5 v}{\cf1 :} {\cf4 REAL_32}{\cf1 )}{\cf1 :} {\cf4 REAL_32}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Trigonometric cosine of radian }{\cf5 v}{\cf3  approximated}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  in the range [-pi/4, +pi/4]}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 SINGLE_MATH}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 external}{\line}
{\tab}{\tab}{\tab}"C signature (double): double use <math.h>"{\line}
{\tab}{\tab}{\b\cf6 alias}{\line}
{\tab}{\tab}{\tab}"cos"{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 dashed_line_style}{\cf1 :} {\cf4 BOOLEAN}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Are lines drawn dashed?}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 require} {\cf3 --} {\cf3 from } {\cf4 EV_DRAWABLE_I}{\line}
{\tab}{\tab}{\tab}{\b\cf6 True}{\line}
{\tab}{\tab}{\b\cf6 local}{\line}
{\tab}{\tab}{\tab}{\cf5 style}{\cf1 :} {\cf4 INTEGER_32}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\cf5 gcvalues} {\cf1 :=} {\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 c_gdk_gcvalues_struct_allocate}{\line}
{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_gc_get_values} {\cf1 (}{\cf5 gc}{\cf1 ,} {\cf5 gcvalues}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf5 style} {\cf1 :=} {\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_gcvalues_struct_line_style} {\cf1 (}{\cf5 gcvalues}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf5 gcvalues}{\b\cf1 .}{\cf5 memory_free}{\line}
{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf5 style} {\cf1 =} {\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_line_on_off_dash_enum}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 drawing_mode}{\cf1 :} {\cf4 INTEGER_32}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Logical operation on pixels when drawing.}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 require} {\cf3 --} {\cf3 from } {\cf4 EV_DRAWABLE_I}{\line}
{\tab}{\tab}{\tab}{\b\cf6 True}{\line}
{\tab}{\tab}{\b\cf6 local}{\line}
{\tab}{\tab}{\tab}{\cf5 gdk_drawing_mode}{\cf1 :} {\cf4 INTEGER_32}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\cf5 gcvalues} {\cf1 :=} {\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 c_gdk_gcvalues_struct_allocate}{\line}
{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_gc_get_values} {\cf1 (}{\cf5 gc}{\cf1 ,} {\cf5 gcvalues}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf5 gdk_drawing_mode} {\cf1 :=} {\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_gcvalues_struct_function} {\cf1 (}{\cf5 gcvalues}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf5 gcvalues}{\b\cf1 .}{\cf5 memory_free}{\line}
{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 gdk_drawing_mode} {\cf1 =} {\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_copy_enum} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf5 Drawing_mode_copy}{\line}
{\tab}{\tab}{\tab}{\b\cf6 elseif} {\cf5 gdk_drawing_mode} {\cf1 =} {\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_xor_enum} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf5 Drawing_mode_xor}{\line}
{\tab}{\tab}{\tab}{\b\cf6 elseif} {\cf5 gdk_drawing_mode} {\cf1 =} {\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_invert_enum} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf5 Drawing_mode_invert}{\line}
{\tab}{\tab}{\tab}{\b\cf6 elseif} {\cf5 gdk_drawing_mode} {\cf1 =} {\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_and_enum} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf5 Drawing_mode_and}{\line}
{\tab}{\tab}{\tab}{\b\cf6 elseif} {\cf5 gdk_drawing_mode} {\cf1 =} {\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_or_enum} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf5 Drawing_mode_or}{\line}
{\tab}{\tab}{\tab}{\b\cf6 else}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 check}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf1 drawing_mode_existent}{\cf1 :} {\b\cf6 False}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 Euler}{\cf1 :} {\cf4 REAL_64} {\cf1 =} 2.7182818284590452353602874713526625}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Logarithm base}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 MATH_CONST}{\cf3 )}{\line}
{\line}
{\tab}{\cf5 {\cf5 exp} {\cf1 (}{\cf5 x}{\cf1 :} {\cf4 REAL_32}{\cf1 )}{\cf1 :} {\cf4 REAL_32}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Exponential of }{\cf5 v}{\cf3 .}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 SINGLE_MATH}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 external}{\line}
{\tab}{\tab}{\tab}"C signature (double): double use <math.h>"{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 floor} {\cf1 (}{\cf5 v}{\cf1 :} {\cf4 REAL_32}{\cf1 )}{\cf1 :} {\cf4 REAL_32}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Greatest integral value less than or equal to }{\cf5 v}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 SINGLE_MATH}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 external}{\line}
{\tab}{\tab}{\tab}"C signature (double): double use <math.h>"{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 font}{\cf1 :} {\cf4 EV_FONT}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Font used for drawing text.}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 require} {\cf3 --} {\cf3 from } {\cf4 EV_FONTABLE_I}{\line}
{\tab}{\tab}{\tab}{\b\cf6 True}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 if} {\b\cf6 attached} {\cf5 internal_font_imp} {\b\cf6 as} l_internal_font_imp {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf5 l_internal_font_imp}{\b\cf1 .}{\cf5 attached_interface}{\b\cf1 .}{\cf5 twin}{\line}
{\tab}{\tab}{\tab}{\b\cf6 else}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 create} {\b\cf6 Result}{\line}
{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\b\cf6 ensure} {\cf3 --} {\cf3 from }{\cf4 EV_FONTABLE_I}{\line}
{\tab}{\tab}{\tab}{\cf1 not_void}{\cf1 :} {\b\cf6 Result} {\cf1 /=} {\b\cf6 Void}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\b\cf6 frozen} {\cf5 foreground_color}{\cf1 :} {\cf4 EV_COLOR}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Color of foreground features like text.}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_COLORIZABLE_I}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 local}{\line}
{\tab}{\tab}{\tab}{\cf5 l_result}{\cf1 :} {\b\cf6 detachable} {\b\cf6 like} {\cf5 foreground_color_internal}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\cf5 l_result} {\cf1 :=} {\cf5 foreground_color_internal}{\line}
{\tab}{\tab}{\tab}{\b\cf6 check}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf5 l_result} {\cf1 /=} {\b\cf6 Void}{\line}
{\tab}{\tab}{\tab}{\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf5 l_result}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 foreground_color_internal}{\cf1 :} {\cf4 EV_COLOR}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Color used to draw primitives.}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 require} {\cf3 --} {\cf3 from } {\cf4 EV_COLORIZABLE_I}{\line}
{\tab}{\tab}{\tab}{\b\cf6 True}{\line}
{\tab}{\tab}{\b\cf6 local}{\line}
{\tab}{\tab}{\tab}{\cf5 l_red}{\cf1 ,} {\cf5 l_green}{\cf1 ,} {\cf5 l_blue}{\cf1 :} {\cf4 INTEGER_32}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 if} {\b\cf6 attached} {\cf5 internal_foreground_color} {\b\cf6 as} l_internal_foreground_color {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 l_red} {\cf1 :=} {\cf5 l_internal_foreground_color}{\b\cf1 .}{\cf5 red_8_bit}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 l_green} {\cf1 :=} {\cf5 l_internal_foreground_color}{\b\cf1 .}{\cf5 green_8_bit}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 l_blue} {\cf1 :=} {\cf5 l_internal_foreground_color}{\b\cf1 .}{\cf5 blue_8_bit}{\line}
{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\tab}{\b\cf6 create} {\b\cf6 Result}{\b\cf1 .}{\cf5 make_with_8_bit_rgb}{\cf1  }{\cf1 (}{\cf5 l_red}{\cf1 ,} {\cf5 l_green}{\cf1 ,} {\cf5 l_blue}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 generating_type}{\cf1 :} {\cf4 TYPE} {\cf1 [}{\b\cf6 detachable} {\cf4 EV_SCREEN_IMP}{\cf1 ]}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Type of current object}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  (type of which it is a direct instance)}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 ANY}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 external}{\line}
{\tab}{\tab}{\tab}"built_in"{\line}
{\tab}{\tab}{\b\cf6 ensure} {\cf3 --} {\cf3 from }{\cf4 ANY}{\line}
{\tab}{\tab}{\tab}{\cf1 generating_type_not_void}{\cf1 :} {\b\cf6 Result} {\cf1 /=} {\b\cf6 Void}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 generator}{\cf1 :} {\cf4 STRING_8}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Name of current object's generating class}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  (base class of the type of which it is a direct instance)}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 ANY}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 external}{\line}
{\tab}{\tab}{\tab}"built_in"{\line}
{\tab}{\tab}{\b\cf6 ensure} {\cf3 --} {\cf3 from }{\cf4 ANY}{\line}
{\tab}{\tab}{\tab}{\cf1 generator_not_void}{\cf1 :} {\b\cf6 Result} {\cf1 /=} {\b\cf6 Void}{\line}
{\tab}{\tab}{\tab}{\cf1 generator_not_empty}{\cf1 :} {\b\cf6 not} {\b\cf6 Result}{\b\cf1 .}{\cf5 is_empty}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 line_width}{\cf1 :} {\cf4 INTEGER_32}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Line thickness.}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 require} {\cf3 --} {\cf3 from } {\cf4 EV_DRAWABLE_I}{\line}
{\tab}{\tab}{\tab}{\b\cf6 True}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\cf5 gcvalues} {\cf1 :=} {\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 c_gdk_gcvalues_struct_allocate}{\line}
{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_gc_get_values} {\cf1 (}{\cf5 gc}{\cf1 ,} {\cf5 gcvalues}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_gcvalues_struct_line_width} {\cf1 (}{\cf5 gcvalues}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf5 gcvalues}{\b\cf1 .}{\cf5 memory_free}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 log} {\cf1 (}{\cf5 v}{\cf1 :} {\cf4 REAL_32}{\cf1 )}{\cf1 :} {\cf4 REAL_32}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Natural logarithm of }{\cf5 v}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 SINGLE_MATH}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 external}{\line}
{\tab}{\tab}{\tab}"C signature (double): double use <math.h>"{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 log10} {\cf1 (}{\cf5 v}{\cf1 :} {\cf4 REAL_32}{\cf1 )}{\cf1 :} {\cf4 REAL_32}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Base 10 logarithm of }{\cf5 v}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 SINGLE_MATH}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 external}{\line}
{\tab}{\tab}{\tab}"C signature (double): double use <math.h>"{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 log_2} {\cf1 (}{\cf5 v}{\cf1 :} {\cf4 REAL_32}{\cf1 )}{\cf1 :} {\cf4 REAL_32}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Base 2 logarithm of }{\cf5 v}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 SINGLE_MATH}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf5 log}{\cf1  }{\cf1 (}{\cf5 v}{\cf1 )} {\cf1 /} {\cf5 log}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 REAL_32}{\cf1 \}} 2.0{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 Pi}{\cf1 :} {\cf4 REAL_64} {\cf1 =} 3.1415926535897932384626433832795029}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 MATH_CONST}{\cf3 )}{\line}
{\line}
{\tab}{\cf5 {\cf5 Pi_2}{\cf1 :} {\cf4 REAL_64} {\cf1 =} 1.5707963267948966192313216916397514}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 MATH_CONST}{\cf3 )}{\line}
{\line}
{\tab}{\cf5 {\cf5 Pi_4}{\cf1 :} {\cf4 REAL_64} {\cf1 =} 0.7853981633974483096156608458198757}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 MATH_CONST}{\cf3 )}{\line}
{\line}
{\tab}{\cf5 {\cf5 rabs} {\cf1 (}{\cf5 v}{\cf1 :} {\cf4 REAL_32}{\cf1 )}{\cf1 :} {\cf4 REAL_32}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Absolute value of }{\cf5 v}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 SINGLE_MATH}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 external}{\line}
{\tab}{\tab}{\tab}"C signature (double): double use <math.h>"{\line}
{\tab}{\tab}{\b\cf6 alias}{\line}
{\tab}{\tab}{\tab}"fabs"{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 sine} {\cf1 (}{\cf5 v}{\cf1 :} {\cf4 REAL_32}{\cf1 )}{\cf1 :} {\cf4 REAL_32}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Trigonometric sine of radian }{\cf5 v}{\cf3  approximated}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  in range [-pi/4, +pi/4]}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 SINGLE_MATH}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 external}{\line}
{\tab}{\tab}{\tab}"C signature (double): double use <math.h>"{\line}
{\tab}{\tab}{\b\cf6 alias}{\line}
{\tab}{\tab}{\tab}"sin"{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 sqrt} {\cf1 (}{\cf5 v}{\cf1 :} {\cf4 REAL_32}{\cf1 )}{\cf1 :} {\cf4 REAL_32}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Square root of }{\cf5 v}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 SINGLE_MATH}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 external}{\line}
{\tab}{\tab}{\tab}"C signature (double): double use <math.h>"{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 Sqrt2}{\cf1 :} {\cf4 REAL_64} {\cf1 =} 1.4142135623730950488016887242096981}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Square root of 2}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 MATH_CONST}{\cf3 )}{\line}
{\line}
{\tab}{\cf5 {\cf5 tangent} {\cf1 (}{\cf5 v}{\cf1 :} {\cf4 REAL_32}{\cf1 )}{\cf1 :} {\cf4 REAL_32}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Trigonometric tangent of radian }{\cf5 v}{\cf3  approximated}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  in range [-pi/4, +pi/4]}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 SINGLE_MATH}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 external}{\line}
{\tab}{\tab}{\tab}"C signature (double): double use <math.h>"{\line}
{\tab}{\tab}{\b\cf6 alias}{\line}
{\tab}{\tab}{\tab}"tan"{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 tile}{\cf1 :} {\b\cf6 detachable} {\cf4 EV_PIXMAP}}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Pixmap that is used to fill instead of background_color.}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  If set to Void, }{\cf5 background_color}{\cf3  is used to fill.}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\tab}{\line}
{\b\cf6 feature} {\cf3 --}{\cf3  Measurement}{\line}
{\line}
{\tab}{\cf5 {\cf5 height}{\cf1 :} {\cf4 INTEGER_32}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Vertical size in pixels.}{\line}
{\tab}{\tab}{\b\cf6 require} {\cf3 --} {\cf3 from } {\cf4 EV_DRAWABLE_I}{\line}
{\tab}{\tab}{\tab}{\b\cf6 True}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf5 App_implementation}{\b\cf1 .}{\cf5 screen_height}{\line}
{\tab}{\tab}{\b\cf6 ensure} {\cf3 --} {\cf3 from }{\cf4 EV_DRAWABLE_I}{\line}
{\tab}{\tab}{\tab}{\cf1 positive}{\cf1 :} {\b\cf6 Result} {\cf1 >} 0{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 horizontal_resolution}{\cf1 :} {\cf4 INTEGER_32}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Number of logical pixels per inch along horizontal axis}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_screen_get_resolution} {\cf1 (}{\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_screen_get_default}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 ensure} {\cf3 --} {\cf3 from }{\cf4 EV_SCREEN_I}{\line}
{\tab}{\tab}{\tab}{\cf1 positive}{\cf1 :} {\b\cf6 Result} {\cf1 >} 0{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 vertical_resolution}{\cf1 :} {\cf4 INTEGER_32}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Number of logical pixels per inch along vertical axis}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_screen_get_resolution} {\cf1 (}{\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_screen_get_default}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 ensure} {\cf3 --} {\cf3 from }{\cf4 EV_SCREEN_I}{\line}
{\tab}{\tab}{\tab}{\cf1 positive}{\cf1 :} {\b\cf6 Result} {\cf1 >} 0{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 virtual_height}{\cf1 :} {\cf4 INTEGER_32}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Virtual height of screen}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf5 App_implementation}{\b\cf1 .}{\cf5 screen_virtual_height}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 virtual_width}{\cf1 :} {\cf4 INTEGER_32}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Virtual width of screen}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf5 App_implementation}{\b\cf1 .}{\cf5 screen_virtual_width}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 virtual_x}{\cf1 :} {\cf4 INTEGER_32}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  X position of virtual screen in main display coordinates}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf5 App_implementation}{\b\cf1 .}{\cf5 screen_virtual_x}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 virtual_y}{\cf1 :} {\cf4 INTEGER_32}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Y position of virtual screen in main display coordinates}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf5 App_implementation}{\b\cf1 .}{\cf5 screen_virtual_y}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 width}{\cf1 :} {\cf4 INTEGER_32}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Horizontal size in pixels.}{\line}
{\tab}{\tab}{\b\cf6 require} {\cf3 --} {\cf3 from } {\cf4 EV_DRAWABLE_I}{\line}
{\tab}{\tab}{\tab}{\b\cf6 True}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf5 App_implementation}{\b\cf1 .}{\cf5 screen_width}{\line}
{\tab}{\tab}{\b\cf6 ensure} {\cf3 --} {\cf3 from }{\cf4 EV_DRAWABLE_I}{\line}
{\tab}{\tab}{\tab}{\cf1 positive}{\cf1 :} {\b\cf6 Result} {\cf1 >} 0{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\tab}{\line}
{\b\cf6 feature} {\cf3 --}{\cf3  Comparison}{\line}
{\line}
{\tab}{\cf5 {\b\cf6 frozen} {\cf5 deep_equal} {\cf1 (}{\cf5 a}{\cf1 :} {\b\cf6 detachable} {\cf4 ANY}{\cf1 ;} {\cf5 b}{\cf1 :} {\b\cf6 like} arg #1{\cf1 )}{\cf1 :} {\cf4 BOOLEAN}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Are }{\cf5 a}{\cf3  and }{\cf5 b}{\cf3  either both void}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  or attached to isomorphic object structures?}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 ANY}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 a} {\cf1 =} {\b\cf6 Void} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf5 b} {\cf1 =} {\b\cf6 Void}{\line}
{\tab}{\tab}{\tab}{\b\cf6 else}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf5 b} {\cf1 /=} {\b\cf6 Void} {\b\cf6 and then} {\cf5 a}{\b\cf1 .}{\cf5 is_deep_equal}{\cf1  }{\cf1 (}{\cf5 b}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\b\cf6 ensure} {\cf3 --} {\cf3 from }{\cf4 ANY}{\line}
{\tab}{\tab}{\tab}{\cf1 shallow_implies_deep}{\cf1 :} {\cf5 standard_equal}{\cf1  }{\cf1 (}{\cf5 a}{\cf1 ,} {\cf5 b}{\cf1 )} {\b\cf6 implies} {\b\cf6 Result}{\line}
{\tab}{\tab}{\tab}{\cf1 both_or_none_void}{\cf1 :} {\cf1 (}{\cf5 a} {\cf1 =} {\b\cf6 Void}{\cf1 )} {\b\cf6 implies} {\cf1 (}{\b\cf6 Result} {\cf1 =} {\cf1 (}{\cf5 b} {\cf1 =} {\b\cf6 Void}{\cf1 )}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf1 same_type}{\cf1 :} {\cf1 (}{\b\cf6 Result} {\b\cf6 and} {\cf1 (}{\cf5 a} {\cf1 /=} {\b\cf6 Void}{\cf1 )}{\cf1 )} {\b\cf6 implies} {\cf1 (}{\cf5 b} {\cf1 /=} {\b\cf6 Void} {\b\cf6 and then} {\cf5 a}{\b\cf1 .}{\cf5 same_type}{\cf1  }{\cf1 (}{\cf5 b}{\cf1 )}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf1 symmetric}{\cf1 :} {\b\cf6 Result} {\b\cf6 implies} {\cf5 deep_equal}{\cf1  }{\cf1 (}{\cf5 b}{\cf1 ,} {\cf5 a}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\b\cf6 frozen} {\cf5 equal} {\cf1 (}{\cf5 a}{\cf1 :} {\b\cf6 detachable} {\cf4 ANY}{\cf1 ;} {\cf5 b}{\cf1 :} {\b\cf6 like} arg #1{\cf1 )}{\cf1 :} {\cf4 BOOLEAN}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Are }{\cf5 a}{\cf3  and }{\cf5 b}{\cf3  either both void or attached}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  to objects considered equal?}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 ANY}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 a} {\cf1 =} {\b\cf6 Void} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf5 b} {\cf1 =} {\b\cf6 Void}{\line}
{\tab}{\tab}{\tab}{\b\cf6 else}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf5 b} {\cf1 /=} {\b\cf6 Void} {\b\cf6 and then} {\cf5 a}{\b\cf1 .}{\cf5 is_equal}{\cf1  }{\cf1 (}{\cf5 b}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\b\cf6 ensure} {\cf3 --} {\cf3 from }{\cf4 ANY}{\line}
{\tab}{\tab}{\tab}{\cf1 definition}{\cf1 :} {\b\cf6 Result} {\cf1 =} {\cf1 (}{\cf5 a} {\cf1 =} {\b\cf6 Void} {\b\cf6 and} {\cf5 b} {\cf1 =} {\b\cf6 Void}{\cf1 )} {\b\cf6 or else} {\cf1 (}{\cf1 (}{\cf5 a} {\cf1 /=} {\b\cf6 Void} {\b\cf6 and} {\cf5 b} {\cf1 /=} {\b\cf6 Void}{\cf1 )} {\b\cf6 and then} {\cf5 a}{\b\cf1 .}{\cf5 is_equal}{\cf1  }{\cf1 (}{\cf5 b}{\cf1 )}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\b\cf6 frozen} {\cf5 is_deep_equal} {\cf1 (}{\cf5 other}{\cf1 :} {\b\cf6 attached} {\cf4 EV_SCREEN_IMP}{\cf1 )}{\cf1 :} {\cf4 BOOLEAN}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Are }{\cf5 Current}{\cf3  and }{\cf5 other}{\cf3  attached to isomorphic object structures?}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 ANY}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 require} {\cf3 --} {\cf3 from }{\cf4 ANY}{\line}
{\tab}{\tab}{\tab}{\cf1 other_not_void}{\cf1 :} {\cf5 other} {\cf1 /=} {\b\cf6 Void}{\line}
{\tab}{\tab}{\b\cf6 external}{\line}
{\tab}{\tab}{\tab}"built_in"{\line}
{\tab}{\tab}{\b\cf6 ensure} {\cf3 --} {\cf3 from }{\cf4 ANY}{\line}
{\tab}{\tab}{\tab}{\cf1 shallow_implies_deep}{\cf1 :} {\cf5 standard_is_equal}{\cf1  }{\cf1 (}{\cf5 other}{\cf1 )} {\b\cf6 implies} {\b\cf6 Result}{\line}
{\tab}{\tab}{\tab}{\cf1 same_type}{\cf1 :} {\b\cf6 Result} {\b\cf6 implies} {\cf5 same_type}{\cf1  }{\cf1 (}{\cf5 other}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf1 symmetric}{\cf1 :} {\b\cf6 Result} {\b\cf6 implies} {\cf5 other}{\b\cf1 .}{\cf5 is_deep_equal}{\cf1  }{\cf1 (}{\b\cf6 Current}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 is_equal} {\cf1 (}{\cf5 other}{\cf1 :} {\b\cf6 attached} {\cf4 EV_SCREEN_IMP}{\cf1 )}{\cf1 :} {\cf4 BOOLEAN}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Is }{\cf5 other}{\cf3  attached to an object considered}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  equal to current object?}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 ANY}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 require} {\cf3 --} {\cf3 from }{\cf4 ANY}{\line}
{\tab}{\tab}{\tab}{\cf1 other_not_void}{\cf1 :} {\cf5 other} {\cf1 /=} {\b\cf6 Void}{\line}
{\tab}{\tab}{\b\cf6 external}{\line}
{\tab}{\tab}{\tab}"built_in"{\line}
{\tab}{\tab}{\b\cf6 ensure} {\cf3 --} {\cf3 from }{\cf4 ANY}{\line}
{\tab}{\tab}{\tab}{\cf1 symmetric}{\cf1 :} {\b\cf6 Result} {\b\cf6 implies} {\cf5 other} {\cf1 ~} {\b\cf6 Current}{\line}
{\tab}{\tab}{\tab}{\cf1 consistent}{\cf1 :} {\cf5 standard_is_equal}{\cf1  }{\cf1 (}{\cf5 other}{\cf1 )} {\b\cf6 implies} {\b\cf6 Result}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\b\cf6 frozen} {\cf5 standard_equal} {\cf1 (}{\cf5 a}{\cf1 :} {\b\cf6 detachable} {\cf4 ANY}{\cf1 ;} {\cf5 b}{\cf1 :} {\b\cf6 like} arg #1{\cf1 )}{\cf1 :} {\cf4 BOOLEAN}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Are }{\cf5 a}{\cf3  and }{\cf5 b}{\cf3  either both void or attached to}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  field-by-field identical objects of the same type?}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Always uses default object comparison criterion.}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 ANY}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 a} {\cf1 =} {\b\cf6 Void} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf5 b} {\cf1 =} {\b\cf6 Void}{\line}
{\tab}{\tab}{\tab}{\b\cf6 else}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf5 b} {\cf1 /=} {\b\cf6 Void} {\b\cf6 and then} {\cf5 a}{\b\cf1 .}{\cf5 standard_is_equal}{\cf1  }{\cf1 (}{\cf5 b}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\b\cf6 ensure} {\cf3 --} {\cf3 from }{\cf4 ANY}{\line}
{\tab}{\tab}{\tab}{\cf1 definition}{\cf1 :} {\b\cf6 Result} {\cf1 =} {\cf1 (}{\cf5 a} {\cf1 =} {\b\cf6 Void} {\b\cf6 and} {\cf5 b} {\cf1 =} {\b\cf6 Void}{\cf1 )} {\b\cf6 or else} {\cf1 (}{\cf1 (}{\cf5 a} {\cf1 /=} {\b\cf6 Void} {\b\cf6 and} {\cf5 b} {\cf1 /=} {\b\cf6 Void}{\cf1 )} {\b\cf6 and then} {\cf5 a}{\b\cf1 .}{\cf5 standard_is_equal}{\cf1  }{\cf1 (}{\cf5 b}{\cf1 )}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\b\cf6 frozen} {\cf5 standard_is_equal} {\cf1 (}{\cf5 other}{\cf1 :} {\b\cf6 attached} {\cf4 EV_SCREEN_IMP}{\cf1 )}{\cf1 :} {\cf4 BOOLEAN}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Is }{\cf5 other}{\cf3  attached to an object of the same type}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  as current object, and field-by-field identical to it?}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 ANY}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 require} {\cf3 --} {\cf3 from }{\cf4 ANY}{\line}
{\tab}{\tab}{\tab}{\cf1 other_not_void}{\cf1 :} {\cf5 other} {\cf1 /=} {\b\cf6 Void}{\line}
{\tab}{\tab}{\b\cf6 external}{\line}
{\tab}{\tab}{\tab}"built_in"{\line}
{\tab}{\tab}{\b\cf6 ensure} {\cf3 --} {\cf3 from }{\cf4 ANY}{\line}
{\tab}{\tab}{\tab}{\cf1 same_type}{\cf1 :} {\b\cf6 Result} {\b\cf6 implies} {\cf5 same_type}{\cf1  }{\cf1 (}{\cf5 other}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf1 symmetric}{\cf1 :} {\b\cf6 Result} {\b\cf6 implies} {\cf5 other}{\b\cf1 .}{\cf5 standard_is_equal}{\cf1  }{\cf1 (}{\b\cf6 Current}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\tab}{\line}
{\b\cf6 feature} {\cf3 --}{\cf3  Status report}{\line}
{\line}
{\tab}{\cf5 {\cf5 conforms_to} {\cf1 (}{\cf5 other}{\cf1 :} {\cf4 ANY}{\cf1 )}{\cf1 :} {\cf4 BOOLEAN}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Does type of current object conform to type}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  of }{\cf5 other}{\cf3  (as per Eiffel: The Language, chapter 13)?}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 ANY}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 require} {\cf3 --} {\cf3 from }{\cf4 ANY}{\line}
{\tab}{\tab}{\tab}{\cf1 other_not_void}{\cf1 :} {\cf5 other} {\cf1 /=} {\b\cf6 Void}{\line}
{\tab}{\tab}{\b\cf6 external}{\line}
{\tab}{\tab}{\tab}"built_in"{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 is_destroyed}{\cf1 :} {\cf4 BOOLEAN}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Is }{\cf5 Current}{\cf3  no longer usable?}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_ANY_I}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf5 get_state_flag}{\cf1  }{\cf1 (}{\cf5 Is_destroyed_flag}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 monitor_area_from_position} {\cf1 (}{\cf5 a_x}{\cf1 ,} {\cf5 a_y}{\cf1 :} {\cf4 INTEGER_32}{\cf1 )}{\cf1 :} {\cf4 EV_RECTANGLE}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Full area of monitor nearest to coordinates (a_x, a_y)}{\line}
{\tab}{\tab}{\b\cf6 require} {\cf3 --} {\cf3 from }{\cf4 EV_SCREEN_I}{\line}
{\tab}{\tab}{\tab}{\cf1 not_destroyed}{\cf1 :} {\b\cf6 not} {\cf5 is_destroyed}{\line}
{\tab}{\tab}{\b\cf6 local}{\line}
{\tab}{\tab}{\tab}{\cf5 l_mon_num}{\cf1 :} {\cf4 INTEGER_32}{\line}
{\tab}{\tab}{\tab}{\cf5 l_rect}{\cf1 :} {\cf4 POINTER}{\line}
{\tab}{\tab}{\tab}{\cf5 l_x}{\cf1 ,} {\cf5 l_y}{\cf1 ,} {\cf5 l_width}{\cf1 ,} {\cf5 l_height}{\cf1 :} {\cf4 INTEGER_32}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\cf5 l_mon_num} {\cf1 :=} {\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_screen_get_monitor_at_point} {\cf1 (}{\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_screen_get_default}{\cf1 ,} {\cf5 a_x} {\cf1 +} {\cf5 device_x_offset}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 ,} {\cf5 a_y} {\cf1 +} {\cf5 device_y_offset}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf5 l_rect} {\cf1 :=} {\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 c_gdk_rectangle_struct_allocate}{\line}
{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_screen_get_monitor_geometry} {\cf1 (}{\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_screen_get_default}{\cf1 ,} {\cf5 l_mon_num}{\cf1 ,} {\cf5 l_rect}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf5 l_x} {\cf1 :=} {\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_rectangle_struct_x} {\cf1 (}{\cf5 l_rect}{\cf1 )} {\cf1 -} {\cf5 device_x_offset}{\b\cf1 .}{\cf5 to_integer_32}{\line}
{\tab}{\tab}{\tab}{\cf5 l_y} {\cf1 :=} {\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_rectangle_struct_y} {\cf1 (}{\cf5 l_rect}{\cf1 )} {\cf1 -} {\cf5 device_y_offset}{\b\cf1 .}{\cf5 to_integer_32}{\line}
{\tab}{\tab}{\tab}{\cf5 l_width} {\cf1 :=} {\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_rectangle_struct_width} {\cf1 (}{\cf5 l_rect}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf5 l_height} {\cf1 :=} {\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_rectangle_struct_height} {\cf1 (}{\cf5 l_rect}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf5 l_rect}{\b\cf1 .}{\cf5 memory_free}{\line}
{\tab}{\tab}{\tab}{\b\cf6 create} {\b\cf6 Result}{\b\cf1 .}{\cf5 make}{\cf1  }{\cf1 (}{\cf5 l_x}{\cf1 ,} {\cf5 l_y}{\cf1 ,} {\cf5 l_width}{\cf1 ,} {\cf5 l_height}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 monitor_area_from_window} {\cf1 (}{\cf5 a_window}{\cf1 :} {\cf4 EV_WINDOW}{\cf1 )}{\cf1 :} {\cf4 EV_RECTANGLE}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Full area of monitor of which most of }{\cf5 a_window}{\cf3  is located.}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Returns nearest monitor area if }{\cf5 a_window}{\cf3  does not overlap any monitors.}{\line}
{\tab}{\tab}{\b\cf6 require} {\cf3 --} {\cf3 from }{\cf4 EV_SCREEN_I}{\line}
{\tab}{\tab}{\tab}{\cf1 not_destroyed}{\cf1 :} {\b\cf6 not} {\cf5 is_destroyed}{\line}
{\tab}{\tab}{\tab}{\cf1 not_window_destroyed}{\cf1 :} {\b\cf6 not} {\cf5 a_window}{\b\cf1 .}{\cf5 is_destroyed}{\line}
{\tab}{\tab}{\b\cf6 local}{\line}
{\tab}{\tab}{\tab}{\cf5 l_mon_num}{\cf1 :} {\cf4 INTEGER_32}{\line}
{\tab}{\tab}{\tab}{\cf5 l_window_imp}{\cf1 :} {\b\cf6 detachable} {\cf4 EV_WINDOW_IMP}{\line}
{\tab}{\tab}{\tab}{\cf5 l_rect}{\cf1 :} {\cf4 POINTER}{\line}
{\tab}{\tab}{\tab}{\cf5 l_x}{\cf1 ,} {\cf5 l_y}{\cf1 ,} {\cf5 l_width}{\cf1 ,} {\cf5 l_height}{\cf1 :} {\cf4 INTEGER_32}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\cf5 l_window_imp} {\cf1 ?=} {\cf5 a_window}{\b\cf1 .}{\cf5 implementation}{\line}
{\tab}{\tab}{\tab}{\b\cf6 check}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf5 l_window_imp} {\cf1 /=} {\b\cf6 Void}{\line}
{\tab}{\tab}{\tab}{\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\tab}{\cf5 l_mon_num} {\cf1 :=} {\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_screen_get_monitor_at_window} {\cf1 (}{\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_screen_get_default}{\cf1 ,} {\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gtk_widget_struct_window} {\cf1 (}{\cf5 l_window_imp}{\b\cf1 .}{\cf5 c_object}{\cf1 )}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf5 l_rect} {\cf1 :=} {\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 c_gdk_rectangle_struct_allocate}{\line}
{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_screen_get_monitor_geometry} {\cf1 (}{\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_screen_get_default}{\cf1 ,} {\cf5 l_mon_num}{\cf1 ,} {\cf5 l_rect}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf5 l_x} {\cf1 :=} {\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_rectangle_struct_x} {\cf1 (}{\cf5 l_rect}{\cf1 )} {\cf1 -} {\cf5 device_x_offset}{\b\cf1 .}{\cf5 to_integer_32}{\line}
{\tab}{\tab}{\tab}{\cf5 l_y} {\cf1 :=} {\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_rectangle_struct_y} {\cf1 (}{\cf5 l_rect}{\cf1 )} {\cf1 -} {\cf5 device_y_offset}{\b\cf1 .}{\cf5 to_integer_32}{\line}
{\tab}{\tab}{\tab}{\cf5 l_width} {\cf1 :=} {\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_rectangle_struct_width} {\cf1 (}{\cf5 l_rect}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf5 l_height} {\cf1 :=} {\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_rectangle_struct_height} {\cf1 (}{\cf5 l_rect}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf5 l_rect}{\b\cf1 .}{\cf5 memory_free}{\line}
{\tab}{\tab}{\tab}{\b\cf6 create} {\b\cf6 Result}{\b\cf1 .}{\cf5 make}{\cf1  }{\cf1 (}{\cf5 l_x}{\cf1 ,} {\cf5 l_y}{\cf1 ,} {\cf5 l_width}{\cf1 ,} {\cf5 l_height}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 monitor_count}{\cf1 :} {\cf4 INTEGER_32}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Number of monitors used for displaying virtual screen.}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf5 App_implementation}{\b\cf1 .}{\cf5 screen_monitor_count}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 pointer_position}{\cf1 :} {\cf4 EV_COORDINATE}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Position of the screen pointer.}{\line}
{\tab}{\tab}{\b\cf6 local}{\line}
{\tab}{\tab}{\tab}{\cf5 l_display_data}{\cf1 :} {\cf4 TUPLE} {\cf1 [}{\cf5 a_window}{\cf1 :} {\cf4 POINTER}{\cf1 ;} {\cf5 a_x}{\cf1 :} {\cf4 INTEGER_32}{\cf1 ;} {\cf5 a_y}{\cf1 :} {\cf4 INTEGER_32}{\cf1 ;} {\cf5 a_mask}{\cf1 :} {\cf4 NATURAL_32}{\cf1 ]}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\cf5 l_display_data} {\cf1 :=} {\cf5 App_implementation}{\b\cf1 .}{\cf5 retrieve_display_data}{\line}
{\tab}{\tab}{\tab}{\b\cf6 create} {\b\cf6 Result}{\b\cf1 .}{\cf5 set}{\cf1  }{\cf1 (}{\cf5 l_display_data}{\b\cf1 .}{\cf5 a_x}{\cf1 ,} {\cf5 l_display_data}{\b\cf1 .}{\cf5 a_y}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 same_type} {\cf1 (}{\cf5 other}{\cf1 :} {\cf4 ANY}{\cf1 )}{\cf1 :} {\cf4 BOOLEAN}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Is type of current object identical to type of }{\cf5 other}{\cf3 ?}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 ANY}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 require} {\cf3 --} {\cf3 from }{\cf4 ANY}{\line}
{\tab}{\tab}{\tab}{\cf1 other_not_void}{\cf1 :} {\cf5 other} {\cf1 /=} {\b\cf6 Void}{\line}
{\tab}{\tab}{\b\cf6 external}{\line}
{\tab}{\tab}{\tab}"built_in"{\line}
{\tab}{\tab}{\b\cf6 ensure} {\cf3 --} {\cf3 from }{\cf4 ANY}{\line}
{\tab}{\tab}{\tab}{\cf1 definition}{\cf1 :} {\b\cf6 Result} {\cf1 =} {\cf1 (}{\cf5 conforms_to}{\cf1  }{\cf1 (}{\cf5 other}{\cf1 )} {\b\cf6 and} {\cf5 other}{\b\cf1 .}{\cf5 conforms_to}{\cf1  }{\cf1 (}{\b\cf6 Current}{\cf1 )}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 virtual_bottom}{\cf1 :} {\cf4 INTEGER_32}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Bottom position of virtual screen in main display coordinates}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_SCREEN_I}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf5 virtual_y} {\cf1 +} {\cf5 virtual_height}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 virtual_left}{\cf1 :} {\cf4 INTEGER_32}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Left position of virtual screen in main display coordinates}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_SCREEN_I}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf5 virtual_x}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 virtual_right}{\cf1 :} {\cf4 INTEGER_32}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Right position of virtual screen in main display coordinates}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_SCREEN_I}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf5 virtual_x} {\cf1 +} {\cf5 virtual_width}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 virtual_top}{\cf1 :} {\cf4 INTEGER_32}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Top position of virtual screen in main display coordinates}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_SCREEN_I}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf5 virtual_y}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 widget_at_mouse_pointer}{\cf1 :} {\b\cf6 detachable} {\cf4 EV_WIDGET}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Widget at mouse pointer if any.}{\line}
{\tab}{\tab}{\b\cf6 local}{\line}
{\tab}{\tab}{\tab}{\cf5 l_widget_imp}{\cf1 :} {\b\cf6 detachable} {\cf4 EV_WIDGET_IMP}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\cf5 l_widget_imp} {\cf1 :=} {\cf5 widget_imp_at_pointer_position}{\line}
{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 l_widget_imp} {\cf1 /=} {\b\cf6 Void} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf5 l_widget_imp}{\b\cf1 .}{\cf5 interface}{\line}
{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 widget_at_position} {\cf1 (}{\cf5 x}{\cf1 ,} {\cf5 y}{\cf1 :} {\cf4 INTEGER_32}{\cf1 )}{\cf1 :} {\b\cf6 detachable} {\cf4 EV_WIDGET}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Widget at position ('x', 'y') if any.}{\line}
{\tab}{\tab}{\b\cf6 local}{\line}
{\tab}{\tab}{\tab}{\cf5 l_pointer_position}{\cf1 :} {\cf4 TUPLE} {\cf1 [}{\cf5 a_window}{\cf1 :} {\cf4 POINTER}{\cf1 ;} {\cf5 a_x}{\cf1 :} {\cf4 INTEGER_32}{\cf1 ;} {\cf5 a_y}{\cf1 :} {\cf4 INTEGER_32}{\cf1 ;} {\cf5 a_mask}{\cf1 :} {\cf4 NATURAL_32}{\cf1 ]}{\line}
{\tab}{\tab}{\tab}{\cf5 l_widget_imp}{\cf1 :} {\b\cf6 detachable} {\cf4 EV_WIDGET_IMP}{\line}
{\tab}{\tab}{\tab}{\cf5 l_change}{\cf1 :} {\cf4 BOOLEAN}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\cf5 l_pointer_position} {\cf1 :=} {\cf5 App_implementation}{\b\cf1 .}{\cf5 retrieve_display_data}{\line}
{\tab}{\tab}{\tab}{\cf5 l_change} {\cf1 :=} {\cf5 l_pointer_position}{\b\cf1 .}{\cf5 a_x} {\cf1 /=} {\cf5 x} {\b\cf6 or else} {\cf5 l_pointer_position}{\b\cf1 .}{\cf5 a_y} {\cf1 /=} {\cf5 y}{\line}
{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 l_change} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 set_pointer_position}{\cf1  }{\cf1 (}{\cf5 x}{\cf1 ,} {\cf5 y}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\tab}{\cf5 l_widget_imp} {\cf1 :=} {\cf5 widget_imp_at_pointer_position}{\line}
{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 l_change} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 set_pointer_position}{\cf1  }{\cf1 (}{\cf5 l_pointer_position}{\b\cf1 .}{\cf5 a_x}{\cf1 ,} {\cf5 l_pointer_position}{\b\cf1 .}{\cf5 a_y}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 l_widget_imp} {\cf1 /=} {\b\cf6 Void} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf5 l_widget_imp}{\b\cf1 .}{\cf5 interface}{\line}
{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 widget_imp_at_pointer_position}{\cf1 :} {\b\cf6 detachable} {\cf4 EV_WIDGET_IMP}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Widget implementation at current mouse pointer position (if any)}{\line}
{\tab}{\tab}{\b\cf6 local}{\line}
{\tab}{\tab}{\tab}{\cf5 gdkwin}{\cf1 ,} {\cf5 gtkwid}{\cf1 :} {\cf4 POINTER}{\line}
{\tab}{\tab}{\tab}{\cf5 l_display_data}{\cf1 :} {\cf4 TUPLE} {\cf1 [}{\cf5 a_window}{\cf1 :} {\cf4 POINTER}{\cf1 ;} {\cf5 a_x}{\cf1 :} {\cf4 INTEGER_32}{\cf1 ;} {\cf5 a_y}{\cf1 :} {\cf4 INTEGER_32}{\cf1 ;} {\cf5 a_mask}{\cf1 :} {\cf4 NATURAL_32}{\cf1 ]}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\cf5 l_display_data} {\cf1 :=} {\cf5 App_implementation}{\b\cf1 .}{\cf5 retrieve_display_data}{\line}
{\tab}{\tab}{\tab}{\cf5 gdkwin} {\cf1 :=} {\cf5 l_display_data}{\b\cf1 .}{\cf5 a_window}{\line}
{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 gdkwin} {\cf1 /=} {\cf5 default_pointer} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 from}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_window_get_user_data} {\cf1 (}{\cf5 gdkwin}{\cf1 ,} {\cf1 $}{\cf5 gtkwid}{\b\cf1 .}{\cf5 to_pointer}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 until}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 /=} {\b\cf6 Void} {\b\cf6 or else} {\cf5 gtkwid} {\cf1 =} {\cf5 default_pointer}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 loop}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 ?=} {\cf1 \{}{\cf4 EV_GTK_CALLBACK_MARSHAL}{\cf1 \}}{\b\cf1 .}{\cf5 c_get_eif_reference_from_object_id} {\cf1 (}{\cf5 gtkwid}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf5 gtkwid} {\cf1 :=} {\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gtk_widget_struct_parent} {\cf1 (}{\cf5 gtkwid}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 working_area_from_position} {\cf1 (}{\cf5 a_x}{\cf1 ,} {\cf5 a_y}{\cf1 :} {\cf4 INTEGER_32}{\cf1 )}{\cf1 :} {\cf4 EV_RECTANGLE}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Area available for windows of monitor nearest to coordinates (a_x, a_y).}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  E.g. it should exclude the taskbar if any.}{\line}
{\tab}{\tab}{\b\cf6 require} {\cf3 --} {\cf3 from }{\cf4 EV_SCREEN_I}{\line}
{\tab}{\tab}{\tab}{\cf1 not_destroyed}{\cf1 :} {\b\cf6 not} {\cf5 is_destroyed}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf5 monitor_area_from_position}{\cf1  }{\cf1 (}{\cf5 a_x}{\cf1 ,} {\cf5 a_y}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 working_area_from_window} {\cf1 (}{\cf5 a_window}{\cf1 :} {\cf4 EV_WINDOW}{\cf1 )}{\cf1 :} {\cf4 EV_RECTANGLE}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Area available for windows of monitor of which most of }{\cf5 a_window}{\cf3  is located.}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Returns nearest working area if }{\cf5 a_window}{\cf3  does not overlap any monitors.}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  E.g. it should exclude the taskbar if any.}{\line}
{\tab}{\tab}{\b\cf6 require} {\cf3 --} {\cf3 from }{\cf4 EV_SCREEN_I}{\line}
{\tab}{\tab}{\tab}{\cf1 not_destroyed}{\cf1 :} {\b\cf6 not} {\cf5 is_destroyed}{\line}
{\tab}{\tab}{\tab}{\cf1 not_window_destroyed}{\cf1 :} {\b\cf6 not} {\cf5 a_window}{\b\cf1 .}{\cf5 is_destroyed}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf5 monitor_area_from_window}{\cf1  }{\cf1 (}{\cf5 a_window}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\tab}{\line}
{\b\cf6 feature} {\cf1 \{}NONE{\cf1 \}} {\cf3 --}{\cf3  Status report}{\line}
{\line}
{\tab}{\cf5 {\cf5 is_in_final_collect}{\cf1 :} {\cf4 BOOLEAN}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Is GC currently performing final collection}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  after execution of current program?}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Safe to use in }{\cf5 dispose}{\cf3 .}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 DISPOSABLE}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 external}{\line}
{\tab}{\tab}{\tab}"C inline use %"eif_memory.h%""{\line}
{\tab}{\tab}{\b\cf6 alias}{\line}
{\tab}{\tab}{\tab}"return eif_is_in_final_collect;"{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\tab}{\line}
{\b\cf6 feature} {\cf3 --}{\cf3  Status setting}{\line}
{\line}
{\tab}{\cf5 {\cf5 set_default_colors}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Set foreground and background color to their default values.}{\line}
{\tab}{\tab}{\b\cf6 local}{\line}
{\tab}{\tab}{\tab}{\cf5 a_default_colors}{\cf1 :} {\cf4 EV_STOCK_COLORS}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 create} {\cf5 a_default_colors}{\line}
{\tab}{\tab}{\tab}{\cf5 set_background_color}{\cf1  }{\cf1 (}{\cf5 a_default_colors}{\b\cf1 .}{\cf5 default_background_color}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf5 set_foreground_color}{\cf1  }{\cf1 (}{\cf5 a_default_colors}{\b\cf1 .}{\cf5 default_foreground_color}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\tab}{\line}
{\b\cf6 feature} {\cf3 --}{\cf3  Element change}{\line}
{\line}
{\tab}{\cf5 {\cf5 disable_dashed_line_style}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Draw lines solid.}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 require} {\cf3 --} {\cf3 from } {\cf4 EV_DRAWABLE_I}{\line}
{\tab}{\tab}{\tab}{\b\cf6 True}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\cf5 line_style} {\cf1 :=} {\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_line_solid_enum}{\line}
{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_gc_set_line_attributes} {\cf1 (}{\cf5 gc}{\cf1 ,} {\cf5 line_width}{\cf1 ,} {\cf5 line_style}{\cf1 ,} {\cf5 cap_style}{\cf1 ,} {\cf5 join_style}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 ensure} {\cf3 --} {\cf3 from }{\cf4 EV_DRAWABLE_I}{\line}
{\tab}{\tab}{\tab}{\cf1 dashed_line_style_disabled}{\cf1 :} {\cf5 is_usable} {\b\cf6 implies} {\b\cf6 not} {\cf5 attached_interface}{\b\cf1 .}{\cf5 dashed_line_style}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 enable_dashed_line_style}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Draw lines dashed.}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 require} {\cf3 --} {\cf3 from } {\cf4 EV_DRAWABLE_I}{\line}
{\tab}{\tab}{\tab}{\b\cf6 True}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\cf5 line_style} {\cf1 :=} {\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_line_on_off_dash_enum}{\line}
{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_gc_set_line_attributes} {\cf1 (}{\cf5 gc}{\cf1 ,} {\cf5 line_width}{\cf1 ,} {\cf5 line_style}{\cf1 ,} {\cf5 cap_style}{\cf1 ,} {\cf5 join_style}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 ensure} {\cf3 --} {\cf3 from }{\cf4 EV_DRAWABLE_I}{\line}
{\tab}{\tab}{\tab}{\cf1 dashed_line_style_enabled}{\cf1 :} {\cf5 is_usable} {\b\cf6 implies} {\cf5 attached_interface}{\b\cf1 .}{\cf5 dashed_line_style}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 remove_clipping}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Do not apply any clipping.}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 require} {\cf3 --} {\cf3 from } {\cf4 EV_DRAWABLE_I}{\line}
{\tab}{\tab}{\tab}{\b\cf6 True}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\cf5 gc_clip_area} {\cf1 :=} {\b\cf6 Void}{\line}
{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_gc_set_clip_rectangle} {\cf1 (}{\cf5 gc}{\cf1 ,} {\cf5 default_pointer}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_gc_set_clip_region} {\cf1 (}{\cf5 gc}{\cf1 ,} {\cf5 default_pointer}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 ensure} {\cf3 --} {\cf3 from }{\cf4 EV_DRAWABLE_I}{\line}
{\tab}{\tab}{\tab}{\cf1 clip_area_void}{\cf1 :} {\cf5 is_usable} {\b\cf6 implies} {\cf5 attached_interface}{\b\cf1 .}{\cf5 clip_area} {\cf1 =} {\b\cf6 Void}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 remove_tile}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Do not apply a tile when filling.}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 require} {\cf3 --} {\cf3 from } {\cf4 EV_DRAWABLE_I}{\line}
{\tab}{\tab}{\tab}{\b\cf6 True}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\cf5 tile} {\cf1 :=} {\b\cf6 Void}{\line}
{\tab}{\tab}{\b\cf6 ensure} {\cf3 --} {\cf3 from }{\cf4 EV_DRAWABLE_I}{\line}
{\tab}{\tab}{\tab}{\cf1 tile_void}{\cf1 :} {\cf5 is_usable} {\b\cf6 implies} {\cf5 attached_interface}{\b\cf1 .}{\cf5 tile} {\cf1 =} {\b\cf6 Void}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 set_background_color} {\cf1 (}{\cf5 a_color}{\cf1 :} {\cf4 EV_COLOR}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Assign }{\cf5 a_color}{\cf3  to }{\cf5 background_color}{\cf3 .}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 require} {\cf3 --} {\cf3 from }{\cf4 EV_COLORIZABLE_I}{\line}
{\tab}{\tab}{\tab}{\cf1 a_color_not_void}{\cf1 :} {\cf5 a_color} {\cf1 /=} {\b\cf6 Void}{\line}
{\tab}{\tab}{\b\cf6 local}{\line}
{\tab}{\tab}{\tab}{\cf5 l_internal_background_color}{\cf1 :} {\b\cf6 detachable} {\b\cf6 like} {\cf5 internal_background_color}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\cf5 l_internal_background_color} {\cf1 :=} {\cf5 internal_background_color}{\line}
{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 l_internal_background_color} {\cf1 =} {\b\cf6 Void} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 create} {\cf5 l_internal_background_color}{\b\cf1 .}{\cf5 make_with_8_bit_rgb}{\cf1  }{\cf1 (}255{\cf1 ,} 255{\cf1 ,} 255{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 internal_background_color} {\cf1 :=} {\cf5 l_internal_background_color}{\line}
{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\tab}{\b\cf6 if} {\b\cf6 not} {\cf5 l_internal_background_color}{\b\cf1 .}{\cf5 is_equal}{\cf1  }{\cf1 (}{\cf5 a_color}{\cf1 )} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 l_internal_background_color}{\b\cf1 .}{\cf5 set_red_with_8_bit}{\cf1  }{\cf1 (}{\cf5 a_color}{\b\cf1 .}{\cf5 red_8_bit}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 l_internal_background_color}{\b\cf1 .}{\cf5 set_green_with_8_bit}{\cf1  }{\cf1 (}{\cf5 a_color}{\b\cf1 .}{\cf5 green_8_bit}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 l_internal_background_color}{\b\cf1 .}{\cf5 set_blue_with_8_bit}{\cf1  }{\cf1 (}{\cf5 a_color}{\b\cf1 .}{\cf5 blue_8_bit}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 internal_set_color}{\cf1  }{\cf1 (}{\b\cf6 False}{\cf1 ,} {\cf5 a_color}{\b\cf1 .}{\cf5 red_16_bit}{\cf1 ,} {\cf5 a_color}{\b\cf1 .}{\cf5 green_16_bit}{\cf1 ,} {\cf5 a_color}{\b\cf1 .}{\cf5 blue_16_bit}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\b\cf6 ensure} {\cf3 --} {\cf3 from }{\cf4 EV_COLORIZABLE_I}{\line}
{\tab}{\tab}{\tab}{\cf1 background_color_assigned}{\cf1 :} {\cf5 is_initialized} {\b\cf6 implies} {\cf5 background_color}{\b\cf1 .}{\cf5 is_equal}{\cf1  }{\cf1 (}{\cf5 a_color}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 set_clip_area} {\cf1 (}{\cf5 an_area}{\cf1 :} {\cf4 EV_RECTANGLE}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Set an area to clip to.}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 require} {\cf3 --} {\cf3 from }{\cf4 EV_DRAWABLE_I}{\line}
{\tab}{\tab}{\tab}{\cf1 an_area_not_void}{\cf1 :} {\cf5 an_area} {\cf1 /=} {\b\cf6 Void}{\line}
{\tab}{\tab}{\b\cf6 local}{\line}
{\tab}{\tab}{\tab}{\cf5 rectangle_struct}{\cf1 :} {\cf4 POINTER}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\cf5 gc_clip_area} {\cf1 :=} {\cf5 an_area}{\b\cf1 .}{\cf5 twin}{\line}
{\tab}{\tab}{\tab}{\cf5 rectangle_struct} {\cf1 :=} {\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 c_gdk_rectangle_struct_allocate}{\line}
{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 set_gdk_rectangle_struct_x} {\cf1 (}{\cf5 rectangle_struct}{\cf1 ,} {\cf5 an_area}{\b\cf1 .}{\cf5 x} {\cf1 +} {\cf5 device_x_offset}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 set_gdk_rectangle_struct_y} {\cf1 (}{\cf5 rectangle_struct}{\cf1 ,} {\cf5 an_area}{\b\cf1 .}{\cf5 y} {\cf1 +} {\cf5 device_y_offset}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 set_gdk_rectangle_struct_width} {\cf1 (}{\cf5 rectangle_struct}{\cf1 ,} {\cf5 an_area}{\b\cf1 .}{\cf5 width}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 set_gdk_rectangle_struct_height} {\cf1 (}{\cf5 rectangle_struct}{\cf1 ,} {\cf5 an_area}{\b\cf1 .}{\cf5 height}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_gc_set_clip_region} {\cf1 (}{\cf5 gc}{\cf1 ,} {\cf5 default_pointer}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_gc_set_clip_rectangle} {\cf1 (}{\cf5 gc}{\cf1 ,} {\cf5 rectangle_struct}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf5 rectangle_struct}{\b\cf1 .}{\cf5 memory_free}{\line}
{\tab}{\tab}{\b\cf6 ensure} {\cf3 --} {\cf3 from }{\cf4 EV_DRAWABLE_I}{\line}
{\tab}{\tab}{\tab}{\cf1 clip_area_assigned}{\cf1 :} {\cf5 is_usable} {\b\cf6 implies} {\b\cf6 attached} {\cf5 attached_interface}{\b\cf1 .}{\cf5 clip_area} {\b\cf6 as} l_clip_area {\b\cf6 and then} {\cf5 an_area}{\b\cf1 .}{\cf5 is_equal}{\cf1  }{\cf1 (}{\cf5 l_clip_area}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 set_clip_region} {\cf1 (}{\cf5 a_region}{\cf1 :} {\cf4 EV_REGION}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Set a region to clip to.}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 require} {\cf3 --} {\cf3 from }{\cf4 EV_DRAWABLE_I}{\line}
{\tab}{\tab}{\tab}{\cf1 a_region_not_void}{\cf1 :} {\cf5 a_region} {\cf1 /=} {\b\cf6 Void}{\line}
{\tab}{\tab}{\b\cf6 local}{\line}
{\tab}{\tab}{\tab}{\cf5 a_region_imp}{\cf1 :} {\b\cf6 detachable} {\cf4 EV_REGION_IMP}{\line}
{\tab}{\tab}{\tab}{\cf5 rectangle_struct}{\cf1 :} {\cf4 POINTER}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\cf5 rectangle_struct} {\cf1 :=} {\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 c_gdk_rectangle_struct_allocate}{\line}
{\tab}{\tab}{\tab}{\cf5 a_region_imp} {\cf1 ?=} {\cf5 a_region}{\b\cf1 .}{\cf5 implementation}{\line}
{\tab}{\tab}{\tab}{\b\cf6 check}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf5 a_region_imp} {\cf1 /=} {\b\cf6 Void}{\line}
{\tab}{\tab}{\tab}{\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_region_get_clipbox} {\cf1 (}{\cf5 a_region_imp}{\b\cf1 .}{\cf5 gdk_region}{\cf1 ,} {\cf5 rectangle_struct}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\b\cf6 create} {\cf5 gc_clip_area}{\b\cf1 .}{\cf5 make}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_rectangle_struct_x} {\cf1 (}{\cf5 rectangle_struct}{\cf1 )} {\cf1 +} {\cf5 device_x_offset}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 ,} {\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_rectangle_struct_y} {\cf1 (}{\cf5 rectangle_struct}{\cf1 )} {\cf1 +} {\cf5 device_y_offset}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 ,} {\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_rectangle_struct_width} {\cf1 (}{\cf5 rectangle_struct}{\cf1 )}{\cf1 ,} {\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_rectangle_struct_height} {\cf1 (}{\cf5 rectangle_struct}{\cf1 )}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_gc_set_clip_rectangle} {\cf1 (}{\cf5 gc}{\cf1 ,} {\cf5 default_pointer}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_gc_set_clip_region} {\cf1 (}{\cf5 gc}{\cf1 ,} {\cf5 a_region_imp}{\b\cf1 .}{\cf5 gdk_region}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf5 rectangle_struct}{\b\cf1 .}{\cf5 memory_free}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 set_drawing_mode} {\cf1 (}{\cf5 a_mode}{\cf1 :} {\cf4 INTEGER_32}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Set drawing mode to }{\cf5 a_mode}{\cf3 .}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 require} {\cf3 --} {\cf3 from }{\cf4 EV_DRAWABLE_I}{\line}
{\tab}{\tab}{\tab}{\cf1 a_mode_valid}{\cf1 :} {\cf5 valid_drawing_mode}{\cf1  }{\cf1 (}{\cf5 a_mode}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 local}{\line}
{\tab}{\tab}{\tab}{\cf5 l_gc}{\cf1 :} {\b\cf6 like} {\cf5 gc}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\cf5 l_gc} {\cf1 :=} {\cf5 gc}{\line}
{\tab}{\tab}{\tab}{\b\cf6 inspect} {\cf5 a_mode}{\line}
{\tab}{\tab}{\tab}{\b\cf6 when} {\cf5 Drawing_mode_copy} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_gc_set_function} {\cf1 (}{\cf5 l_gc}{\cf1 ,} {\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_copy_enum}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\b\cf6 when} {\cf5 Drawing_mode_xor} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_gc_set_function} {\cf1 (}{\cf5 l_gc}{\cf1 ,} {\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_xor_enum}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\b\cf6 when} {\cf5 Drawing_mode_invert} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_gc_set_function} {\cf1 (}{\cf5 l_gc}{\cf1 ,} {\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_invert_enum}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\b\cf6 when} {\cf5 Drawing_mode_and} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_gc_set_function} {\cf1 (}{\cf5 l_gc}{\cf1 ,} {\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_and_enum}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\b\cf6 when} {\cf5 Drawing_mode_or} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_gc_set_function} {\cf1 (}{\cf5 l_gc}{\cf1 ,} {\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_or_enum}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\b\cf6 else}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 check}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf1 drawing_mode_existent}{\cf1 :} {\b\cf6 False}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\b\cf6 ensure} {\cf3 --} {\cf3 from }{\cf4 EV_DRAWABLE_I}{\line}
{\tab}{\tab}{\tab}{\cf1 drawing_mode_assigned}{\cf1 :} {\cf5 is_usable} {\b\cf6 implies} {\cf5 attached_interface}{\b\cf1 .}{\cf5 drawing_mode} {\cf1 =} {\cf5 a_mode}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 set_font} {\cf1 (}{\cf5 a_font}{\cf1 :} {\cf4 EV_FONT}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Set }{\cf5 font}{\cf3  to }{\cf5 a_font}{\cf3 .}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 require} {\cf3 --} {\cf3 from }{\cf4 EV_FONTABLE_I}{\line}
{\tab}{\tab}{\tab}{\cf1 a_font_not_void}{\cf1 :} {\cf5 a_font} {\cf1 /=} {\b\cf6 Void}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 if} {\b\cf6 attached} {\cf1 \{}{\cf4 EV_FONT_IMP}{\cf1 \}} {\cf5 a_font}{\b\cf1 .}{\cf5 implementation} {\b\cf6 as} l_font_imp {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 internal_font_imp} {\cf1 :=} {\cf5 l_font_imp}{\line}
{\tab}{\tab}{\tab}{\b\cf6 else}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 check}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\tab}{\b\cf6 False}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\b\cf6 ensure} {\cf3 --} {\cf3 from }{\cf4 EV_FONTABLE_I}{\line}
{\tab}{\tab}{\tab}{\cf1 assigned}{\cf1 :} {\cf5 is_usable} {\b\cf6 implies} {\cf5 font}{\b\cf1 .}{\cf5 is_equal}{\cf1  }{\cf1 (}{\cf5 a_font}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 set_foreground_color} {\cf1 (}{\cf5 a_color}{\cf1 :} {\cf4 EV_COLOR}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Assign }{\cf5 a_color}{\cf3  to }{\cf5 foreground_color}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 require} {\cf3 --} {\cf3 from }{\cf4 EV_COLORIZABLE_I}{\line}
{\tab}{\tab}{\tab}{\cf1 a_color_not_void}{\cf1 :} {\cf5 a_color} {\cf1 /=} {\b\cf6 Void}{\line}
{\tab}{\tab}{\b\cf6 local}{\line}
{\tab}{\tab}{\tab}{\cf5 l_internal_foreground_color}{\cf1 :} {\b\cf6 detachable} {\b\cf6 like} {\cf5 internal_foreground_color}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\cf5 l_internal_foreground_color} {\cf1 :=} {\cf5 internal_foreground_color}{\line}
{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 l_internal_foreground_color} {\cf1 =} {\b\cf6 Void} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 create} {\cf5 l_internal_foreground_color}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 internal_foreground_color} {\cf1 :=} {\cf5 l_internal_foreground_color}{\line}
{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\tab}{\b\cf6 if} {\b\cf6 not} {\cf5 l_internal_foreground_color}{\b\cf1 .}{\cf5 is_equal}{\cf1  }{\cf1 (}{\cf5 a_color}{\cf1 )} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 l_internal_foreground_color}{\b\cf1 .}{\cf5 set_red_with_8_bit}{\cf1  }{\cf1 (}{\cf5 a_color}{\b\cf1 .}{\cf5 red_8_bit}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 l_internal_foreground_color}{\b\cf1 .}{\cf5 set_green_with_8_bit}{\cf1  }{\cf1 (}{\cf5 a_color}{\b\cf1 .}{\cf5 green_8_bit}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 l_internal_foreground_color}{\b\cf1 .}{\cf5 set_blue_with_8_bit}{\cf1  }{\cf1 (}{\cf5 a_color}{\b\cf1 .}{\cf5 blue_8_bit}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 internal_set_color}{\cf1  }{\cf1 (}{\b\cf6 True}{\cf1 ,} {\cf5 a_color}{\b\cf1 .}{\cf5 red_16_bit}{\cf1 ,} {\cf5 a_color}{\b\cf1 .}{\cf5 green_16_bit}{\cf1 ,} {\cf5 a_color}{\b\cf1 .}{\cf5 blue_16_bit}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\b\cf6 ensure} {\cf3 --} {\cf3 from }{\cf4 EV_COLORIZABLE_I}{\line}
{\tab}{\tab}{\tab}{\cf1 foreground_color_assigned}{\cf1 :} {\cf5 is_initialized} {\b\cf6 implies} {\cf5 foreground_color}{\b\cf1 .}{\cf5 is_equal}{\cf1  }{\cf1 (}{\cf5 a_color}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 set_line_width} {\cf1 (}{\cf5 a_width}{\cf1 :} {\cf4 INTEGER_32}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Assign }{\cf5 a_width}{\cf3  to }{\cf5 line_width}{\cf3 .}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 require} {\cf3 --} {\cf3 from }{\cf4 EV_DRAWABLE_I}{\line}
{\tab}{\tab}{\tab}{\cf1 a_width_positive_or_zero}{\cf1 :} {\cf5 a_width} {\cf1 >=} 0{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_gc_set_line_attributes} {\cf1 (}{\cf5 gc}{\cf1 ,} {\cf5 a_width}{\cf1 ,} {\cf5 line_style}{\cf1 ,} {\cf5 cap_style}{\cf1 ,} {\cf5 join_style}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 ensure} {\cf3 --} {\cf3 from }{\cf4 EV_DRAWABLE_I}{\line}
{\tab}{\tab}{\tab}{\cf1 line_width_assigned}{\cf1 :} {\cf5 is_usable} {\b\cf6 implies} {\cf5 attached_interface}{\b\cf1 .}{\cf5 line_width} {\cf1 =} {\cf5 a_width}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 set_tile} {\cf1 (}{\cf5 a_pixmap}{\cf1 :} {\cf4 EV_PIXMAP}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Set tile used to fill figures.}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Set to Void to use }{\cf5 background_color}{\cf3  to fill.}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 require} {\cf3 --} {\cf3 from }{\cf4 EV_DRAWABLE_I}{\line}
{\tab}{\tab}{\tab}{\cf1 a_pixmap_not_void}{\cf1 :} {\cf5 a_pixmap} {\cf1 /=} {\b\cf6 Void}{\line}
{\tab}{\tab}{\b\cf6 local}{\line}
{\tab}{\tab}{\tab}{\cf5 tile_imp}{\cf1 :} {\b\cf6 detachable} {\cf4 EV_PIXMAP_IMP}{\line}
{\tab}{\tab}{\tab}{\cf5 l_tile}{\cf1 :} {\b\cf6 like} {\cf5 tile}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 create} {\cf5 l_tile}{\line}
{\tab}{\tab}{\tab}{\cf5 tile} {\cf1 :=} {\cf5 l_tile}{\line}
{\tab}{\tab}{\tab}{\cf5 l_tile}{\b\cf1 .}{\cf5 copy}{\cf1  }{\cf1 (}{\cf5 a_pixmap}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf5 tile_imp} {\cf1 ?=} {\cf5 l_tile}{\b\cf1 .}{\cf5 implementation}{\line}
{\tab}{\tab}{\tab}{\b\cf6 check}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf5 tile_imp} {\cf1 /=} {\b\cf6 Void}{\line}
{\tab}{\tab}{\tab}{\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_gc_set_tile} {\cf1 (}{\cf5 gc}{\cf1 ,} {\cf5 tile_imp}{\b\cf1 .}{\cf5 drawable}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 ensure} {\cf3 --} {\cf3 from }{\cf4 EV_DRAWABLE_I}{\line}
{\tab}{\tab}{\tab}{\cf1 tile_assigned}{\cf1 :} {\cf5 is_usable} {\b\cf6 implies} {\cf5 attached_interface}{\b\cf1 .}{\cf5 tile} {\cf1 /=} {\b\cf6 Void}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\tab}{\line}
{\b\cf6 feature} {\cf3 --}{\cf3  Duplication}{\line}
{\line}
{\tab}{\cf5 {\b\cf6 frozen} {\cf5 clone} {\cf1 (}{\cf5 other}{\cf1 :} {\b\cf6 detachable} {\cf4 ANY}{\cf1 )}{\cf1 :} {\b\cf6 like} {\cf5 other}{\line}
{\tab}{\tab}{\b\cf6 obsolete} "Use `twin' instead. [2017-05-31]"{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Void if }{\cf5 other}{\cf3  is void; otherwise new object}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  equal to }{\cf5 other}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  For non-void }{\cf5 other}{\cf3 , }{\cf5 clone}{\cf3  calls }{\cf5 copy}{\cf3 ;}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  to change copying/cloning semantics, redefine }{\cf5 copy}{\cf3 .}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 ANY}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 other} {\cf1 /=} {\b\cf6 Void} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf5 other}{\b\cf1 .}{\cf5 twin}{\line}
{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\b\cf6 ensure} {\cf3 --} {\cf3 from }{\cf4 ANY}{\line}
{\tab}{\tab}{\tab}{\cf1 equal}{\cf1 :} {\b\cf6 Result} {\cf1 ~} {\cf5 other}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 copy} {\cf1 (}{\cf5 other}{\cf1 :} {\b\cf6 attached} {\cf4 EV_SCREEN_IMP}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Update current object using fields of object attached}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  to }{\cf5 other}{\cf3 , so as to yield equal objects.}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 ANY}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 require} {\cf3 --} {\cf3 from }{\cf4 ANY}{\line}
{\tab}{\tab}{\tab}{\cf1 other_not_void}{\cf1 :} {\cf5 other} {\cf1 /=} {\b\cf6 Void}{\line}
{\tab}{\tab}{\tab}{\cf1 type_identity}{\cf1 :} {\cf5 same_type}{\cf1  }{\cf1 (}{\cf5 other}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 external}{\line}
{\tab}{\tab}{\tab}"built_in"{\line}
{\tab}{\tab}{\b\cf6 ensure} {\cf3 --} {\cf3 from }{\cf4 ANY}{\line}
{\tab}{\tab}{\tab}{\cf1 is_equal}{\cf1 :} {\b\cf6 Current} {\cf1 ~} {\cf5 other}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\b\cf6 frozen} {\cf5 deep_clone} {\cf1 (}{\cf5 other}{\cf1 :} {\b\cf6 detachable} {\cf4 ANY}{\cf1 )}{\cf1 :} {\b\cf6 like} {\cf5 other}{\line}
{\tab}{\tab}{\b\cf6 obsolete} "Use `deep_twin' instead. [2017-05-31]"{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Void if }{\cf5 other}{\cf3  is void: otherwise, new object structure}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  recursively duplicated from the one attached to }{\cf5 other}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 ANY}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 other} {\cf1 /=} {\b\cf6 Void} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf5 other}{\b\cf1 .}{\cf5 deep_twin}{\line}
{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\b\cf6 ensure} {\cf3 --} {\cf3 from }{\cf4 ANY}{\line}
{\tab}{\tab}{\tab}{\cf1 deep_equal}{\cf1 :} {\cf5 deep_equal}{\cf1  }{\cf1 (}{\cf5 other}{\cf1 ,} {\b\cf6 Result}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\b\cf6 frozen} {\cf5 deep_copy} {\cf1 (}{\cf5 other}{\cf1 :} {\b\cf6 attached} {\cf4 EV_SCREEN_IMP}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Effect equivalent to that of:}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3 		}{\cf5 copy}{\cf3  (}{\cf5 other}{\cf3  . }{\cf5 deep_twin}{\cf3 )}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 ANY}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 require} {\cf3 --} {\cf3 from }{\cf4 ANY}{\line}
{\tab}{\tab}{\tab}{\cf1 other_not_void}{\cf1 :} {\cf5 other} {\cf1 /=} {\b\cf6 Void}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\cf5 copy}{\cf1  }{\cf1 (}{\cf5 other}{\b\cf1 .}{\cf5 deep_twin}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 ensure} {\cf3 --} {\cf3 from }{\cf4 ANY}{\line}
{\tab}{\tab}{\tab}{\cf1 deep_equal}{\cf1 :} {\cf5 deep_equal}{\cf1  }{\cf1 (}{\b\cf6 Current}{\cf1 ,} {\cf5 other}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\b\cf6 frozen} {\cf5 deep_twin}{\cf1 :} {\b\cf6 attached} {\cf4 EV_SCREEN_IMP}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  New object structure recursively duplicated from Current.}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 ANY}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 external}{\line}
{\tab}{\tab}{\tab}"built_in"{\line}
{\tab}{\tab}{\b\cf6 ensure} {\cf3 --} {\cf3 from }{\cf4 ANY}{\line}
{\tab}{\tab}{\tab}{\cf1 deep_twin_not_void}{\cf1 :} {\b\cf6 Result} {\cf1 /=} {\b\cf6 Void}{\line}
{\tab}{\tab}{\tab}{\cf1 deep_equal}{\cf1 :} {\cf5 deep_equal}{\cf1  }{\cf1 (}{\b\cf6 Current}{\cf1 ,} {\b\cf6 Result}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\b\cf6 frozen} {\cf5 standard_clone} {\cf1 (}{\cf5 other}{\cf1 :} {\b\cf6 detachable} {\cf4 ANY}{\cf1 )}{\cf1 :} {\b\cf6 like} {\cf5 other}{\line}
{\tab}{\tab}{\b\cf6 obsolete} "Use `standard_twin' instead. [2017-05-31]"{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Void if }{\cf5 other}{\cf3  is void; otherwise new object}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  field-by-field identical to }{\cf5 other}{\cf3 .}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Always uses default copying semantics.}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 ANY}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 other} {\cf1 /=} {\b\cf6 Void} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf5 other}{\b\cf1 .}{\cf5 standard_twin}{\line}
{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\b\cf6 ensure} {\cf3 --} {\cf3 from }{\cf4 ANY}{\line}
{\tab}{\tab}{\tab}{\cf1 equal}{\cf1 :} {\cf5 standard_equal}{\cf1  }{\cf1 (}{\b\cf6 Result}{\cf1 ,} {\cf5 other}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\b\cf6 frozen} {\cf5 standard_copy} {\cf1 (}{\cf5 other}{\cf1 :} {\b\cf6 attached} {\cf4 EV_SCREEN_IMP}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Copy every field of }{\cf5 other}{\cf3  onto corresponding field}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  of current object.}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 ANY}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 require} {\cf3 --} {\cf3 from }{\cf4 ANY}{\line}
{\tab}{\tab}{\tab}{\cf1 other_not_void}{\cf1 :} {\cf5 other} {\cf1 /=} {\b\cf6 Void}{\line}
{\tab}{\tab}{\tab}{\cf1 type_identity}{\cf1 :} {\cf5 same_type}{\cf1  }{\cf1 (}{\cf5 other}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 external}{\line}
{\tab}{\tab}{\tab}"built_in"{\line}
{\tab}{\tab}{\b\cf6 ensure} {\cf3 --} {\cf3 from }{\cf4 ANY}{\line}
{\tab}{\tab}{\tab}{\cf1 is_standard_equal}{\cf1 :} {\cf5 standard_is_equal}{\cf1  }{\cf1 (}{\cf5 other}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\b\cf6 frozen} {\cf5 standard_twin}{\cf1 :} {\b\cf6 attached} {\cf4 EV_SCREEN_IMP}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  New object field-by-field identical to }{\cf5 other}{\cf3 .}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Always uses default copying semantics.}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 ANY}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 external}{\line}
{\tab}{\tab}{\tab}"built_in"{\line}
{\tab}{\tab}{\b\cf6 ensure} {\cf3 --} {\cf3 from }{\cf4 ANY}{\line}
{\tab}{\tab}{\tab}{\cf1 standard_twin_not_void}{\cf1 :} {\b\cf6 Result} {\cf1 /=} {\b\cf6 Void}{\line}
{\tab}{\tab}{\tab}{\cf1 equal}{\cf1 :} {\cf5 standard_equal}{\cf1  }{\cf1 (}{\b\cf6 Result}{\cf1 ,} {\b\cf6 Current}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\b\cf6 frozen} {\cf5 twin}{\cf1 :} {\b\cf6 attached} {\cf4 EV_SCREEN_IMP}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  New object equal to }{\cf5 Current}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  }{\cf5 twin}{\cf3  calls }{\cf5 copy}{\cf3 ; to change copying/twinning semantics, redefine }{\cf5 copy}{\cf3 .}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 ANY}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 external}{\line}
{\tab}{\tab}{\tab}"built_in"{\line}
{\tab}{\tab}{\b\cf6 ensure} {\cf3 --} {\cf3 from }{\cf4 ANY}{\line}
{\tab}{\tab}{\tab}{\cf1 twin_not_void}{\cf1 :} {\b\cf6 Result} {\cf1 /=} {\b\cf6 Void}{\line}
{\tab}{\tab}{\tab}{\cf1 is_equal}{\cf1 :} {\b\cf6 Result} {\cf1 ~} {\b\cf6 Current}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\tab}{\line}
{\b\cf6 feature} {\cf3 --}{\cf3  Basic operations}{\line}
{\line}
{\tab}{\cf5 {\b\cf6 frozen} {\cf5 as_attached}{\cf1 :} {\b\cf6 attached} {\cf4 EV_SCREEN_IMP}{\line}
{\tab}{\tab}{\b\cf6 obsolete} "Remove calls to this feature. [2017-05-31]"{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Attached version of Current.}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  (Can be used during transitional period to convert}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  non-void-safe classes to void-safe ones.)}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 ANY}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\b\cf6 Current}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\b\cf6 frozen} {\cf5 default}{\cf1 :} {\b\cf6 detachable} {\cf4 EV_SCREEN_IMP}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Default value of object's type}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 ANY}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\b\cf6 frozen} {\cf5 default_pointer}{\cf1 :} {\cf4 POINTER}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Default value of type }{\cf5 POINTER}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  (Avoid the need to write }{\cf5 p}{\cf3 .}{\cf5 default}{\cf3  for}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  some }{\cf5 p}{\cf3  of type }{\cf5 POINTER}{\cf3 .)}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 ANY}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 default_rescue}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Process exception for routines with no Rescue clause.}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  (Default: do nothing.)}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 ANY}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\b\cf6 frozen} {\cf5 do_nothing}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Execute a null action.}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 ANY}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\tab}{\line}
{\b\cf6 feature} {\cf1 \{}NONE{\cf1 \}} {\cf3 --}{\cf3  Implementation}{\line}
{\line}
{\tab}{\cf5 {\cf5 App_implementation}{\cf1 :} {\cf4 EV_APPLICATION_IMP}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Return the instance of EV_APPLICATION_IMP.}{\line}
{\tab}{\tab}{\b\cf6 local}{\line}
{\tab}{\tab}{\tab}{\cf5 l_result}{\cf1 :} {\b\cf6 detachable} {\cf4 EV_APPLICATION_IMP}{\line}
{\tab}{\tab}{\b\cf6 once}{\line}
{\tab}{\tab}{\tab}{\cf5 l_result} {\cf1 ?=} {\cf1 (}{\b\cf6 create}{\cf1  }{\cf1 \{}{\cf4 EV_ENVIRONMENT}{\cf1 \}}{\cf1 )}{\b\cf1 .}{\cf5 implementation}{\b\cf1 .}{\cf5 application_i}{\line}
{\tab}{\tab}{\tab}{\b\cf6 check}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf5 l_result} {\cf1 /=} {\b\cf6 Void}{\line}
{\tab}{\tab}{\tab}{\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf5 l_result}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 Bg_color}{\cf1 :} {\cf4 POINTER}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Default allocate foreground color.}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 local}{\line}
{\tab}{\tab}{\tab}{\cf5 a_success}{\cf1 :} {\cf4 BOOLEAN}{\line}
{\tab}{\tab}{\b\cf6 once}{\line}
{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 c_gdk_color_struct_allocate}{\line}
{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 set_gdk_color_struct_red} {\cf1 (}{\b\cf6 Result}{\cf1 ,} 65535{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 set_gdk_color_struct_green} {\cf1 (}{\b\cf6 Result}{\cf1 ,} 65535{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 set_gdk_color_struct_blue} {\cf1 (}{\b\cf6 Result}{\cf1 ,} 65535{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf5 a_success} {\cf1 :=} {\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_colormap_alloc_color} {\cf1 (}{\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_screen_get_rgb_colormap} {\cf1 (}{\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_screen_get_default}{\cf1 )}{\cf1 ,} {\b\cf6 Result}{\cf1 ,} {\b\cf6 False}{\cf1 ,} {\b\cf6 True}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 corruptable_onscreen}{\cf1 :} {\cf4 BOOLEAN}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Is pixel data corruptable if displayed on screen.}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  True if drawing area or screen.}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\b\cf6 True}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 destroy}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Destroy underlying native toolkit objects.}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Render }{\cf5 Current}{\cf3  unusable.}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Any feature calls after a call to destroy are}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  invalid.}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\cf5 dispose}{\line}
{\tab}{\tab}{\tab}{\cf5 set_is_destroyed}{\cf1  }{\cf1 (}{\b\cf6 True}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 ensure} {\cf3 --} {\cf3 from }{\cf4 EV_ANY_I}{\line}
{\tab}{\tab}{\tab}{\cf1 is_in_destroy_set}{\cf1 :} {\cf5 is_in_destroy}{\line}
{\tab}{\tab}{\tab}{\cf1 is_destroyed_set}{\cf1 :} {\cf5 is_destroyed}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 device_x_offset}{\cf1 :} {\cf4 INTEGER_16}}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Number of pixels to offset the x coord to get correct device placement}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\line}
{\tab}{\cf5 {\cf5 device_y_offset}{\cf1 :} {\cf4 INTEGER_16}}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Number of pixels to offset to y coord to get correct device placement.}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\line}
{\tab}{\cf5 {\cf5 dispose}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Cleanup}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 gc} {\cf1 /=} {\cf5 default_pointer} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 gdk_gc_unref}{\cf1  }{\cf1 (}{\cf5 gc}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 gc} {\cf1 :=} {\cf5 default_pointer}{\line}
{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 draw_mask_on_pixbuf} {\cf1 (}{\cf5 a_pixbuf_ptr}{\cf1 ,} {\cf5 a_mask_ptr}{\cf1 :} {\cf4 POINTER}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 require} {\cf3 --} {\cf3 from }{\cf4 EV_DRAWABLE_IMP}{\line}
{\tab}{\tab}{\tab}{\cf1 a_pixbuf_ptr_has_alpha}{\cf1 :} {\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_pixbuf_get_has_alpha} {\cf1 (}{\cf5 a_pixbuf_ptr}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf1 a_mask_ptr_has_alpha}{\cf1 :} {\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_pixbuf_get_has_alpha} {\cf1 (}{\cf5 a_mask_ptr}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 external}{\line}
{\tab}{\tab}{\tab}"C inline use <ev_gtk.h>"{\line}
{\tab}{\tab}{\b\cf6 alias}{\line}
{\tab}{\tab}{\tab}"[{\line}
{\tab}{\tab}{\tab}{\tab}\{{\line}
{\tab}{\tab}{\tab}{\tab}	guint32 x, y;{\line}
{\tab}{\tab}{\tab}{\tab}	guint32 l_pix_height,l_pix_width;{\line}
{\tab}{\tab}{\tab}{\tab}	guint32 l_pix_row_stride;{\line}
{\tab}{\tab}{\tab}{\tab}	guint32 l_mask_row_stride;{\line}
{\tab}{\tab}{\tab}{\tab}	GdkPixbuf *pixbuf, *mask;{\line}
{\tab}{\tab}{\tab}{\tab}	guchar *l_mask_pixels, *l_pixbuf_pixels;{\line}
{\tab}{\tab}{\tab}{\tab}	pixbuf = (GdkPixbuf*) arg1;{\line}
{\tab}{\tab}{\tab}{\tab}	mask = (GdkPixbuf*) arg2;{\line}
{\tab}{\tab}{\tab}{\tab}	l_pix_height = gdk_pixbuf_get_height (pixbuf);{\line}
{\tab}{\tab}{\tab}{\tab}	l_pix_width = gdk_pixbuf_get_width (pixbuf);{\line}
{\tab}{\tab}{\tab}{\tab}	l_pix_row_stride = gdk_pixbuf_get_rowstride(pixbuf);{\line}
{\tab}{\tab}{\tab}{\tab}	l_mask_row_stride = gdk_pixbuf_get_rowstride(mask);{\line}
{\tab}{\tab}{\tab}{\tab}	l_mask_pixels = gdk_pixbuf_get_pixels (mask);{\line}
{\tab}{\tab}{\tab}{\tab}	l_pixbuf_pixels = gdk_pixbuf_get_pixels (pixbuf);{\line}
{\tab}{\tab}{\tab}{\tab}	for (y = 0; y < l_pix_height; y++) \{{\line}
{\tab}{\tab}{\tab}{\tab}		guchar *src, *dest;{\line}
{\tab}{\tab}{\tab}{\tab}		src = (l_mask_pixels + (y * l_mask_row_stride));{\line}
{\tab}{\tab}{\tab}{\tab}		dest = (l_pixbuf_pixels + (y * l_pix_row_stride));{\line}
{\tab}{\tab}{\tab}{\tab}		for (x = 0; x < l_pix_width; x++) \{{\line}
{\tab}{\tab}{\tab}{\tab}			if (src [0] == (guchar)0) \{{\line}
{\tab}{\tab}{\tab}{\tab}				dest [3] = (guchar)0;{\line}
{\tab}{\tab}{\tab}{\tab}			\}{\line}
{\tab}{\tab}{\tab}{\tab}			src += 4;{\line}
{\tab}{\tab}{\tab}{\tab}			dest += 4;{\line}
{\tab}{\tab}{\tab}{\tab}		\}{\line}
{\tab}{\tab}{\tab}{\tab}	\}{\line}
{\tab}{\tab}{\tab}{\tab}\}{\line}
{\tab}{\tab}{\tab}]"{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 drawable}{\cf1 :} {\cf4 POINTER}}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Pointer to the screen (root window)}{\line}
{\line}
{\tab}{\cf5 {\cf5 Fg_color}{\cf1 :} {\cf4 POINTER}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Default allocated background color.}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 local}{\line}
{\tab}{\tab}{\tab}{\cf5 a_success}{\cf1 :} {\cf4 BOOLEAN}{\line}
{\tab}{\tab}{\b\cf6 once}{\line}
{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 c_gdk_color_struct_allocate}{\line}
{\tab}{\tab}{\tab}{\cf5 a_success} {\cf1 :=} {\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_colormap_alloc_color} {\cf1 (}{\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_screen_get_rgb_colormap} {\cf1 (}{\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_screen_get_default}{\cf1 )}{\cf1 ,} {\b\cf6 Result}{\cf1 ,} {\b\cf6 False}{\cf1 ,} {\b\cf6 True}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 flush}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Force all queued draw to be called.}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 gdk_gc_unref} {\cf1 (}{\cf5 a_gc}{\cf1 :} {\cf4 POINTER}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  void   gdk_gc_unref		  (GdkGC	    *gc);}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 external}{\line}
{\tab}{\tab}{\tab}"C (GdkGC*) | <ev_gtk.h>"{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 gdk_x11_display_get_xdisplay_call} {\cf1 (}{\cf5 a_function}{\cf1 ,} {\cf5 a_display}{\cf1 :} {\cf4 POINTER}{\cf1 )}{\cf1 :} {\cf4 POINTER}{\line}
{\tab}{\tab}{\b\cf6 external}{\line}
{\tab}{\tab}{\tab}"C inline use <ev_gtk.h>"{\line}
{\tab}{\tab}{\b\cf6 alias}{\line}
{\tab}{\tab}{\tab}"return (FUNCTION_CAST(EIF_POINTER, (GdkDisplay*)) $a_function) ((GdkDisplay*) $a_display)"{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 Gdk_x11_display_get_xdisplay_symbol}{\cf1 :} {\cf4 POINTER}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Symbol for }{\cf5 gdk_x11_display_get_xdisplay}{\cf3 .}{\line}
{\tab}{\tab}{\b\cf6 once}{\line}
{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf5 App_implementation}{\b\cf1 .}{\cf5 symbol_from_symbol_name}{\cf1  }{\cf1 (}"gdk_x11_display_get_xdisplay"{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\b\cf6 frozen} {\cf5 gdk_x_display}{\cf1 :} {\cf4 POINTER}{\line}
{\tab}{\tab}{\b\cf6 local}{\line}
{\tab}{\tab}{\tab}{\cf5 l_symbol}{\cf1 :} {\cf4 POINTER}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\cf5 l_symbol} {\cf1 :=} {\cf5 Gdk_x11_display_get_xdisplay_symbol}{\line}
{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 l_symbol} {\cf1 /=} {\cf5 default_pointer} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf5 gdk_x11_display_get_xdisplay_call}{\cf1  }{\cf1 (}{\cf5 l_symbol}{\cf1 ,} {\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_display_get_default}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 internal_background_color}{\cf1 :} {\b\cf6 detachable} {\cf4 EV_COLOR}}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Color used for erasing of canvas.}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Default: white.}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\line}
{\tab}{\cf5 {\cf5 internal_font_imp}{\cf1 :} {\b\cf6 detachable} {\cf4 EV_FONT_IMP}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 note}{\line}
{\tab}{\tab}{\tab}option: stable{\line}
{\tab}{\tab}{\b\cf6 attribute}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 internal_foreground_color}{\cf1 :} {\b\cf6 detachable} {\cf4 EV_COLOR}}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Color used to draw primitives.}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\line}
{\tab}{\cf5 {\cf5 internal_set_color} {\cf1 (}{\cf5 a_foreground}{\cf1 :} {\cf4 BOOLEAN}{\cf1 ;} {\cf5 a_red}{\cf1 ,} {\cf5 a_green}{\cf1 ,} {\cf5 a_blue}{\cf1 :} {\cf4 INTEGER_32}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Set }{\cf5 gc}{\cf3  color to (a_red, a_green, a_blue), }{\cf5 a_foreground}{\cf3  sets foreground color, otherwise background is set.}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 local}{\line}
{\tab}{\tab}{\tab}{\cf5 l_color_struct}{\cf1 :} {\cf4 POINTER}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\cf5 l_color_struct} {\cf1 :=} {\cf5 App_implementation}{\b\cf1 .}{\cf5 Reusable_color_struct}{\line}
{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 set_gdk_color_struct_red} {\cf1 (}{\cf5 l_color_struct}{\cf1 ,} {\cf5 a_red}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 set_gdk_color_struct_green} {\cf1 (}{\cf5 l_color_struct}{\cf1 ,} {\cf5 a_green}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 set_gdk_color_struct_blue} {\cf1 (}{\cf5 l_color_struct}{\cf1 ,} {\cf5 a_blue}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 a_foreground} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_gc_set_rgb_fg_color} {\cf1 (}{\cf5 gc}{\cf1 ,} {\cf5 l_color_struct}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\b\cf6 else}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_gc_set_rgb_bg_color} {\cf1 (}{\cf5 gc}{\cf1 ,} {\cf5 l_color_struct}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 mask}{\cf1 :} {\cf4 POINTER}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Mask of }{\cf5 Current}{\cf3 , which is always NULL}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 Radians_to_gdk_angle}{\cf1 :} {\cf4 INTEGER_32} {\cf1 =} 3667}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Multiply radian by this to get no of (1/64) degree segments.}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\line}
{\tab}{\cf5 {\cf5 set_dashes_pattern} {\cf1 (}{\cf5 a_gc}{\cf1 ,} {\cf5 dash_pattern}{\cf1 :} {\cf4 POINTER}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Set the dashes pattern for gc }{\cf5 a_gc}{\cf3 , }{\cf5 dash_pattern}{\cf3  is a pointer to a two count gint8}{\cf3 []]}{\cf3  denoting the pattern.}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 external}{\line}
{\tab}{\tab}{\tab}"C inline use <ev_gtk.h>"{\line}
{\tab}{\tab}{\b\cf6 alias}{\line}
{\tab}{\tab}{\tab}"gdk_gc_set_dashes ((GdkGC*) $a_gc, 0, (gint8*) $dash_pattern, 2)"{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 supports_pixbuf_alpha}{\cf1 :} {\cf4 BOOLEAN}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Does drawable support direct GdkPixbuf alpha blending?}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\b\cf6 False}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 update_if_needed}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Update }{\cf5 Current}{\cf3  if needed}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\cf5 device_x_offset} {\cf1 :=} {\cf1 -} {\cf5 App_implementation}{\b\cf1 .}{\cf5 screen_virtual_x}{\b\cf1 .}{\cf5 as_integer_16}{\line}
{\tab}{\tab}{\tab}{\cf5 device_y_offset} {\cf1 :=} {\cf1 -} {\cf5 App_implementation}{\b\cf1 .}{\cf5 screen_virtual_y}{\b\cf1 .}{\cf5 as_integer_16}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 Whole_circle}{\cf1 :} {\cf4 INTEGER_32} {\cf1 =} 23040}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Number of 1/64 th degrees in a full circle (360 * 64)}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\tab}{\line}
{\b\cf6 feature} {\cf1 \{}{\cf4 EV_ANY}{\cf1 ,} {\cf4 EV_ANY_I}{\cf1 \}} {\cf3 --}{\cf3  Implementation}{\line}
{\line}
{\tab}{\cf5 {\cf5 interface}{\cf1 :} {\b\cf6 detachable} {\cf4 EV_SCREEN}{\line}
{\tab}{\tab}{\b\cf6 note}{\line}
{\tab}{\tab}{\tab}option: stable{\line}
{\tab}{\tab}{\b\cf6 require} {\cf3 --} {\cf3 from } {\cf4 EV_ANY_I}{\line}
{\tab}{\tab}{\tab}{\b\cf6 True}{\line}
{\tab}{\tab}{\b\cf6 attribute}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\tab}{\line}
{\b\cf6 feature} {\cf1 \{}{\cf4 EV_ANY}{\cf1 ,} {\cf4 EV_ANY_I}{\cf1 \}} {\cf3 --}{\cf3  Implementation}{\line}
{\line}
{\tab}{\cf5 {\cf5 refresh_graphics_context}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Refresh the graphics context in case it is no longer valid.}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_SCREEN_I}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\tab}{\line}
{\b\cf6 feature} {\cf1 \{}{\cf4 EV_ANY}{\cf1 ,} {\cf4 EV_ANY_I}{\cf1 \}} {\cf3 --}{\cf3  Implementation}{\line}
{\line}
{\tab}{\cf5 {\cf5 attached_interface}{\cf1 :} {\b\cf6 attached} {\b\cf6 like} {\cf5 interface}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Attached version of }{\cf5 interface}{\cf3 .}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_ANY_I}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 require} {\cf3 --} {\cf3 from }{\cf4 EV_ANY_I}{\line}
{\tab}{\tab}{\tab}{\cf1 interface_attached}{\cf1 :} {\cf5 interface} {\cf1 /=} {\b\cf6 Void}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 interface} {\cf1 /=} {\b\cf6 Void} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf5 interface}{\line}
{\tab}{\tab}{\tab}{\b\cf6 else}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 check}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\tab}{\b\cf6 False}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 base_make_called}{\cf1 :} {\cf4 BOOLEAN}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Was }{\cf5 base_make}{\cf3  called?}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_ANY_I}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf5 get_state_flag}{\cf1  }{\cf1 (}{\cf5 Base_make_called_flag}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 Base_make_called_flag}{\cf1 :} {\cf4 INTEGER_8} {\cf1 =} 0}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_ANY_I}{\cf3 )}{\line}
{\line}
{\tab}{\cf5 {\cf5 disable_initialized}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Set the implementation to be un-initialized}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Should only ever be called by }{\cf1 \{}{\cf4 EV_ANY}{\cf1 \}}{\b\cf1 .}{\cf5 replace_implementation}{\cf3 .}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_ANY_I}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 check}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf1 called_by_replace_implementation_only}{\cf1 :} {\b\cf6 False}{\line}
{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\tab}{\cf5 set_is_initialized}{\cf1  }{\cf1 (}{\b\cf6 False}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 ensure} {\cf3 --} {\cf3 from }{\cf4 EV_ANY_I}{\line}
{\tab}{\tab}{\tab}{\cf1 not_is_initialized}{\cf1 :} {\b\cf6 not} {\cf5 get_state_flag}{\cf1  }{\cf1 (}{\cf5 Is_initialized_flag}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 enable_initialized}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Set the implementation to be initialized}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Should only ever be called by }{\cf1 \{}{\cf4 EV_ANY}{\cf1 \}}{\b\cf1 .}{\cf5 replace_implementation}{\cf3 .}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_ANY_I}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 check}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf1 called_by_replace_implementation_only}{\cf1 :} {\b\cf6 False}{\line}
{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\tab}{\cf5 set_is_initialized}{\cf1  }{\cf1 (}{\b\cf6 True}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 ensure} {\cf3 --} {\cf3 from }{\cf4 EV_ANY_I}{\line}
{\tab}{\tab}{\tab}{\cf1 is_initialized}{\cf1 :} {\cf5 get_state_flag}{\cf1  }{\cf1 (}{\cf5 Is_initialized_flag}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 get_state_flag} {\cf1 (}{\cf5 a_flag}{\cf1 :} {\cf4 INTEGER_8}{\cf1 )}{\cf1 :} {\cf4 BOOLEAN}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Get state flag value for }{\cf5 a_flag}{\cf3  flag position.}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_ANY_I}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 require} {\cf3 --} {\cf3 from }{\cf4 EV_ANY_I}{\line}
{\tab}{\tab}{\tab}{\cf1 a_flag_valid}{\cf1 :} {\cf5 a_flag} {\cf1 >=} {\cf5 Base_make_called_flag} {\b\cf6 and then} {\cf5 a_flag} {\cf1 <=} {\cf5 Interface_is_initialized_flag}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf5 state_flags}{\b\cf1 .}{\cf5 bit_test}{\cf1  }{\cf1 (}{\cf5 a_flag}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 Interface_default_create_called_flag}{\cf1 :} {\cf4 INTEGER_8} {\cf1 =} 4}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_ANY_I}{\cf3 )}{\line}
{\line}
{\tab}{\cf5 {\cf5 Interface_is_initialized_flag}{\cf1 :} {\cf4 INTEGER_8} {\cf1 =} 5}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Flag positions used for setting state of }{\cf5 Current}{\cf3  and }{\cf5 interface}{\cf3 .}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_ANY_I}{\cf3 )}{\line}
{\line}
{\tab}{\cf5 {\cf5 Is_destroyed_flag}{\cf1 :} {\cf4 INTEGER_8} {\cf1 =} 2}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_ANY_I}{\cf3 )}{\line}
{\line}
{\tab}{\cf5 {\cf5 is_in_destroy}{\cf1 :} {\cf4 BOOLEAN}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Is }{\cf5 Current}{\cf3  in the process of being destroyed?}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Needed for call protection when in the process of }{\cf5 destroy}{\cf3  to prevent multiple calls as a result of destruction.}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_ANY_I}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf5 get_state_flag}{\cf1  }{\cf1 (}{\cf5 Is_in_destroy_flag}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 Is_in_destroy_flag}{\cf1 :} {\cf4 INTEGER_8} {\cf1 =} 3}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_ANY_I}{\cf3 )}{\line}
{\line}
{\tab}{\cf5 {\cf5 is_initialized}{\cf1 :} {\cf4 BOOLEAN}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Has }{\cf5 Current}{\cf3  been initialized properly?}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_ANY_I}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf5 get_state_flag}{\cf1  }{\cf1 (}{\cf5 Is_initialized_flag}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 Is_initialized_flag}{\cf1 :} {\cf4 INTEGER_8} {\cf1 =} 1}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_ANY_I}{\cf3 )}{\line}
{\line}
{\tab}{\cf5 {\b\cf6 frozen} {\cf5 safe_destroy}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Protection against multiple calls of destroy whilst in the process of destruction}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Called directly from }{\cf5 interface}{\cf3 .destroy}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_ANY_I}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 if} {\b\cf6 not} {\cf5 is_in_destroy} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 set_is_in_destroy}{\cf1  }{\cf1 (}{\b\cf6 True}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 destroy}{\line}
{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 set_interface} {\cf1 (}{\cf5 an_interface}{\cf1 :} {\b\cf6 attached} {\b\cf6 like} {\cf5 interface}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Assign }{\cf5 an_interface}{\cf3  to }{\cf5 interface}{\cf3 .}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Should only ever be called by }{\cf1 \{}{\cf4 EV_ANY}{\cf1 \}}{\b\cf1 .}{\cf5 replace_implementation}{\cf3 .}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_ANY_I}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 check}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf1 called_by_replace_implementation_only}{\cf1 :} {\b\cf6 False}{\line}
{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\tab}{\cf5 interface} {\cf1 :=} {\cf5 an_interface}{\line}
{\tab}{\tab}{\b\cf6 ensure} {\cf3 --} {\cf3 from }{\cf4 EV_ANY_I}{\line}
{\tab}{\tab}{\tab}{\cf1 interface_assigned}{\cf1 :} {\cf5 interface} {\cf1 =} {\cf5 an_interface}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 set_is_destroyed} {\cf1 (}{\cf5 flag}{\cf1 :} {\cf4 BOOLEAN}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Set }{\cf5 is_destroyed}{\cf3  to }{\cf5 flag}{\cf3 .}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_ANY_I}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\cf5 set_state_flag}{\cf1  }{\cf1 (}{\cf5 Is_destroyed_flag}{\cf1 ,} {\cf5 flag}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 ensure} {\cf3 --} {\cf3 from }{\cf4 EV_ANY_I}{\line}
{\tab}{\tab}{\tab}{\cf1 is_destroyed_set}{\cf1 :} {\cf5 is_destroyed} {\cf1 =} {\cf5 flag}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 set_is_in_destroy} {\cf1 (}{\cf5 flag}{\cf1 :} {\cf4 BOOLEAN}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Set }{\cf5 is_in_destroy}{\cf3  to }{\cf5 flag}{\cf3 .}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_ANY_I}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\cf5 set_state_flag}{\cf1  }{\cf1 (}{\cf5 Is_in_destroy_flag}{\cf1 ,} {\cf5 flag}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 ensure} {\cf3 --} {\cf3 from }{\cf4 EV_ANY_I}{\line}
{\tab}{\tab}{\tab}{\cf1 is_in_destroy_set}{\cf1 :} {\cf5 is_in_destroy} {\cf1 =} {\cf5 flag}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 set_is_initialized} {\cf1 (}{\cf5 flag}{\cf1 :} {\cf4 BOOLEAN}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Set }{\cf5 is_initialized}{\cf3  to }{\cf5 flag}{\cf3 .}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_ANY_I}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\cf5 set_state_flag}{\cf1  }{\cf1 (}{\cf5 Is_initialized_flag}{\cf1 ,} {\cf5 flag}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 ensure} {\cf3 --} {\cf3 from }{\cf4 EV_ANY_I}{\line}
{\tab}{\tab}{\tab}{\cf1 is_initialized_set}{\cf1 :} {\cf5 get_state_flag}{\cf1  }{\cf1 (}{\cf5 Is_initialized_flag}{\cf1 )} {\cf1 =} {\cf5 flag}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 set_state_flag} {\cf1 (}{\cf5 a_flag}{\cf1 :} {\cf4 INTEGER_8}{\cf1 ;} {\cf5 a_value}{\cf1 :} {\cf4 BOOLEAN}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Set state flag }{\cf5 a_flag}{\cf3  to }{\cf5 a_value}{\cf3 .}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_ANY_I}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 require} {\cf3 --} {\cf3 from }{\cf4 EV_ANY_I}{\line}
{\tab}{\tab}{\tab}{\cf1 a_flag_valid}{\cf1 :} {\cf5 a_flag} {\cf1 >=} {\cf5 Base_make_called_flag} {\b\cf6 and then} {\cf5 a_flag} {\cf1 <=} {\cf5 Interface_is_initialized_flag}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\cf5 state_flags} {\cf1 :=} {\cf5 state_flags}{\b\cf1 .}{\cf5 set_bit}{\cf1  }{\cf1 (}{\cf5 a_value}{\cf1 ,} {\cf5 a_flag}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 state_flags}{\cf1 :} {\cf4 INTEGER_8}}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Flags used to hold state of }{\cf5 base_make_called}{\cf3 , }{\cf5 is_initialized}{\cf3 , }{\cf5 is_destroyed}{\cf3  and }{\cf5 is_in_destroy}{\cf3 .}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  By storing them in a single INTEGER_8, space is saved.}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  bit_test (0) returns }{\cf5 base_make_called}{\cf3 .}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  bit_test (1) returns }{\cf5 is_initialized}{\cf3 .}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  bit_test (2) returns }{\cf5 is_destroyed}{\cf3 .}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  bit_test (3) returns }{\cf5 is_in_destroy}{\cf3 .}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  bit_test (4) returns }{\cf5 interface.default_create_called}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  bit_test (5) returns }{\cf5 interface.is_initialized}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_ANY_I}{\cf3 )}{\line}
{\tab}{\line}
{\b\cf6 feature} {\cf1 \{}{\cf4 EV_ANY_I}{\cf1 \}} {\cf3 --}{\cf3  Implementation}{\line}
{\line}
{\tab}{\cf5 {\cf5 gc}{\cf1 :} {\cf4 POINTER}}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Pointer to GdkGC struct.}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  The graphics context applied to the primitives.}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Line style, width, colors, etc. are defined in here.}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\line}
{\tab}{\cf5 {\cf5 gcvalues}{\cf1 :} {\cf4 POINTER}}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Pointer to GdkGCValues struct.}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Is allocated during creation but has to be updated}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  every time it is accessed.}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\tab}{\line}
{\b\cf6 feature} {\cf1 \{}{\cf4 EV_DRAWABLE_IMP}{\cf1 \}} {\cf3 --}{\cf3  Implementation}{\line}
{\line}
{\tab}{\cf5 {\cf5 cap_style}{\cf1 :} {\cf4 INTEGER_32}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Style used for drawing end of lines.}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_cap_round_enum}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 gc_clip_area}{\cf1 :} {\b\cf6 detachable} {\cf4 EV_RECTANGLE}}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Clip area currently used by }{\cf5 gc}{\cf3 .}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\line}
{\tab}{\cf5 {\cf5 join_style}{\cf1 :} {\cf4 INTEGER_32}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Way in which lines are joined together.				}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_join_bevel_enum}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 line_style}{\cf1 :} {\cf4 INTEGER_32}}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Dash-style used when drawing lines.}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\tab}{\line}
{\b\cf6 feature} {\cf1 \{}{\cf4 EV_GTK_DEPENDENT_APPLICATION_IMP}{\cf1 ,} {\cf4 EV_ANY_I}{\cf1 \}} {\cf3 --}{\cf3  Implementation}{\line}
{\line}
{\tab}{\cf5 {\cf5 pixbuf_from_drawable}{\cf1 :} {\cf4 POINTER}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Return a GdkPixbuf object from the current Gdkpixbuf structure}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf5 pixbuf_from_drawable_at_position}{\cf1  }{\cf1 (}0{\cf1 ,} 0{\cf1 ,} 0{\cf1 ,} 0{\cf1 ,} {\cf5 width}{\cf1 ,} {\cf5 height}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 pixbuf_from_drawable_at_position} {\cf1 (}{\cf5 src_x}{\cf1 ,} {\cf5 src_y}{\cf1 ,} {\cf5 dest_x}{\cf1 ,} {\cf5 dest_y}{\cf1 ,} {\cf5 a_width}{\cf1 ,} {\cf5 a_height}{\cf1 :} {\cf4 INTEGER_32}{\cf1 )}{\cf1 :} {\cf4 POINTER}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Return a GdkPixbuf object from the current Gdkpixbuf structure}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 local}{\line}
{\tab}{\tab}{\tab}{\cf5 l_mask_pix}{\cf1 ,} {\cf5 l_temp_pix}{\cf1 :} {\cf4 POINTER}{\line}
{\tab}{\tab}{\tab}{\cf5 l_null}{\cf1 :} {\cf4 POINTER}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_pixbuf_get_from_drawable} {\cf1 (}{\cf5 l_null}{\cf1 ,} {\cf5 drawable}{\cf1 ,} {\cf5 l_null}{\cf1 ,} {\cf5 src_x} {\cf1 +} {\cf5 device_x_offset}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 ,} {\cf5 src_y} {\cf1 +} {\cf5 device_y_offset}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 ,} {\cf5 dest_x}{\cf1 ,} {\cf5 dest_y}{\cf1 ,} {\cf5 a_width}{\cf1 ,} {\cf5 a_height}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\b\cf6 if} {\b\cf6 Result} {\cf1 =} {\cf5 l_null} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_pixbuf_new} {\cf1 (}0{\cf1 ,} {\b\cf6 True}{\cf1 ,} 8{\cf1 ,} {\cf5 a_width}{\cf1 ,} {\cf5 a_height}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\b\cf6 elseif} {\cf5 mask} {\cf1 /=} {\cf5 l_null} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 l_mask_pix} {\cf1 :=} {\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_pixbuf_get_from_drawable} {\cf1 (}{\cf5 l_null}{\cf1 ,} {\cf5 mask}{\cf1 ,} {\cf5 l_null}{\cf1 ,} {\cf5 src_x}{\cf1 ,} {\cf5 src_y}{\cf1 ,} {\cf5 dest_x}{\cf1 ,} {\cf5 dest_y}{\cf1 ,} {\cf5 a_width}{\cf1 ,} {\cf5 a_height}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 l_mask_pix} {\cf1 /=} {\cf5 l_null} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf5 l_temp_pix} {\cf1 :=} {\cf5 l_mask_pix}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf5 l_mask_pix} {\cf1 :=} {\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_pixbuf_add_alpha} {\cf1 (}{\cf5 l_mask_pix}{\cf1 ,} {\b\cf6 True}{\cf1 ,} 255{\cf1 ,} 255{\cf1 ,} 255{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 object_unref} {\cf1 (}{\cf5 l_temp_pix}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf5 l_temp_pix} {\cf1 :=} {\b\cf6 Result}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_pixbuf_add_alpha} {\cf1 (}{\b\cf6 Result}{\cf1 ,} {\b\cf6 False}{\cf1 ,} 0{\cf1 ,} 0{\cf1 ,} 0{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 object_unref} {\cf1 (}{\cf5 l_temp_pix}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_pixbuf_composite} {\cf1 (}{\cf5 l_mask_pix}{\cf1 ,} {\b\cf6 Result}{\cf1 ,} 0{\cf1 ,} 0{\cf1 ,} {\cf5 a_width}{\cf1 ,} {\cf5 a_height}{\cf1 ,} 0.0{\cf1 ,} 0.0{\cf1 ,} 1.0{\cf1 ,} 1.0{\cf1 ,} {\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_interp_bilinear}{\cf1 ,} 255{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf5 draw_mask_on_pixbuf}{\cf1  }{\cf1 (}{\b\cf6 Result}{\cf1 ,} {\cf5 l_mask_pix}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 object_unref} {\cf1 (}{\cf5 l_mask_pix}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 pixbuf_from_drawable_with_size} {\cf1 (}{\cf5 a_width}{\cf1 ,} {\cf5 a_height}{\cf1 :} {\cf4 INTEGER_32}{\cf1 )}{\cf1 :} {\cf4 POINTER}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Return a GdkPixbuf object from the current Gdkpixbuf structure with dimensions }{\cf5 a_width}{\cf3  * }{\cf5 a_height}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 local}{\line}
{\tab}{\tab}{\tab}{\cf5 a_pixbuf}{\cf1 :} {\cf4 POINTER}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\cf5 a_pixbuf} {\cf1 :=} {\cf5 pixbuf_from_drawable}{\line}
{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_pixbuf_scale_simple} {\cf1 (}{\cf5 a_pixbuf}{\cf1 ,} {\cf5 a_width}{\cf1 ,} {\cf5 a_height}{\cf1 ,} {\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_interp_bilinear}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 object_unref} {\cf1 (}{\cf5 a_pixbuf}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\tab}{\line}
{\b\cf6 feature} {\cf3 --}{\cf3  Implementation}{\line}
{\line}
{\tab}{\cf5 {\b\cf6 frozen} {\cf5 add_g_type_string} {\cf1 (}{\cf5 an_array}{\cf1 :} {\cf4 POINTER}{\cf1 ;} {\cf5 a_pos}{\cf1 :} {\cf4 INTEGER_32}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Add G_TYPE_STRING constant in }{\cf5 an_array}{\cf3  at }{\cf5 a_pos}{\cf3  bytes from beginning}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  of }{\cf5 an_array}{\cf3 .}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_GTK_DEPENDENT_ROUTINES}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 require} {\cf3 --} {\cf3 from }{\cf4 EV_GTK_DEPENDENT_ROUTINES}{\line}
{\tab}{\tab}{\tab}{\cf1 an_array_not_null}{\cf1 :} {\cf5 an_array} {\cf1 /=} {\cf5 default_pointer}{\line}
{\tab}{\tab}{\tab}{\cf1 a_pos_nonnegative}{\cf1 :} {\cf5 a_pos} {\cf1 >=} 0{\line}
{\tab}{\tab}{\b\cf6 external}{\line}
{\tab}{\tab}{\tab}"C inline use <ev_gtk.h>"{\line}
{\tab}{\tab}{\b\cf6 alias}{\line}
{\tab}{\tab}{\tab}"[{\line}
{\tab}{\tab}{\tab}{\tab}\{{\line}
{\tab}{\tab}{\tab}{\tab}	GType type = G_TYPE_STRING;{\line}
{\tab}{\tab}{\tab}{\tab}	memcpy ((char *) $an_array + $a_pos, &type, sizeof(GType));{\line}
{\tab}{\tab}{\tab}{\tab}\}{\line}
{\tab}{\tab}{\tab}]"{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\b\cf6 frozen} {\cf5 add_gdk_type_pixbuf} {\cf1 (}{\cf5 an_array}{\cf1 :} {\cf4 POINTER}{\cf1 ;} {\cf5 a_pos}{\cf1 :} {\cf4 INTEGER_32}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Add GDK_TYPE_PIXBUF constant in }{\cf5 an_array}{\cf3  at }{\cf5 a_pos}{\cf3  bytes from beginning}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  of }{\cf5 an_array}{\cf3 .}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_GTK_DEPENDENT_ROUTINES}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 require} {\cf3 --} {\cf3 from }{\cf4 EV_GTK_DEPENDENT_ROUTINES}{\line}
{\tab}{\tab}{\tab}{\cf1 an_array_not_null}{\cf1 :} {\cf5 an_array} {\cf1 /=} {\cf5 default_pointer}{\line}
{\tab}{\tab}{\tab}{\cf1 a_pos_nonnegative}{\cf1 :} {\cf5 a_pos} {\cf1 >=} 0{\line}
{\tab}{\tab}{\b\cf6 external}{\line}
{\tab}{\tab}{\tab}"C inline use <ev_gtk.h>"{\line}
{\tab}{\tab}{\b\cf6 alias}{\line}
{\tab}{\tab}{\tab}"[{\line}
{\tab}{\tab}{\tab}{\tab}\{{\line}
{\tab}{\tab}{\tab}{\tab}	GType type = GDK_TYPE_PIXBUF;{\line}
{\tab}{\tab}{\tab}{\tab}	memcpy ((char *) $an_array + $a_pos, &type, sizeof(GType));{\line}
{\tab}{\tab}{\tab}{\tab}\}{\line}
{\tab}{\tab}{\tab}]"{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 client_area_from_c_object} {\cf1 (}{\cf5 a_c_object}{\cf1 :} {\cf4 POINTER}{\cf1 )}{\cf1 :} {\cf4 POINTER}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_GTK_DEPENDENT_ROUTINES}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf5 a_c_object}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 create_gtk_dialog}{\cf1 :} {\cf4 POINTER}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Create and initialize a gtk dialog}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_GTK_DEPENDENT_ROUTINES}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gtk_window_new} {\cf1 (}{\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gtk_window_toplevel_enum}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 Horizontal_resolution_internal}{\cf1 :} {\cf4 INTEGER_32}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Number of pixels per inch along horizontal axis}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_GTK_DEPENDENT_ROUTINES}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 once}{\line}
{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf1 (}{\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_screen_width} {\cf1 /} {\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_screen_get_width_mm} {\cf1 (}{\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_screen_get_default}{\cf1 )} {\cf1 *} 25.4{\cf1 )}{\b\cf1 .}{\cf5 rounded}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\b\cf6 frozen} {\cf5 sizeof_gtype}{\cf1 :} {\cf4 INTEGER_32}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Size of the }{\cf5 GType}{\cf3  C type}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_GTK_DEPENDENT_ROUTINES}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 external}{\line}
{\tab}{\tab}{\tab}"C inline use <ev_gtk.h>"{\line}
{\tab}{\tab}{\b\cf6 alias}{\line}
{\tab}{\tab}{\tab}"sizeof(GType)"{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 Vertical_resolution_internal}{\cf1 :} {\cf4 INTEGER_32}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Number of pixels per inch along vertical axis}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_GTK_DEPENDENT_ROUTINES}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 once}{\line}
{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf1 (}{\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_screen_height} {\cf1 /} {\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_screen_get_height_mm} {\cf1 (}{\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_screen_get_default}{\cf1 )} {\cf1 *} 25.4{\cf1 )}{\b\cf1 .}{\cf5 rounded}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\tab}{\line}
{\b\cf6 feature} {\cf3 --}{\cf3  Access bits size}{\line}
{\line}
{\tab}{\cf5 {\cf5 boolean_bits}{\cf1 :} {\cf4 INTEGER_32}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Number of bits in a value of type }{\cf5 BOOLEAN}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 PLATFORM}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf5 boolean_bytes} {\cf1 *} 8{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 Character_32_bits}{\cf1 :} {\cf4 INTEGER_32} {\cf1 =} 32}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Number of bits in a value of type }{\cf5 CHARACTER_32}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 PLATFORM}{\cf3 )}{\line}
{\line}
{\tab}{\cf5 {\cf5 Character_8_bits}{\cf1 :} {\cf4 INTEGER_32} {\cf1 =} 8}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Number of bits in a value of type }{\cf5 CHARACTER_8}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 PLATFORM}{\cf3 )}{\line}
{\line}
{\tab}{\cf5 {\cf5 Integer_16_bits}{\cf1 :} {\cf4 INTEGER_32} {\cf1 =} 16}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Number of bits in a value of type }{\cf5 INTEGER_16}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 PLATFORM}{\cf3 )}{\line}
{\line}
{\tab}{\cf5 {\cf5 Integer_32_bits}{\cf1 :} {\cf4 INTEGER_32} {\cf1 =} 32}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Number of bits in a value of type }{\cf5 INTEGER_32}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 PLATFORM}{\cf3 )}{\line}
{\line}
{\tab}{\cf5 {\cf5 Integer_64_bits}{\cf1 :} {\cf4 INTEGER_32} {\cf1 =} 64}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Number of bits in a value of type }{\cf5 INTEGER_64}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 PLATFORM}{\cf3 )}{\line}
{\line}
{\tab}{\cf5 {\cf5 Integer_8_bits}{\cf1 :} {\cf4 INTEGER_32} {\cf1 =} 8}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Number of bits in a value of type }{\cf5 INTEGER_8}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 PLATFORM}{\cf3 )}{\line}
{\line}
{\tab}{\cf5 {\cf5 Natural_16_bits}{\cf1 :} {\cf4 INTEGER_32} {\cf1 =} 16}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Number of bits in a value of type }{\cf5 NATURAL_16}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 PLATFORM}{\cf3 )}{\line}
{\line}
{\tab}{\cf5 {\cf5 Natural_32_bits}{\cf1 :} {\cf4 INTEGER_32} {\cf1 =} 32}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Number of bits in a value of type }{\cf5 NATURAL_32}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 PLATFORM}{\cf3 )}{\line}
{\line}
{\tab}{\cf5 {\cf5 Natural_64_bits}{\cf1 :} {\cf4 INTEGER_32} {\cf1 =} 64}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Number of bits in a value of type }{\cf5 NATURAL_64}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 PLATFORM}{\cf3 )}{\line}
{\line}
{\tab}{\cf5 {\cf5 Natural_8_bits}{\cf1 :} {\cf4 INTEGER_32} {\cf1 =} 8}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Number of bits in a value of type }{\cf5 NATURAL_8}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 PLATFORM}{\cf3 )}{\line}
{\line}
{\tab}{\cf5 {\cf5 pointer_bits}{\cf1 :} {\cf4 INTEGER_32}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Number of bits in a value of type }{\cf5 POINTER}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 PLATFORM}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf5 pointer_bytes} {\cf1 *} 8{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 Real_32_bits}{\cf1 :} {\cf4 INTEGER_32} {\cf1 =} 32}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Number of bits in a value of type }{\cf5 REAL_32}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 PLATFORM}{\cf3 )}{\line}
{\line}
{\tab}{\cf5 {\cf5 Real_64_bits}{\cf1 :} {\cf4 INTEGER_32} {\cf1 =} 64}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Number of bits in a value of type }{\cf5 REAL_64}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 PLATFORM}{\cf3 )}{\line}
{\tab}{\line}
{\b\cf6 feature} {\cf3 --}{\cf3  Access bytes size}{\line}
{\line}
{\tab}{\cf5 {\cf5 boolean_bytes}{\cf1 :} {\cf4 INTEGER_32}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Number of bytes in a value of type }{\cf5 BOOLEAN}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 PLATFORM}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 external}{\line}
{\tab}{\tab}{\tab}"built_in static"{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 Character_32_bytes}{\cf1 :} {\cf4 INTEGER_32} {\cf1 =} 4}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Number of bytes in a value of type }{\cf5 CHARACTER_32}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 PLATFORM}{\cf3 )}{\line}
{\line}
{\tab}{\cf5 {\cf5 Character_8_bytes}{\cf1 :} {\cf4 INTEGER_32} {\cf1 =} 1}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Number of bytes in a value of type }{\cf5 CHARACTER_8}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 PLATFORM}{\cf3 )}{\line}
{\line}
{\tab}{\cf5 {\cf5 Integer_16_bytes}{\cf1 :} {\cf4 INTEGER_32} {\cf1 =} 2}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Number of bytes in a value of type }{\cf5 INTEGER_16}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 PLATFORM}{\cf3 )}{\line}
{\line}
{\tab}{\cf5 {\cf5 Integer_32_bytes}{\cf1 :} {\cf4 INTEGER_32} {\cf1 =} 4}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Number of bytes in a value of type }{\cf5 INTEGER_32}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 PLATFORM}{\cf3 )}{\line}
{\line}
{\tab}{\cf5 {\cf5 Integer_64_bytes}{\cf1 :} {\cf4 INTEGER_32} {\cf1 =} 8}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Number of bytes in a value of type }{\cf5 INTEGER_64}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 PLATFORM}{\cf3 )}{\line}
{\line}
{\tab}{\cf5 {\cf5 Integer_8_bytes}{\cf1 :} {\cf4 INTEGER_32} {\cf1 =} 1}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Number of bytes in a value of type }{\cf5 INTEGER_8}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 PLATFORM}{\cf3 )}{\line}
{\line}
{\tab}{\cf5 {\cf5 Natural_16_bytes}{\cf1 :} {\cf4 INTEGER_32} {\cf1 =} 2}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Number of bytes in a value of type }{\cf5 NATURAL_16}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 PLATFORM}{\cf3 )}{\line}
{\line}
{\tab}{\cf5 {\cf5 Natural_32_bytes}{\cf1 :} {\cf4 INTEGER_32} {\cf1 =} 4}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Number of bytes in a value of type }{\cf5 NATURAL_32}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 PLATFORM}{\cf3 )}{\line}
{\line}
{\tab}{\cf5 {\cf5 Natural_64_bytes}{\cf1 :} {\cf4 INTEGER_32} {\cf1 =} 8}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Number of bytes in a value of type }{\cf5 NATURAL_64}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 PLATFORM}{\cf3 )}{\line}
{\line}
{\tab}{\cf5 {\cf5 Natural_8_bytes}{\cf1 :} {\cf4 INTEGER_32} {\cf1 =} 1}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Number of bytes in a value of type }{\cf5 NATURAL_8}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 PLATFORM}{\cf3 )}{\line}
{\line}
{\tab}{\cf5 {\cf5 pointer_bytes}{\cf1 :} {\cf4 INTEGER_32}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Number of bytes in a value of type }{\cf5 POINTER}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 PLATFORM}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 external}{\line}
{\tab}{\tab}{\tab}"built_in static"{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 Real_32_bytes}{\cf1 :} {\cf4 INTEGER_32} {\cf1 =} 4}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Number of bytes in a value of type }{\cf5 REAL_32}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 PLATFORM}{\cf3 )}{\line}
{\line}
{\tab}{\cf5 {\cf5 Real_64_bytes}{\cf1 :} {\cf4 INTEGER_32} {\cf1 =} 8}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Number of bytes in a value of type }{\cf5 REAL_64}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 PLATFORM}{\cf3 )}{\line}
{\tab}{\line}
{\b\cf6 feature} {\cf3 --}{\cf3  Basic operation}{\line}
{\line}
{\tab}{\cf5 {\cf5 fake_key_press} {\cf1 (}{\cf5 a_key}{\cf1 :} {\cf4 EV_KEY}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Fake key }{\cf5 a_key}{\cf3  press.}{\line}
{\tab}{\tab}{\b\cf6 local}{\line}
{\tab}{\tab}{\tab}{\cf5 a_success_flag}{\cf1 :} {\cf4 BOOLEAN}{\line}
{\tab}{\tab}{\tab}{\cf5 a_key_code}{\cf1 :} {\cf4 INTEGER_32}{\line}
{\tab}{\tab}{\tab}{\cf5 l_window}{\cf1 ,} {\cf5 l_x_test_fake_key_event_symbol}{\cf1 ,} {\cf5 l_x_keysym_to_keycode_symbol}{\cf1 ,} {\cf5 l_gdk_test_simulate_key_symbol}{\cf1 :} {\cf4 POINTER}{\line}
{\tab}{\tab}{\tab}{\cf5 l_x}{\cf1 ,} {\cf5 l_y}{\cf1 :} {\cf4 INTEGER_32}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\cf5 l_x_test_fake_key_event_symbol} {\cf1 :=} {\cf5 X_test_fake_key_event_symbol}{\line}
{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 l_x_test_fake_key_event_symbol} {\cf1 /=} {\cf5 default_pointer} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 l_x_keysym_to_keycode_symbol} {\cf1 :=} {\cf5 X_keysym_to_keycode_symbol}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 l_x_keysym_to_keycode_symbol} {\cf1 /=} {\cf5 default_pointer} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf5 a_key_code} {\cf1 :=} {\cf5 x_keysym_to_keycode_call}{\cf1  }{\cf1 (}{\cf5 l_x_keysym_to_keycode_symbol}{\cf1 ,} {\cf5 gdk_x_display}{\cf1 ,} {\cf5 Key_conversion}{\b\cf1 .}{\cf5 key_code_to_gtk}{\cf1  }{\cf1 (}{\cf5 a_key}{\b\cf1 .}{\cf5 code}{\cf1 )}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf5 a_success_flag} {\cf1 :=} {\cf5 x_test_fake_key_button_event_call}{\cf1  }{\cf1 (}{\cf5 l_x_test_fake_key_event_symbol}{\cf1 ,} {\cf5 gdk_x_display}{\cf1 ,} {\cf5 a_key_code}{\cf1 ,} {\b\cf6 True}{\cf1 ,} 0{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\tab}{\b\cf6 if} {\b\cf6 not} {\cf5 a_success_flag} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 a_key_code} {\cf1 :=} {\cf5 Key_conversion}{\b\cf1 .}{\cf5 key_code_to_gtk}{\cf1  }{\cf1 (}{\cf5 a_key}{\b\cf1 .}{\cf5 code}{\cf1 )}{\b\cf1 .}{\cf5 to_integer_32}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 l_gdk_test_simulate_key_symbol} {\cf1 :=} {\cf5 Gdk_test_simulate_key_symbol}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 l_gdk_test_simulate_key_symbol} {\cf1 /=} {\cf5 default_pointer} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf5 l_window} {\cf1 :=} {\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_window_at_pointer} {\cf1 (}{\cf1 $}{\cf5 l_x}{\b\cf1 .}{\cf5 to_pointer}{\cf1 ,} {\cf1 $}{\cf5 l_y}{\b\cf1 .}{\cf5 to_pointer}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf5 a_success_flag} {\cf1 :=} {\cf5 gdk_test_simulate_call}{\cf1  }{\cf1 (}{\cf5 l_gdk_test_simulate_key_symbol}{\cf1 ,} {\cf5 l_window}{\cf1 ,} {\cf5 l_x}{\cf1 ,} {\cf5 l_y}{\cf1 ,} {\cf5 a_key_code}{\cf1 ,} 0{\cf1 ,} {\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_key_press_enum}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 fake_key_release} {\cf1 (}{\cf5 a_key}{\cf1 :} {\cf4 EV_KEY}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Fake key }{\cf5 a_key}{\cf3  release.}{\line}
{\tab}{\tab}{\b\cf6 local}{\line}
{\tab}{\tab}{\tab}{\cf5 a_success_flag}{\cf1 :} {\cf4 BOOLEAN}{\line}
{\tab}{\tab}{\tab}{\cf5 a_key_code}{\cf1 :} {\cf4 INTEGER_32}{\line}
{\tab}{\tab}{\tab}{\cf5 l_window}{\cf1 ,} {\cf5 l_x_test_fake_key_event_symbol}{\cf1 ,} {\cf5 l_x_keysym_to_keycode_symbol}{\cf1 ,} {\cf5 l_gdk_test_simulate_key_symbol}{\cf1 :} {\cf4 POINTER}{\line}
{\tab}{\tab}{\tab}{\cf5 l_x}{\cf1 ,} {\cf5 l_y}{\cf1 :} {\cf4 INTEGER_32}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\cf5 l_x_test_fake_key_event_symbol} {\cf1 :=} {\cf5 X_test_fake_key_event_symbol}{\line}
{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 l_x_test_fake_key_event_symbol} {\cf1 /=} {\cf5 default_pointer} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 l_x_keysym_to_keycode_symbol} {\cf1 :=} {\cf5 X_keysym_to_keycode_symbol}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 l_x_keysym_to_keycode_symbol} {\cf1 /=} {\cf5 default_pointer} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf5 a_key_code} {\cf1 :=} {\cf5 x_keysym_to_keycode_call}{\cf1  }{\cf1 (}{\cf5 l_x_keysym_to_keycode_symbol}{\cf1 ,} {\cf5 gdk_x_display}{\cf1 ,} {\cf5 Key_conversion}{\b\cf1 .}{\cf5 key_code_to_gtk}{\cf1  }{\cf1 (}{\cf5 a_key}{\b\cf1 .}{\cf5 code}{\cf1 )}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf5 a_success_flag} {\cf1 :=} {\cf5 x_test_fake_key_button_event_call}{\cf1  }{\cf1 (}{\cf5 l_x_test_fake_key_event_symbol}{\cf1 ,} {\cf5 gdk_x_display}{\cf1 ,} {\cf5 a_key_code}{\cf1 ,} {\b\cf6 False}{\cf1 ,} 0{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\tab}{\b\cf6 if} {\b\cf6 not} {\cf5 a_success_flag} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 a_key_code} {\cf1 :=} {\cf5 Key_conversion}{\b\cf1 .}{\cf5 key_code_to_gtk}{\cf1  }{\cf1 (}{\cf5 a_key}{\b\cf1 .}{\cf5 code}{\cf1 )}{\b\cf1 .}{\cf5 to_integer_32}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 l_gdk_test_simulate_key_symbol} {\cf1 :=} {\cf5 Gdk_test_simulate_key_symbol}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 l_gdk_test_simulate_key_symbol} {\cf1 /=} {\cf5 default_pointer} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf5 l_window} {\cf1 :=} {\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_window_at_pointer} {\cf1 (}{\cf1 $}{\cf5 l_x}{\b\cf1 .}{\cf5 to_pointer}{\cf1 ,} {\cf1 $}{\cf5 l_y}{\b\cf1 .}{\cf5 to_pointer}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf5 a_success_flag} {\cf1 :=} {\cf5 gdk_test_simulate_call}{\cf1  }{\cf1 (}{\cf5 l_gdk_test_simulate_key_symbol}{\cf1 ,} {\cf5 l_window}{\cf1 ,} {\cf5 l_x}{\cf1 ,} {\cf5 l_y}{\cf1 ,} {\cf5 a_key_code}{\cf1 ,} 0{\cf1 ,} {\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_key_release_enum}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 fake_pointer_button_press} {\cf1 (}{\cf5 a_button}{\cf1 :} {\cf4 INTEGER_32}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Fake button }{\cf5 a_button}{\cf3  press on pointer.}{\line}
{\tab}{\tab}{\b\cf6 local}{\line}
{\tab}{\tab}{\tab}{\cf5 a_success_flag}{\cf1 :} {\cf4 BOOLEAN}{\line}
{\tab}{\tab}{\tab}{\cf5 l_p_b_press_symbol}{\cf1 :} {\cf4 POINTER}{\line}
{\tab}{\tab}{\tab}{\cf5 l_window}{\cf1 :} {\cf4 POINTER}{\line}
{\tab}{\tab}{\tab}{\cf5 l_x}{\cf1 ,} {\cf5 l_y}{\cf1 :} {\cf4 INTEGER_32}{\line}
{\tab}{\tab}{\tab}{\cf5 l_x_test_fake_button_event_symbol}{\cf1 :} {\cf4 POINTER}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\cf5 l_p_b_press_symbol} {\cf1 :=} {\cf5 Gdk_test_simulate_button_symbol}{\line}
{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 l_p_b_press_symbol} {\cf1 /=} {\cf5 default_pointer} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 l_window} {\cf1 :=} {\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_window_at_pointer} {\cf1 (}{\cf1 $}{\cf5 l_x}{\b\cf1 .}{\cf5 to_pointer}{\cf1 ,} {\cf1 $}{\cf5 l_y}{\b\cf1 .}{\cf5 to_pointer}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 a_success_flag} {\cf1 :=} {\cf5 gdk_test_simulate_call}{\cf1  }{\cf1 (}{\cf5 l_p_b_press_symbol}{\cf1 ,} {\cf5 l_window}{\cf1 ,} {\cf5 l_x}{\cf1 ,} {\cf5 l_y}{\cf1 ,} {\cf5 a_button}{\cf1 ,} 0{\cf1 ,} {\cf1 \{}{\cf4 EV_GTK_ENUMS}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_button_press_enum}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\tab}{\b\cf6 if} {\b\cf6 not} {\cf5 a_success_flag} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 l_x_test_fake_button_event_symbol} {\cf1 :=} {\cf5 X_test_fake_button_event_symbol}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 l_x_test_fake_button_event_symbol} {\cf1 /=} {\cf5 default_pointer} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf5 a_success_flag} {\cf1 :=} {\cf5 x_test_fake_key_button_event_call}{\cf1  }{\cf1 (}{\cf5 l_x_test_fake_button_event_symbol}{\cf1 ,} {\cf5 gdk_x_display}{\cf1 ,} {\cf5 a_button}{\cf1 ,} {\b\cf6 True}{\cf1 ,} 0{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 fake_pointer_button_release} {\cf1 (}{\cf5 a_button}{\cf1 :} {\cf4 INTEGER_32}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Fake button }{\cf5 a_button}{\cf3  release on pointer.}{\line}
{\tab}{\tab}{\b\cf6 local}{\line}
{\tab}{\tab}{\tab}{\cf5 a_success_flag}{\cf1 :} {\cf4 BOOLEAN}{\line}
{\tab}{\tab}{\tab}{\cf5 l_p_b_release_symbol}{\cf1 :} {\cf4 POINTER}{\line}
{\tab}{\tab}{\tab}{\cf5 l_window}{\cf1 :} {\cf4 POINTER}{\line}
{\tab}{\tab}{\tab}{\cf5 l_x}{\cf1 ,} {\cf5 l_y}{\cf1 :} {\cf4 INTEGER_32}{\line}
{\tab}{\tab}{\tab}{\cf5 l_x_test_fake_button_event_symbol}{\cf1 :} {\cf4 POINTER}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\cf5 l_p_b_release_symbol} {\cf1 :=} {\cf5 Gdk_test_simulate_button_symbol}{\line}
{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 l_p_b_release_symbol} {\cf1 /=} {\cf5 default_pointer} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 l_window} {\cf1 :=} {\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_window_at_pointer} {\cf1 (}{\cf1 $}{\cf5 l_x}{\b\cf1 .}{\cf5 to_pointer}{\cf1 ,} {\cf1 $}{\cf5 l_y}{\b\cf1 .}{\cf5 to_pointer}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 a_success_flag} {\cf1 :=} {\cf5 gdk_test_simulate_call}{\cf1  }{\cf1 (}{\cf5 l_p_b_release_symbol}{\cf1 ,} {\cf5 l_window}{\cf1 ,} {\cf5 l_x}{\cf1 ,} {\cf5 l_y}{\cf1 ,} {\cf5 a_button}{\cf1 ,} 0{\cf1 ,} {\cf1 \{}{\cf4 EV_GTK_ENUMS}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_button_release_enum}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\tab}{\b\cf6 if} {\b\cf6 not} {\cf5 a_success_flag} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 l_x_test_fake_button_event_symbol} {\cf1 :=} {\cf5 X_test_fake_button_event_symbol}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 l_x_test_fake_button_event_symbol} {\cf1 /=} {\cf5 default_pointer} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf5 a_success_flag} {\cf1 :=} {\cf5 x_test_fake_key_button_event_call}{\cf1  }{\cf1 (}{\cf5 l_x_test_fake_button_event_symbol}{\cf1 ,} {\cf5 gdk_x_display}{\cf1 ,} {\cf5 a_button}{\cf1 ,} {\b\cf6 False}{\cf1 ,} 0{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 fake_pointer_wheel_down}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Simulate the user rotating the mouse wheel down.}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\cf5 fake_pointer_button_press}{\cf1  }{\cf1 (}5{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 fake_pointer_wheel_up}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Simulate the user rotating the mouse wheel up.}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\cf5 fake_pointer_button_press}{\cf1  }{\cf1 (}4{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 Key_conversion}{\cf1 :} {\cf4 EV_GTK_KEY_CONVERSION}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Utilities for converting X key codes.}{\line}
{\tab}{\tab}{\b\cf6 once}{\line}
{\tab}{\tab}{\tab}{\b\cf6 create} {\b\cf6 Result}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 redraw}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Redraw the entire area.}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_window_invalidate_rect} {\cf1 (}{\cf5 drawable}{\cf1 ,} {\cf5 default_pointer}{\cf1 ,} {\b\cf6 True}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_window_process_updates} {\cf1 (}{\cf5 drawable}{\cf1 ,} {\b\cf6 True}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 set_pointer_position} {\cf1 (}{\cf5 a_x}{\cf1 ,} {\cf5 a_y}{\cf1 :} {\cf4 INTEGER_32}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Set pointer position to (a_x, a_y).}{\line}
{\tab}{\tab}{\b\cf6 local}{\line}
{\tab}{\tab}{\tab}{\cf5 a_success_flag}{\cf1 :} {\cf4 BOOLEAN}{\line}
{\tab}{\tab}{\tab}{\cf5 l_display}{\cf1 ,} {\cf5 l_screen}{\cf1 :} {\cf4 POINTER}{\line}
{\tab}{\tab}{\tab}{\cf5 l_gdk_display_warp_pointer_symbol}{\cf1 ,} {\cf5 l_x_test_fake_motion_event_symbol}{\cf1 :} {\cf4 POINTER}{\line}
{\tab}{\tab}{\tab}{\cf5 l_x}{\cf1 ,} {\cf5 l_y}{\cf1 :} {\cf4 INTEGER_32}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\cf5 l_x} {\cf1 :=} {\cf5 a_x} {\cf1 +} {\cf5 device_x_offset}{\b\cf1 .}{\cf5 to_integer_32}{\line}
{\tab}{\tab}{\tab}{\cf5 l_y} {\cf1 :=} {\cf5 a_y} {\cf1 +} {\cf5 device_y_offset}{\b\cf1 .}{\cf5 to_integer_32}{\line}
{\tab}{\tab}{\tab}{\cf5 l_gdk_display_warp_pointer_symbol} {\cf1 :=} {\cf5 Gdk_display_warp_pointer_symbol}{\line}
{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 l_gdk_display_warp_pointer_symbol} {\cf1 /=} {\cf5 default_pointer} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 l_display} {\cf1 :=} {\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_display_get_default}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 l_screen} {\cf1 :=} {\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_display_get_default_screen} {\cf1 (}{\cf5 l_display}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 gdk_display_warp_pointer_call}{\cf1  }{\cf1 (}{\cf5 l_gdk_display_warp_pointer_symbol}{\cf1 ,} {\cf5 l_display}{\cf1 ,} {\cf5 l_screen}{\cf1 ,} {\cf5 l_x}{\cf1 ,} {\cf5 l_y}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\b\cf6 else}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 l_x_test_fake_motion_event_symbol} {\cf1 :=} {\cf5 X_test_fake_motion_event_symbol}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 l_x_test_fake_motion_event_symbol} {\cf1 /=} {\cf5 default_pointer} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf5 a_success_flag} {\cf1 :=} {\cf5 x_test_fake_motion_event_call}{\cf1  }{\cf1 (}{\cf5 l_x_test_fake_motion_event_symbol}{\cf1 ,} {\cf5 gdk_x_display}{\cf1 ,} -1{\cf1 ,} {\cf5 l_x}{\cf1 ,} {\cf5 l_y}{\cf1 ,} 0{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 App_implementation}{\b\cf1 .}{\cf5 use_stored_display_data} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 App_implementation}{\b\cf1 .}{\cf5 update_display_data}{\line}
{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\tab}{\line}
{\b\cf6 feature} {\cf3 --}{\cf3  Clearing operations}{\line}
{\line}
{\tab}{\cf5 {\cf5 clear}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Erase }{\cf5 Current}{\cf3  with }{\cf5 background_color}{\cf3 .}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 require} {\cf3 --} {\cf3 from } {\cf4 EV_DRAWABLE_I}{\line}
{\tab}{\tab}{\tab}{\b\cf6 True}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\cf5 clear_rectangle}{\cf1  }{\cf1 (}0{\cf1 ,} 0{\cf1 ,} {\cf5 width}{\cf1 ,} {\cf5 height}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 clear_rectangle} {\cf1 (}{\cf5 x}{\cf1 ,} {\cf5 y}{\cf1 ,} {\cf5 a_width}{\cf1 ,} {\cf5 a_height}{\cf1 :} {\cf4 INTEGER_32}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Erase rectangle specified with }{\cf5 background_color}{\cf3 .}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 require} {\cf3 --} {\cf3 from } {\cf4 EV_DRAWABLE_I}{\line}
{\tab}{\tab}{\tab}{\b\cf6 True}{\line}
{\tab}{\tab}{\b\cf6 local}{\line}
{\tab}{\tab}{\tab}{\cf5 tmp_fg_color}{\cf1 ,} {\cf5 tmp_bg_color}{\cf1 :} {\b\cf6 detachable} {\cf4 EV_COLOR}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 drawable} {\cf1 /=} {\cf5 default_pointer} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 tmp_fg_color} {\cf1 :=} {\cf5 internal_foreground_color}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 tmp_fg_color} {\cf1 =} {\b\cf6 Void} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf5 tmp_fg_color} {\cf1 :=} {\cf5 foreground_color}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 tmp_bg_color} {\cf1 :=} {\cf5 internal_background_color}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 tmp_bg_color} {\cf1 =} {\b\cf6 Void} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf5 tmp_bg_color} {\cf1 :=} {\cf5 background_color}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 internal_set_color}{\cf1  }{\cf1 (}{\b\cf6 True}{\cf1 ,} {\cf5 tmp_bg_color}{\b\cf1 .}{\cf5 red_16_bit}{\cf1 ,} {\cf5 tmp_bg_color}{\b\cf1 .}{\cf5 green_16_bit}{\cf1 ,} {\cf5 tmp_bg_color}{\b\cf1 .}{\cf5 blue_16_bit}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_draw_rectangle} {\cf1 (}{\cf5 drawable}{\cf1 ,} {\cf5 gc}{\cf1 ,} 1{\cf1 ,} {\cf1 (}{\cf5 x} {\cf1 +} {\cf5 device_x_offset}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\b\cf1 .}{\cf5 max}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 min_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\b\cf1 .}{\cf5 min}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 max_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\cf1 ,} {\cf1 (}{\cf5 y} {\cf1 +} {\cf5 device_y_offset}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\b\cf1 .}{\cf5 max}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 min_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\b\cf1 .}{\cf5 min}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 max_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\cf1 ,} {\cf5 a_width}{\cf1 ,} {\cf5 a_height}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 internal_set_color}{\cf1  }{\cf1 (}{\b\cf6 True}{\cf1 ,} {\cf5 tmp_fg_color}{\b\cf1 .}{\cf5 red_16_bit}{\cf1 ,} {\cf5 tmp_fg_color}{\b\cf1 .}{\cf5 green_16_bit}{\cf1 ,} {\cf5 tmp_fg_color}{\b\cf1 .}{\cf5 blue_16_bit}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 update_if_needed}{\line}
{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\tab}{\line}
{\b\cf6 feature} {\cf3 --}{\cf3  Constants}{\line}
{\line}
{\tab}{\cf5 {\cf5 Drawing_mode_and}{\cf1 :} {\cf4 INTEGER_32} {\cf1 =} 3}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Drawing mode where bitwise AND is performed when a}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  pixel is drawn.}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  T\\S | 0 | 1 |}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  -------------}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3    0 | 0 | 0 |}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  -------------}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3    1 | 0 | 1 |}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_CONSTANTS}{\cf3 )}{\line}
{\line}
{\tab}{\cf5 {\cf5 Drawing_mode_copy}{\cf1 :} {\cf4 INTEGER_32} {\cf1 =} 0}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Normal drawing mode.}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  T\\S | 0 | 1 |}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  -------------}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3    0 | 0 | 1 |}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  -------------}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3    1 | 0 | 1 |}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_CONSTANTS}{\cf3 )}{\line}
{\line}
{\tab}{\cf5 {\cf5 Drawing_mode_invert}{\cf1 :} {\cf4 INTEGER_32} {\cf1 =} 2}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Drawing mode where bits are inverted before drawn.}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  T\\S | 0 | 1 |}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  -------------}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3    0 | 1 | 0 |}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  -------------}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3    1 | 1 | 0 |}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_CONSTANTS}{\cf3 )}{\line}
{\line}
{\tab}{\cf5 {\cf5 Drawing_mode_or}{\cf1 :} {\cf4 INTEGER_32} {\cf1 =} 4}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Drawing mode where bitwise OR is performed when a}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  pixel is drawn.}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  T\\S | 0 | 1 |}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  -------------}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3    0 | 0 | 1 |}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  -------------}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3    1 | 1 | 1 |}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_CONSTANTS}{\cf3 )}{\line}
{\line}
{\tab}{\cf5 {\cf5 Drawing_mode_xor}{\cf1 :} {\cf4 INTEGER_32} {\cf1 =} 1}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Drawing mode where bitwise XOR is performed when a}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  pixel is drawn.}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  T\\S | 0 | 1 |}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  -------------}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3    0 | 0 | 1 |}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  -------------}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3    1 | 1 | 0 |}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_CONSTANTS}{\cf3 )}{\line}
{\tab}{\line}
{\b\cf6 feature} {\cf1 \{}NONE{\cf1 \}} {\cf3 --}{\cf3  Contract support}{\line}
{\line}
{\tab}{\cf5 {\cf5 is_usable}{\cf1 :} {\cf4 BOOLEAN}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Is }{\cf5 Current}{\cf3  usable?}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_ANY_I}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\b\cf6 attached} {\cf5 interface} {\b\cf6 and then} {\cf5 get_state_flag}{\cf1  }{\cf1 (}{\cf5 Is_initialized_flag}{\cf1 )} {\b\cf6 and then} {\b\cf6 not} {\cf5 is_destroyed}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\tab}{\line}
{\b\cf6 feature} {\cf3 --}{\cf3  Contract support}{\line}
{\line}
{\tab}{\cf5 {\cf5 valid_drawing_mode} {\cf1 (}{\cf5 a_mode}{\cf1 :} {\cf4 INTEGER_32}{\cf1 )}{\cf1 :} {\cf4 BOOLEAN}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Is }{\cf5 a_mode}{\cf3  a valid drawing mode?}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_CONSTANTS}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf5 a_mode} {\cf1 =} {\cf5 Drawing_mode_copy} {\b\cf6 or else} {\cf5 a_mode} {\cf1 =} {\cf5 Drawing_mode_xor} {\b\cf6 or else} {\cf5 a_mode} {\cf1 =} {\cf5 Drawing_mode_invert} {\b\cf6 or else} {\cf5 a_mode} {\cf1 =} {\cf5 Drawing_mode_and} {\b\cf6 or else} {\cf5 a_mode} {\cf1 =} {\cf5 Drawing_mode_or}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\tab}{\line}
{\b\cf6 feature} {\cf3 --}{\cf3  Drawing operations}{\line}
{\line}
{\tab}{\cf5 {\cf5 draw_arc} {\cf1 (}{\cf5 x}{\cf1 ,} {\cf5 y}{\cf1 ,} {\cf5 a_width}{\cf1 ,} {\cf5 a_height}{\cf1 :} {\cf4 INTEGER_32}{\cf1 ;} {\cf5 a_start_angle}{\cf1 ,} {\cf5 an_aperture}{\cf1 :} {\cf4 REAL_32}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Draw a part of an ellipse bounded by top left (}{\cf5 x}{\cf3 , }{\cf5 y}{\cf3 ) with}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  size }{\cf5 a_width}{\cf3  and }{\cf5 a_height}{\cf3 .}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Start at }{\cf5 a_start_angle}{\cf3  and stop at }{\cf5 a_start_angle}{\cf3  + }{\cf5 an_aperture}{\cf3 .}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Angles are measured in radians.}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 require} {\cf3 --} {\cf3 from }{\cf4 EV_DRAWABLE_I}{\line}
{\tab}{\tab}{\tab}{\cf1 a_bounding_width_positive_or_zero}{\cf1 :} {\cf5 a_width} {\cf1 >=} 0{\line}
{\tab}{\tab}{\tab}{\cf1 a_bounding_width_positive_or_zero}{\cf1 :} {\cf5 a_height} {\cf1 >=} 0{\line}
{\tab}{\tab}{\b\cf6 local}{\line}
{\tab}{\tab}{\tab}{\cf5 a_radians}{\cf1 :} {\cf4 INTEGER_32}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 drawable} {\cf1 /=} {\cf5 default_pointer} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 a_radians} {\cf1 :=} {\cf5 Radians_to_gdk_angle}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_draw_arc} {\cf1 (}{\cf5 drawable}{\cf1 ,} {\cf5 gc}{\cf1 ,} 0{\cf1 ,} {\cf1 (}{\cf5 x} {\cf1 +} {\cf5 device_x_offset}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\b\cf1 .}{\cf5 max}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 min_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\b\cf1 .}{\cf5 min}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 max_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\cf1 ,} {\cf1 (}{\cf5 y} {\cf1 +} {\cf5 device_y_offset}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\b\cf1 .}{\cf5 max}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 min_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\b\cf1 .}{\cf5 min}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 max_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\cf1 ,} {\cf5 a_width}{\cf1 ,} {\cf5 a_height}{\cf1 ,} {\cf1 (}{\cf5 a_start_angle} {\cf1 *} {\cf5 a_radians}{\b\cf1 .}{\cf5 to_real} {\cf1 +} 0.5{\cf1 )}{\b\cf1 .}{\cf5 truncated_to_integer}{\cf1 ,} {\cf1 (}{\cf5 an_aperture} {\cf1 *} {\cf5 a_radians}{\b\cf1 .}{\cf5 to_real} {\cf1 +} 0.5{\cf1 )}{\b\cf1 .}{\cf5 truncated_to_integer}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 update_if_needed}{\line}
{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 draw_ellipse} {\cf1 (}{\cf5 x}{\cf1 ,} {\cf5 y}{\cf1 ,} {\cf5 a_width}{\cf1 ,} {\cf5 a_height}{\cf1 :} {\cf4 INTEGER_32}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Draw an ellipse bounded by top left (}{\cf5 x}{\cf3 , }{\cf5 y}{\cf3 ) with}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  size }{\cf5 a_width}{\cf3  and }{\cf5 a_height}{\cf3 .}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 require} {\cf3 --} {\cf3 from }{\cf4 EV_DRAWABLE_I}{\line}
{\tab}{\tab}{\tab}{\cf1 a_bounding_width_positive_or_zero}{\cf1 :} {\cf5 a_width} {\cf1 >=} 0{\line}
{\tab}{\tab}{\tab}{\cf1 a_bounding_height_positive_or_zero}{\cf1 :} {\cf5 a_height} {\cf1 >=} 0{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 drawable} {\cf1 /=} {\cf5 default_pointer} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 if} {\cf1 (}{\cf5 a_width} {\cf1 >} 0 {\b\cf6 and} {\cf5 a_height} {\cf1 >} 0{\cf1 )} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_draw_arc} {\cf1 (}{\cf5 drawable}{\cf1 ,} {\cf5 gc}{\cf1 ,} 0{\cf1 ,} {\cf1 (}{\cf5 x} {\cf1 +} {\cf5 device_x_offset}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\b\cf1 .}{\cf5 max}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 min_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\b\cf1 .}{\cf5 min}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 max_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\cf1 ,} {\cf1 (}{\cf5 y} {\cf1 +} {\cf5 device_y_offset}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\b\cf1 .}{\cf5 max}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 min_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\b\cf1 .}{\cf5 min}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 max_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\cf1 ,} {\cf1 (}{\cf5 a_width} {\cf1 -} 1{\cf1 )}{\cf1 ,} {\cf1 (}{\cf5 a_height} {\cf1 -} 1{\cf1 )}{\cf1 ,} 0{\cf1 ,} {\cf5 Whole_circle}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf5 update_if_needed}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 draw_ellipsed_text} {\cf1 (}{\cf5 x}{\cf1 ,} {\cf5 y}{\cf1 :} {\cf4 INTEGER_32}{\cf1 ;} {\cf5 a_text}{\cf1 :} {\cf4 READABLE_STRING_GENERAL}{\cf1 ;} {\cf5 clipping_width}{\cf1 :} {\cf4 INTEGER_32}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Draw }{\cf5 a_text}{\cf3  with left of baseline at (}{\cf5 x}{\cf3 , }{\cf5 y}{\cf3 ) using }{\cf5 font}{\cf3 .}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Text is clipped to }{\cf5 clipping_width}{\cf3  in pixels and ellipses are displayed}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  to show truncated characters if any.}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 require} {\cf3 --} {\cf3 from }{\cf4 EV_DRAWABLE_I}{\line}
{\tab}{\tab}{\tab}{\cf1 a_text_not_void}{\cf1 :} {\cf5 a_text} {\cf1 /=} {\b\cf6 Void}{\line}
{\tab}{\tab}{\tab}{\cf1 clipping_width_positive}{\cf1 :} {\cf5 clipping_width} {\cf1 >=} 0{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\cf5 draw_text_internal}{\cf1  }{\cf1 (}{\cf5 x}{\b\cf1 .}{\cf5 max}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 min_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\b\cf1 .}{\cf5 min}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 max_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\cf1 ,} {\cf5 y}{\b\cf1 .}{\cf5 max}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 min_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\b\cf1 .}{\cf5 min}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 max_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\cf1 ,} {\cf5 a_text}{\cf1 ,} {\b\cf6 True}{\cf1 ,} {\cf5 clipping_width}{\cf1 ,} 0{\b\cf1 .}{\cf5 to_real}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 draw_ellipsed_text_top_left} {\cf1 (}{\cf5 x}{\cf1 ,} {\cf5 y}{\cf1 :} {\cf4 INTEGER_32}{\cf1 ;} {\cf5 a_text}{\cf1 :} {\cf4 READABLE_STRING_GENERAL}{\cf1 ;} {\cf5 clipping_width}{\cf1 :} {\cf4 INTEGER_32}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Draw }{\cf5 a_text}{\cf3  with top left corner at (}{\cf5 x}{\cf3 , }{\cf5 y}{\cf3 ) using }{\cf5 font}{\cf3 .}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Text is clipped to }{\cf5 clipping_width}{\cf3  in pixels and ellipses are displayed}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  to show truncated characters if any.}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 require} {\cf3 --} {\cf3 from }{\cf4 EV_DRAWABLE_I}{\line}
{\tab}{\tab}{\tab}{\cf1 a_text_not_void}{\cf1 :} {\cf5 a_text} {\cf1 /=} {\b\cf6 Void}{\line}
{\tab}{\tab}{\tab}{\cf1 clipping_width_positive}{\cf1 :} {\cf5 clipping_width} {\cf1 >=} 0{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\cf5 draw_text_internal}{\cf1  }{\cf1 (}{\cf5 x}{\b\cf1 .}{\cf5 max}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 min_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\b\cf1 .}{\cf5 min}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 max_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\cf1 ,} {\cf5 y}{\b\cf1 .}{\cf5 max}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 min_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\b\cf1 .}{\cf5 min}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 max_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\cf1 ,} {\cf5 a_text}{\cf1 ,} {\b\cf6 False}{\cf1 ,} {\cf5 clipping_width}{\cf1 ,} 0{\b\cf1 .}{\cf5 to_real}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 draw_full_pixmap} {\cf1 (}{\cf5 x}{\cf1 ,} {\cf5 y}{\cf1 :} {\cf4 INTEGER_32}{\cf1 ;} {\cf5 a_pixmap}{\cf1 :} {\cf4 EV_PIXMAP}{\cf1 ;} {\cf5 x_src}{\cf1 ,} {\cf5 y_src}{\cf1 ,} {\cf5 src_width}{\cf1 ,} {\cf5 src_height}{\cf1 :} {\cf4 INTEGER_32}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 local}{\line}
{\tab}{\tab}{\tab}{\cf5 l_source_full}{\cf1 ,} {\cf5 l_source_clip}{\cf1 ,} {\cf5 l_source_intersection}{\cf1 :} {\cf4 EV_RECTANGLE}{\line}
{\tab}{\tab}{\tab}{\cf5 l_dest_full}{\cf1 ,} {\cf5 l_dest_clip}{\cf1 ,} {\cf5 l_dest_intersection}{\cf1 :} {\cf4 EV_RECTANGLE}{\line}
{\tab}{\tab}{\tab}{\cf5 pixmap_imp}{\cf1 :} {\b\cf6 detachable} {\cf4 EV_PIXMAP_IMP}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 drawable} {\cf1 /=} {\cf5 default_pointer} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 create} {\cf5 l_source_full}{\b\cf1 .}{\cf5 make}{\cf1  }{\cf1 (}0{\cf1 ,} 0{\cf1 ,} {\cf5 a_pixmap}{\b\cf1 .}{\cf5 width}{\cf1 ,} {\cf5 a_pixmap}{\b\cf1 .}{\cf5 height}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 create} {\cf5 l_source_clip}{\b\cf1 .}{\cf5 make}{\cf1  }{\cf1 (}{\cf5 x_src}{\cf1 ,} {\cf5 y_src}{\cf1 ,} {\cf5 src_width}{\cf1 ,} {\cf5 src_height}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 l_source_intersection} {\cf1 :=} {\cf5 l_source_full}{\b\cf1 .}{\cf5 intersection}{\cf1  }{\cf1 (}{\cf5 l_source_clip}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 l_source_intersection}{\b\cf1 .}{\cf5 width} {\cf1 >} 0 {\b\cf6 and then} {\cf5 l_source_intersection}{\b\cf1 .}{\cf5 height} {\cf1 >} 0 {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\b\cf6 create} {\cf5 l_dest_full}{\b\cf1 .}{\cf5 make}{\cf1  }{\cf1 (}0{\cf1 ,} 0{\cf1 ,} {\cf5 width}{\cf1 ,} {\cf5 height}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\b\cf6 create} {\cf5 l_dest_clip}{\b\cf1 .}{\cf5 make}{\cf1  }{\cf1 (}{\cf5 x} {\cf1 +} {\cf5 l_source_intersection}{\b\cf1 .}{\cf5 x} {\cf1 -} {\cf5 l_source_clip}{\b\cf1 .}{\cf5 x}{\cf1 ,} {\cf5 y} {\cf1 +} {\cf5 l_source_intersection}{\b\cf1 .}{\cf5 y} {\cf1 -} {\cf5 l_source_clip}{\b\cf1 .}{\cf5 y}{\cf1 ,} {\cf5 l_source_intersection}{\b\cf1 .}{\cf5 width}{\cf1 ,} {\cf5 l_source_intersection}{\b\cf1 .}{\cf5 height}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf5 l_source_clip}{\b\cf1 .}{\cf5 move}{\cf1  }{\cf1 (}{\cf5 l_source_intersection}{\b\cf1 .}{\cf5 x}{\cf1 ,} {\cf5 l_source_intersection}{\b\cf1 .}{\cf5 y}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf5 l_source_clip}{\b\cf1 .}{\cf5 resize}{\cf1  }{\cf1 (}{\cf5 l_source_intersection}{\b\cf1 .}{\cf5 width}{\cf1 ,} {\cf5 l_source_intersection}{\b\cf1 .}{\cf5 height}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf5 l_dest_intersection} {\cf1 :=} {\cf5 l_dest_full}{\b\cf1 .}{\cf5 intersection}{\cf1  }{\cf1 (}{\cf5 l_dest_clip}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 l_dest_intersection}{\b\cf1 .}{\cf5 width} {\cf1 >} 0 {\b\cf6 and then} {\cf5 l_dest_intersection}{\b\cf1 .}{\cf5 height} {\cf1 >} 0 {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\tab}{\cf5 l_source_clip}{\b\cf1 .}{\cf5 resize}{\cf1  }{\cf1 (}{\cf5 l_dest_intersection}{\b\cf1 .}{\cf5 width}{\cf1 ,} {\cf5 l_dest_intersection}{\b\cf1 .}{\cf5 height}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\tab}{\cf5 l_source_clip}{\b\cf1 .}{\cf5 set_x}{\cf1  }{\cf1 (}{\cf5 l_source_clip}{\b\cf1 .}{\cf5 x} {\cf1 +} {\cf1 (}{\cf5 l_dest_intersection}{\b\cf1 .}{\cf5 x} {\cf1 -} {\cf5 l_dest_clip}{\b\cf1 .}{\cf5 x}{\cf1 )}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\tab}{\cf5 l_source_clip}{\b\cf1 .}{\cf5 set_y}{\cf1  }{\cf1 (}{\cf5 l_source_clip}{\b\cf1 .}{\cf5 y} {\cf1 +} {\cf1 (}{\cf5 l_dest_intersection}{\b\cf1 .}{\cf5 y} {\cf1 -} {\cf5 l_dest_clip}{\b\cf1 .}{\cf5 y}{\cf1 )}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\tab}{\cf5 l_dest_clip}{\b\cf1 .}{\cf5 move}{\cf1  }{\cf1 (}{\cf5 l_dest_intersection}{\b\cf1 .}{\cf5 x}{\cf1 ,} {\cf5 l_dest_intersection}{\b\cf1 .}{\cf5 y}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\tab}{\cf5 l_dest_clip}{\b\cf1 .}{\cf5 resize}{\cf1  }{\cf1 (}{\cf5 l_dest_intersection}{\b\cf1 .}{\cf5 width}{\cf1 ,} {\cf5 l_dest_intersection}{\b\cf1 .}{\cf5 y}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\tab}{\cf5 pixmap_imp} {\cf1 ?=} {\cf5 a_pixmap}{\b\cf1 .}{\cf5 implementation}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\tab}{\b\cf6 check}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\tab}{\tab}{\tab}{\cf5 pixmap_imp} {\cf1 /=} {\b\cf6 Void}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\tab}{\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 pixmap_imp}{\b\cf1 .}{\cf5 mask} {\cf1 /=} {\cf5 default_pointer} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_gc_set_clip_mask} {\cf1 (}{\cf5 gc}{\cf1 ,} {\cf5 pixmap_imp}{\b\cf1 .}{\cf5 mask}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_gc_set_clip_origin} {\cf1 (}{\cf5 gc}{\cf1 ,} {\cf5 l_dest_clip}{\b\cf1 .}{\cf5 x} {\cf1 +} {\cf5 device_x_offset}{\b\cf1 .}{\cf5 to_integer_32} {\cf1 -} {\cf5 l_source_clip}{\b\cf1 .}{\cf5 x}{\cf1 ,} {\cf5 l_dest_clip}{\b\cf1 .}{\cf5 y} {\cf1 +} {\cf5 device_y_offset}{\b\cf1 .}{\cf5 to_integer_32} {\cf1 -} {\cf5 l_source_clip}{\b\cf1 .}{\cf5 y}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_draw_drawable} {\cf1 (}{\cf5 drawable}{\cf1 ,} {\cf5 gc}{\cf1 ,} {\cf5 pixmap_imp}{\b\cf1 .}{\cf5 drawable}{\cf1 ,} {\cf5 l_source_clip}{\b\cf1 .}{\cf5 x}{\cf1 ,} {\cf5 l_source_clip}{\b\cf1 .}{\cf5 y}{\cf1 ,} {\cf5 l_dest_clip}{\b\cf1 .}{\cf5 x} {\cf1 +} {\cf5 device_x_offset}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 ,} {\cf5 l_dest_clip}{\b\cf1 .}{\cf5 y} {\cf1 +} {\cf5 device_y_offset}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 ,} {\cf5 l_source_clip}{\b\cf1 .}{\cf5 width}{\cf1 ,} {\cf5 l_source_clip}{\b\cf1 .}{\cf5 height}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\tab}{\cf5 update_if_needed}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 pixmap_imp}{\b\cf1 .}{\cf5 mask} {\cf1 /=} {\cf5 default_pointer} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_gc_set_clip_mask} {\cf1 (}{\cf5 gc}{\cf1 ,} {\cf5 default_pointer}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_gc_set_clip_origin} {\cf1 (}{\cf5 gc}{\cf1 ,} 0{\cf1 ,} 0{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 draw_pie_slice} {\cf1 (}{\cf5 x}{\cf1 ,} {\cf5 y}{\cf1 ,} {\cf5 a_width}{\cf1 ,} {\cf5 a_height}{\cf1 :} {\cf4 INTEGER_32}{\cf1 ;} {\cf5 a_start_angle}{\cf1 ,} {\cf5 an_aperture}{\cf1 :} {\cf4 REAL_32}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Draw a part of an ellipse bounded by top left (}{\cf5 x}{\cf3 , }{\cf5 y}{\cf3 ) with}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  size }{\cf5 a_width}{\cf3  and }{\cf5 a_height}{\cf3 .}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Start at }{\cf5 a_start_angle}{\cf3  and stop at }{\cf5 a_start_angle}{\cf3  + }{\cf5 an_aperture}{\cf3 .}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  The arc is then closed by two segments through (}{\cf5 x}{\cf3 , }{\cf5 y}{\cf3 ).}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Angles are measured in radians}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 require} {\cf3 --} {\cf3 from }{\cf4 EV_DRAWABLE_I}{\line}
{\tab}{\tab}{\tab}{\cf1 a_bounding_width_positive_or_zero}{\cf1 :} {\cf5 a_width} {\cf1 >=} 0{\line}
{\tab}{\tab}{\tab}{\cf1 a_bounding_height_positive_or_zero}{\cf1 :} {\cf5 a_height} {\cf1 >=} 0{\line}
{\tab}{\tab}{\b\cf6 local}{\line}
{\tab}{\tab}{\tab}{\cf5 left}{\cf1 ,} {\cf5 top}{\cf1 ,} {\cf5 right}{\cf1 ,} {\cf5 bottom}{\cf1 :} {\cf4 INTEGER_32}{\line}
{\tab}{\tab}{\tab}{\cf5 x_start_arc}{\cf1 ,} {\cf5 y_start_arc}{\cf1 ,} {\cf5 x_end_arc}{\cf1 ,} {\cf5 y_end_arc}{\cf1 :} {\cf4 INTEGER_32}{\line}
{\tab}{\tab}{\tab}{\cf5 semi_width}{\cf1 ,} {\cf5 semi_height}{\cf1 :} {\cf4 REAL_32}{\line}
{\tab}{\tab}{\tab}{\cf5 tang_start}{\cf1 ,} {\cf5 tang_end}{\cf1 :} {\cf4 REAL_32}{\line}
{\tab}{\tab}{\tab}{\cf5 x_tmp}{\cf1 ,} {\cf5 y_tmp}{\cf1 :} {\cf4 REAL_32}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\cf5 left} {\cf1 :=} {\cf5 x}{\b\cf1 .}{\cf5 max}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 min_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\b\cf1 .}{\cf5 min}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 max_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf5 top} {\cf1 :=} {\cf5 y}{\b\cf1 .}{\cf5 max}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 min_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\b\cf1 .}{\cf5 min}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 max_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf5 right} {\cf1 :=} {\cf5 left} {\cf1 +} {\cf5 a_width}{\line}
{\tab}{\tab}{\tab}{\cf5 bottom} {\cf1 :=} {\cf5 top} {\cf1 +} {\cf5 a_height}{\line}
{\tab}{\tab}{\tab}{\cf5 semi_width} {\cf1 :=} {\cf1 (}{\cf5 a_width} {\cf1 /} 2{\cf1 )}{\b\cf1 .}{\cf5 truncated_to_real}{\line}
{\tab}{\tab}{\tab}{\cf5 semi_height} {\cf1 :=} {\cf1 (}{\cf5 a_height} {\cf1 /} 2{\cf1 )}{\b\cf1 .}{\cf5 truncated_to_real}{\line}
{\tab}{\tab}{\tab}{\cf5 tang_start} {\cf1 :=} {\cf5 tangent}{\cf1  }{\cf1 (}{\cf5 a_start_angle}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf5 tang_end} {\cf1 :=} {\cf5 tangent}{\cf1  }{\cf1 (}{\cf5 a_start_angle} {\cf1 +} {\cf5 an_aperture}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf5 x_tmp} {\cf1 :=} {\cf5 semi_height} {\cf1 /} {\cf1 (}{\cf5 sqrt}{\cf1  }{\cf1 (}{\cf5 tang_start} {\cf1 *} {\cf5 tang_start} {\cf1 +} {\cf1 (}{\cf5 semi_height} {\cf1 *} {\cf5 semi_height}{\cf1 )} {\cf1 /} {\cf1 (}{\cf5 semi_width} {\cf1 *} {\cf5 semi_width}{\cf1 )}{\cf1 )}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf5 y_tmp} {\cf1 :=} {\cf5 semi_height} {\cf1 /} {\cf1 (}{\cf5 sqrt}{\cf1  }{\cf1 (}1{\b\cf1 .}{\cf5 to_real} {\cf1 +} {\cf1 (}{\cf5 semi_height} {\cf1 *} {\cf5 semi_height}{\cf1 )} {\cf1 /} {\cf1 (}{\cf5 semi_width} {\cf1 *} {\cf5 semi_width} {\cf1 *} {\cf5 tang_start} {\cf1 *} {\cf5 tang_start}{\cf1 )}{\cf1 )}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 sine}{\cf1  }{\cf1 (}{\cf5 a_start_angle}{\cf1 )} {\cf1 >} 0{\b\cf1 .}{\cf5 to_real} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 y_tmp} {\cf1 :=} {\cf1 -} {\cf5 y_tmp}{\line}
{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 cosine}{\cf1  }{\cf1 (}{\cf5 a_start_angle}{\cf1 )} {\cf1 <} 0{\b\cf1 .}{\cf5 to_real} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 x_tmp} {\cf1 :=} {\cf1 -} {\cf5 x_tmp}{\line}
{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\tab}{\cf5 x_start_arc} {\cf1 :=} {\cf1 (}{\cf5 x_tmp} {\cf1 +} {\cf5 left}{\b\cf1 .}{\cf5 to_real} {\cf1 +} {\cf5 semi_width}{\cf1 )}{\b\cf1 .}{\cf5 rounded}{\line}
{\tab}{\tab}{\tab}{\cf5 y_start_arc} {\cf1 :=} {\cf1 (}{\cf5 y_tmp} {\cf1 +} {\cf5 top}{\b\cf1 .}{\cf5 to_real} {\cf1 +} {\cf5 semi_height}{\cf1 )}{\b\cf1 .}{\cf5 rounded}{\line}
{\tab}{\tab}{\tab}{\cf5 x_tmp} {\cf1 :=} {\cf5 semi_height} {\cf1 /} {\cf1 (}{\cf5 sqrt}{\cf1  }{\cf1 (}{\cf5 tang_end} {\cf1 *} {\cf5 tang_end} {\cf1 +} {\cf1 (}{\cf5 semi_height} {\cf1 *} {\cf5 semi_height}{\cf1 )} {\cf1 /} {\cf1 (}{\cf5 semi_width} {\cf1 *} {\cf5 semi_width}{\cf1 )}{\cf1 )}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf5 y_tmp} {\cf1 :=} {\cf5 semi_height} {\cf1 /} {\cf1 (}{\cf5 sqrt}{\cf1  }{\cf1 (}1{\b\cf1 .}{\cf5 to_real} {\cf1 +} {\cf1 (}{\cf5 semi_height} {\cf1 *} {\cf5 semi_height}{\cf1 )} {\cf1 /} {\cf1 (}{\cf5 semi_width} {\cf1 *} {\cf5 semi_width} {\cf1 *} {\cf5 tang_end} {\cf1 *} {\cf5 tang_end}{\cf1 )}{\cf1 )}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 sine}{\cf1  }{\cf1 (}{\cf5 a_start_angle} {\cf1 +} {\cf5 an_aperture}{\cf1 )} {\cf1 >} 0{\b\cf1 .}{\cf5 to_real} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 y_tmp} {\cf1 :=} {\cf1 -} {\cf5 y_tmp}{\line}
{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 cosine}{\cf1  }{\cf1 (}{\cf5 a_start_angle} {\cf1 +} {\cf5 an_aperture}{\cf1 )} {\cf1 <} 0{\b\cf1 .}{\cf5 to_real} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 x_tmp} {\cf1 :=} {\cf1 -} {\cf5 x_tmp}{\line}
{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\tab}{\cf5 x_end_arc} {\cf1 :=} {\cf1 (}{\cf5 x_tmp} {\cf1 +} {\cf5 left}{\b\cf1 .}{\cf5 to_real} {\cf1 +} {\cf5 semi_width}{\cf1 )}{\b\cf1 .}{\cf5 rounded}{\line}
{\tab}{\tab}{\tab}{\cf5 y_end_arc} {\cf1 :=} {\cf1 (}{\cf5 y_tmp} {\cf1 +} {\cf5 top}{\b\cf1 .}{\cf5 to_real} {\cf1 +} {\cf5 semi_height}{\cf1 )}{\b\cf1 .}{\cf5 rounded}{\line}
{\tab}{\tab}{\tab}{\cf5 draw_arc}{\cf1  }{\cf1 (}{\cf5 x}{\cf1 ,} {\cf5 y}{\cf1 ,} {\cf5 a_width}{\cf1 ,} {\cf5 a_height}{\cf1 ,} {\cf5 a_start_angle}{\cf1 ,} {\cf5 an_aperture}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf5 draw_segment}{\cf1  }{\cf1 (}{\cf5 x} {\cf1 +} {\cf1 (}{\cf5 a_width} {\cf1 //} 2{\cf1 )}{\cf1 ,} {\cf5 y} {\cf1 +} {\cf1 (}{\cf5 a_height} {\cf1 //} 2{\cf1 )}{\cf1 ,} {\cf5 x_start_arc}{\cf1 ,} {\cf5 y_start_arc}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf5 draw_segment}{\cf1  }{\cf1 (}{\cf5 x} {\cf1 +} {\cf1 (}{\cf5 a_width} {\cf1 //} 2{\cf1 )}{\cf1 ,} {\cf5 y} {\cf1 +} {\cf1 (}{\cf5 a_height} {\cf1 //} 2{\cf1 )}{\cf1 ,} {\cf5 x_end_arc}{\cf1 ,} {\cf5 y_end_arc}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf5 update_if_needed}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 draw_pixmap} {\cf1 (}{\cf5 x}{\cf1 ,} {\cf5 y}{\cf1 :} {\cf4 INTEGER_32}{\cf1 ;} {\cf5 a_pixmap}{\cf1 :} {\cf4 EV_PIXMAP}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Draw }{\cf5 a_pixmap}{\cf3  with upper-left corner on (}{\cf5 x}{\cf3 , }{\cf5 y}{\cf3 ).}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 require} {\cf3 --} {\cf3 from }{\cf4 EV_DRAWABLE_I}{\line}
{\tab}{\tab}{\tab}{\cf1 a_pixmap_not_void}{\cf1 :} {\cf5 a_pixmap} {\cf1 /=} {\b\cf6 Void}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\cf5 draw_full_pixmap}{\cf1  }{\cf1 (}{\cf5 x}{\cf1 ,} {\cf5 y}{\cf1 ,} {\cf5 a_pixmap}{\cf1 ,} 0{\cf1 ,} 0{\cf1 ,} {\cf5 a_pixmap}{\b\cf1 .}{\cf5 width}{\cf1 ,} {\cf5 a_pixmap}{\b\cf1 .}{\cf5 height}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 draw_point} {\cf1 (}{\cf5 x}{\cf1 ,} {\cf5 y}{\cf1 :} {\cf4 INTEGER_32}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Draw point at (}{\cf5 x}{\cf3 , }{\cf5 y}{\cf3 ).}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 require} {\cf3 --} {\cf3 from } {\cf4 EV_DRAWABLE_I}{\line}
{\tab}{\tab}{\tab}{\b\cf6 True}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 drawable} {\cf1 /=} {\cf5 default_pointer} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_draw_point} {\cf1 (}{\cf5 drawable}{\cf1 ,} {\cf5 gc}{\cf1 ,} {\cf1 (}{\cf5 x} {\cf1 +} {\cf5 device_x_offset}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\b\cf1 .}{\cf5 max}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 min_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\b\cf1 .}{\cf5 min}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 max_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\cf1 ,} {\cf1 (}{\cf5 y} {\cf1 +} {\cf5 device_y_offset}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\b\cf1 .}{\cf5 max}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 min_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\b\cf1 .}{\cf5 min}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 max_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 update_if_needed}{\line}
{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 draw_polyline} {\cf1 (}{\cf5 points}{\cf1 :} {\cf4 ARRAY} {\cf1 [}{\cf4 EV_COORDINATE}{\cf1 ]}{\cf1 ;} {\cf5 is_closed}{\cf1 :} {\cf4 BOOLEAN}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Draw line segments between subsequent points in}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  }{\cf5 points}{\cf3 . If }{\cf5 is_closed}{\cf3  draw line segment between first}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  and last point in }{\cf5 points}{\cf3 .}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 require} {\cf3 --} {\cf3 from }{\cf4 EV_DRAWABLE_I}{\line}
{\tab}{\tab}{\tab}{\cf1 points_not_void}{\cf1 :} {\cf5 points} {\cf1 /=} {\b\cf6 Void}{\line}
{\tab}{\tab}{\b\cf6 local}{\line}
{\tab}{\tab}{\tab}{\cf5 tmp}{\cf1 :} {\cf4 SPECIAL} {\cf1 [}{\cf4 INTEGER_32}{\cf1 ]}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 drawable} {\cf1 /=} {\cf5 default_pointer} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 tmp} {\cf1 :=} {\cf5 coord_array_to_gdkpoint_array}{\cf1  }{\cf1 (}{\cf5 points}{\cf1 )}{\b\cf1 .}{\cf5 area}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 is_closed} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_draw_polygon} {\cf1 (}{\cf5 drawable}{\cf1 ,} {\cf5 gc}{\cf1 ,} 0{\cf1 ,} {\cf1 $}{\cf5 tmp}{\b\cf1 .}{\cf5 to_pointer}{\cf1 ,} {\cf5 points}{\b\cf1 .}{\cf5 count}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf5 update_if_needed}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 else}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_draw_lines} {\cf1 (}{\cf5 drawable}{\cf1 ,} {\cf5 gc}{\cf1 ,} {\cf1 $}{\cf5 tmp}{\b\cf1 .}{\cf5 to_pointer}{\cf1 ,} {\cf5 points}{\b\cf1 .}{\cf5 count}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf5 update_if_needed}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 draw_rectangle} {\cf1 (}{\cf5 x}{\cf1 ,} {\cf5 y}{\cf1 ,} {\cf5 a_width}{\cf1 ,} {\cf5 a_height}{\cf1 :} {\cf4 INTEGER_32}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Draw rectangle with upper-left corner on (}{\cf5 x}{\cf3 , }{\cf5 y}{\cf3 )}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  with size }{\cf5 a_width}{\cf3  and }{\cf5 a_height}{\cf3 .}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 require} {\cf3 --} {\cf3 from }{\cf4 EV_DRAWABLE_I}{\line}
{\tab}{\tab}{\tab}{\cf1 a_width_positive_or_zero}{\cf1 :} {\cf5 a_width} {\cf1 >=} 0{\line}
{\tab}{\tab}{\tab}{\cf1 a_height_positive_or_zero}{\cf1 :} {\cf5 a_height} {\cf1 >=} 0{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 drawable} {\cf1 /=} {\cf5 default_pointer} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 a_width} {\cf1 >} 0 {\b\cf6 and then} {\cf5 a_height} {\cf1 >} 0 {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_draw_rectangle} {\cf1 (}{\cf5 drawable}{\cf1 ,} {\cf5 gc}{\cf1 ,} 0{\cf1 ,} {\cf1 (}{\cf5 x} {\cf1 +} {\cf5 device_x_offset}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\b\cf1 .}{\cf5 max}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 min_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\b\cf1 .}{\cf5 min}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 max_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\cf1 ,} {\cf1 (}{\cf5 y} {\cf1 +} {\cf5 device_y_offset}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\b\cf1 .}{\cf5 max}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 min_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\b\cf1 .}{\cf5 min}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 max_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\cf1 ,} {\cf5 a_width} {\cf1 -} 1{\cf1 ,} {\cf5 a_height} {\cf1 -} 1{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf5 update_if_needed}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 draw_rotated_text} {\cf1 (}{\cf5 x}{\cf1 ,} {\cf5 y}{\cf1 :} {\cf4 INTEGER_32}{\cf1 ;} {\cf5 angle}{\cf1 :} {\cf4 REAL_32}{\cf1 ;} {\cf5 a_text}{\cf1 :} {\cf4 READABLE_STRING_GENERAL}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Draw rotated text }{\cf5 a_text}{\cf3  with left of baseline at (}{\cf5 x}{\cf3 , }{\cf5 y}{\cf3 ) using }{\cf5 font}{\cf3 .}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Rotation is number of radians counter-clockwise from horizontal plane.}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 require} {\cf3 --} {\cf3 from }{\cf4 EV_DRAWABLE_I}{\line}
{\tab}{\tab}{\tab}{\cf1 a_text_not_void}{\cf1 :} {\cf5 a_text} {\cf1 /=} {\b\cf6 Void}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\cf5 draw_text_internal}{\cf1  }{\cf1 (}{\cf5 x}{\b\cf1 .}{\cf5 max}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 min_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\b\cf1 .}{\cf5 min}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 max_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\cf1 ,} {\cf5 y}{\b\cf1 .}{\cf5 max}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 min_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\b\cf1 .}{\cf5 min}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 max_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\cf1 ,} {\cf5 a_text}{\cf1 ,} {\b\cf6 True}{\cf1 ,} -1{\cf1 ,} {\cf5 angle}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 draw_segment} {\cf1 (}{\cf5 x1}{\cf1 ,} {\cf5 y1}{\cf1 ,} {\cf5 x2}{\cf1 ,} {\cf5 y2}{\cf1 :} {\cf4 INTEGER_32}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Draw line segment from (}{\cf5 x1}{\cf3 , 'y1') to (}{\cf5 x2}{\cf3 , 'y2').}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 require} {\cf3 --} {\cf3 from } {\cf4 EV_DRAWABLE_I}{\line}
{\tab}{\tab}{\tab}{\b\cf6 True}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 drawable} {\cf1 /=} {\cf5 default_pointer} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_draw_line} {\cf1 (}{\cf5 drawable}{\cf1 ,} {\cf5 gc}{\cf1 ,} {\cf1 (}{\cf5 x1} {\cf1 +} {\cf5 device_x_offset}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\b\cf1 .}{\cf5 max}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 min_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\b\cf1 .}{\cf5 min}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 max_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\cf1 ,} {\cf1 (}{\cf5 y1} {\cf1 +} {\cf5 device_y_offset}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\b\cf1 .}{\cf5 max}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 min_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\b\cf1 .}{\cf5 min}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 max_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\cf1 ,} {\cf1 (}{\cf5 x2} {\cf1 +} {\cf5 device_x_offset}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\b\cf1 .}{\cf5 max}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 min_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\b\cf1 .}{\cf5 min}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 max_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\cf1 ,} {\cf1 (}{\cf5 y2} {\cf1 +} {\cf5 device_y_offset}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\b\cf1 .}{\cf5 max}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 min_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\b\cf1 .}{\cf5 min}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 max_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 update_if_needed}{\line}
{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 draw_straight_line} {\cf1 (}{\cf5 x1}{\cf1 ,} {\cf5 y1}{\cf1 ,} {\cf5 x2}{\cf1 ,} {\cf5 y2}{\cf1 :} {\cf4 INTEGER_32}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Draw infinite straight line through (}{\cf5 x1}{\cf3 ,'y1') and (}{\cf5 x2}{\cf3 ,'y2').}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_I}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 local}{\line}
{\tab}{\tab}{\tab}{\cf5 ax1}{\cf1 ,} {\cf5 ax2}{\cf1 ,} {\cf5 ay1}{\cf1 ,} {\cf5 ay2}{\cf1 ,} {\cf5 dx}{\cf1 ,} {\cf5 dy}{\cf1 :} {\cf4 INTEGER_32}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\cf5 dx} {\cf1 :=} {\cf1 (}{\cf5 x2} {\cf1 -} {\cf5 x1}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf5 dy} {\cf1 :=} {\cf1 (}{\cf5 y2} {\cf1 -} {\cf5 y1}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 dy} {\cf1 /=} 0 {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 ax1} {\cf1 :=} {\cf5 x2} {\cf1 -} {\cf1 (}{\cf1 (}{\cf5 dx} {\cf1 /} {\cf5 dy}{\cf1 )} {\cf1 *} {\cf5 y2}{\b\cf1 .}{\cf5 to_double}{\cf1 )}{\b\cf1 .}{\cf5 rounded}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 ax2} {\cf1 :=} {\cf5 x1} {\cf1 -} {\cf1 (}{\cf1 (}{\cf5 dx} {\cf1 /} {\cf5 dy}{\cf1 )} {\cf1 *} {\cf1 (}{\cf5 y1} {\cf1 -} {\cf5 height}{\cf1 )}{\b\cf1 .}{\cf5 to_double}{\cf1 )}{\b\cf1 .}{\cf5 rounded}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 ay1} {\cf1 :=} 0{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 ay2} {\cf1 :=} {\cf5 height}{\line}
{\tab}{\tab}{\tab}{\b\cf6 else}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 ay1} {\cf1 :=} {\cf5 y1}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 ay2} {\cf1 :=} {\cf5 y2}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 ax1} {\cf1 :=} 0{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 ax2} {\cf1 :=} {\cf5 width}{\line}
{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\tab}{\cf5 draw_segment}{\cf1  }{\cf1 (}{\cf5 ax1}{\cf1 ,} {\cf5 ay1}{\cf1 ,} {\cf5 ax2}{\cf1 ,} {\cf5 ay2}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 draw_sub_pixel_buffer} {\cf1 (}{\cf5 a_x}{\cf1 ,} {\cf5 a_y}{\cf1 :} {\cf4 INTEGER_32}{\cf1 ;} {\cf5 a_pixel_buffer}{\cf1 :} {\cf4 EV_PIXEL_BUFFER}{\cf1 ;} {\cf5 area}{\cf1 :} {\cf4 EV_RECTANGLE}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Draw }{\cf5 area}{\cf3  of }{\cf5 a_pixel_buffer}{\cf3  with upper-left corner on (}{\cf5 a_x}{\cf3 , }{\cf5 a_y}{\cf3 ).}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 require} {\cf3 --} {\cf3 from }{\cf4 EV_DRAWABLE_I}{\line}
{\tab}{\tab}{\tab}{\cf1 a_pixel_buffer_not_void}{\cf1 :} {\cf5 a_pixel_buffer} {\cf1 /=} {\b\cf6 Void}{\line}
{\tab}{\tab}{\tab}{\cf1 a_pixel_buffer_not_destroyed}{\cf1 :} {\b\cf6 not} {\cf5 a_pixel_buffer}{\b\cf1 .}{\cf5 is_destroyed}{\line}
{\tab}{\tab}{\tab}{\cf1 area_not_void}{\cf1 :} {\cf5 area} {\cf1 /=} {\b\cf6 Void}{\line}
{\tab}{\tab}{\b\cf6 local}{\line}
{\tab}{\tab}{\tab}{\cf5 a_pixbuf_imp}{\cf1 :} {\b\cf6 detachable} {\cf4 EV_PIXEL_BUFFER_IMP}{\line}
{\tab}{\tab}{\tab}{\cf5 l_pixels}{\cf1 :} {\cf4 POINTER}{\line}
{\tab}{\tab}{\tab}{\cf5 l_rowstride}{\cf1 :} {\cf4 NATURAL_32}{\line}
{\tab}{\tab}{\tab}{\cf5 l_back_buffer}{\cf1 :} {\cf4 POINTER}{\line}
{\tab}{\tab}{\tab}{\cf5 l_x}{\cf1 ,} {\cf5 l_y}{\cf1 :} {\cf4 INTEGER_32}{\line}
{\tab}{\tab}{\tab}{\cf5 l_rect}{\cf1 :} {\cf4 EV_RECTANGLE}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\cf5 l_rect} {\cf1 :=} {\cf5 area}{\b\cf1 .}{\cf5 intersection}{\cf1  }{\cf1 (}{\cf5 a_pixel_buffer}{\b\cf1 .}{\cf5 area}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 l_rect}{\b\cf1 .}{\cf5 width} {\cf1 >} 0 {\b\cf6 and} {\cf5 l_rect}{\b\cf1 .}{\cf5 height} {\cf1 >} 0 {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 l_x} {\cf1 :=} {\cf5 a_x} {\cf1 +} {\cf5 l_rect}{\b\cf1 .}{\cf5 x} {\cf1 -} {\cf5 area}{\b\cf1 .}{\cf5 x}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 l_y} {\cf1 :=} {\cf5 a_y} {\cf1 +} {\cf5 l_rect}{\b\cf1 .}{\cf5 y} {\cf1 -} {\cf5 area}{\b\cf1 .}{\cf5 y}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 a_pixbuf_imp} {\cf1 ?=} {\cf5 a_pixel_buffer}{\b\cf1 .}{\cf5 implementation}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 check}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\tab}{\cf5 a_pixbuf_imp} {\cf1 /=} {\b\cf6 Void}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 supports_pixbuf_alpha} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_draw_pixbuf} {\cf1 (}{\cf5 drawable}{\cf1 ,} {\cf5 gc}{\cf1 ,} {\cf5 a_pixbuf_imp}{\b\cf1 .}{\cf5 gdk_pixbuf}{\cf1 ,} {\cf5 l_rect}{\b\cf1 .}{\cf5 x}{\cf1 ,} {\cf5 l_rect}{\b\cf1 .}{\cf5 y}{\cf1 ,} {\cf5 l_x} {\cf1 +} {\cf5 device_x_offset}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 ,} {\cf5 l_y} {\cf1 +} {\cf5 device_y_offset}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 ,} {\cf5 l_rect}{\b\cf1 .}{\cf5 width}{\cf1 ,} {\cf5 l_rect}{\b\cf1 .}{\cf5 height}{\cf1 ,} 0{\cf1 ,} 0{\cf1 ,} 0{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 else}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf5 l_back_buffer} {\cf1 :=} {\cf5 pixbuf_from_drawable_at_position}{\cf1  }{\cf1 (}{\cf5 l_x}{\cf1 ,} {\cf5 l_y}{\cf1 ,} 0{\cf1 ,} 0{\cf1 ,} {\cf5 l_rect}{\b\cf1 .}{\cf5 width}{\cf1 ,} {\cf5 l_rect}{\b\cf1 .}{\cf5 height}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_pixbuf_composite} {\cf1 (}{\cf5 a_pixbuf_imp}{\b\cf1 .}{\cf5 gdk_pixbuf}{\cf1 ,} {\cf5 l_back_buffer}{\cf1 ,} 0{\cf1 ,} 0{\cf1 ,} {\cf5 l_rect}{\b\cf1 .}{\cf5 width}{\cf1 ,} {\cf5 l_rect}{\b\cf1 .}{\cf5 height}{\cf1 ,} 0{\b\cf1 .}{\cf5 to_double}{\cf1 ,} 0{\b\cf1 .}{\cf5 to_double}{\cf1 ,} 1{\b\cf1 .}{\cf5 to_double}{\cf1 ,} 1{\b\cf1 .}{\cf5 to_double}{\cf1 ,} 0{\cf1 ,} 255{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf5 l_pixels} {\cf1 :=} {\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_pixbuf_get_pixels} {\cf1 (}{\cf5 l_back_buffer}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf5 l_rowstride} {\cf1 :=} {\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_pixbuf_get_rowstride} {\cf1 (}{\cf5 l_back_buffer}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_draw_rgb_32_image} {\cf1 (}{\cf5 drawable}{\cf1 ,} {\cf5 gc}{\cf1 ,} {\cf5 l_x} {\cf1 +} {\cf5 device_x_offset}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 ,} {\cf5 l_y} {\cf1 +} {\cf5 device_y_offset}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 ,} {\cf5 l_rect}{\b\cf1 .}{\cf5 width}{\cf1 ,} {\cf5 l_rect}{\b\cf1 .}{\cf5 height}{\cf1 ,} 0{\cf1 ,} {\cf5 l_pixels}{\cf1 ,} {\cf5 l_rowstride}{\b\cf1 .}{\cf5 as_integer_32}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 object_unref} {\cf1 (}{\cf5 l_back_buffer}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 draw_sub_pixmap} {\cf1 (}{\cf5 x}{\cf1 ,} {\cf5 y}{\cf1 :} {\cf4 INTEGER_32}{\cf1 ;} {\cf5 a_pixmap}{\cf1 :} {\cf4 EV_PIXMAP}{\cf1 ;} {\cf5 area}{\cf1 :} {\cf4 EV_RECTANGLE}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Draw }{\cf5 area}{\cf3  of }{\cf5 a_pixmap}{\cf3  with upper-left corner on (}{\cf5 x}{\cf3 , }{\cf5 y}{\cf3 ).}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 require} {\cf3 --} {\cf3 from }{\cf4 EV_DRAWABLE_I}{\line}
{\tab}{\tab}{\tab}{\cf1 a_pixmap_not_void}{\cf1 :} {\cf5 a_pixmap} {\cf1 /=} {\b\cf6 Void}{\line}
{\tab}{\tab}{\tab}{\cf1 a_pixmap_not_destroyed}{\cf1 :} {\b\cf6 not} {\cf5 a_pixmap}{\b\cf1 .}{\cf5 is_destroyed}{\line}
{\tab}{\tab}{\tab}{\cf1 area_not_void}{\cf1 :} {\cf5 area} {\cf1 /=} {\b\cf6 Void}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\cf5 draw_full_pixmap}{\cf1  }{\cf1 (}{\cf5 x}{\cf1 ,} {\cf5 y}{\cf1 ,} {\cf5 a_pixmap}{\cf1 ,} {\cf5 area}{\b\cf1 .}{\cf5 x}{\cf1 ,} {\cf5 area}{\b\cf1 .}{\cf5 y}{\cf1 ,} {\cf5 area}{\b\cf1 .}{\cf5 width}{\cf1 ,} {\cf5 area}{\b\cf1 .}{\cf5 height}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 draw_text} {\cf1 (}{\cf5 x}{\cf1 ,} {\cf5 y}{\cf1 :} {\cf4 INTEGER_32}{\cf1 ;} {\cf5 a_text}{\cf1 :} {\cf4 READABLE_STRING_GENERAL}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Draw }{\cf5 a_text}{\cf3  with left of baseline at (}{\cf5 x}{\cf3 , }{\cf5 y}{\cf3 ) using }{\cf5 font}{\cf3 .}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 require} {\cf3 --} {\cf3 from }{\cf4 EV_DRAWABLE_I}{\line}
{\tab}{\tab}{\tab}{\cf1 a_text_not_void}{\cf1 :} {\cf5 a_text} {\cf1 /=} {\b\cf6 Void}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\cf5 draw_text_internal}{\cf1  }{\cf1 (}{\cf5 x}{\b\cf1 .}{\cf5 max}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 min_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\b\cf1 .}{\cf5 min}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 max_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\cf1 ,} {\cf5 y}{\b\cf1 .}{\cf5 max}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 min_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\b\cf1 .}{\cf5 min}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 max_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\cf1 ,} {\cf5 a_text}{\cf1 ,} {\b\cf6 True}{\cf1 ,} -1{\cf1 ,} 0{\b\cf1 .}{\cf5 to_real}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 draw_text_internal} {\cf1 (}{\cf5 x}{\cf1 ,} {\cf5 y}{\cf1 :} {\cf4 INTEGER_32}{\cf1 ;} {\cf5 a_text}{\cf1 :} {\cf4 READABLE_STRING_GENERAL}{\cf1 ;} {\cf5 draw_from_baseline}{\cf1 :} {\cf4 BOOLEAN}{\cf1 ;} {\cf5 a_width}{\cf1 :} {\cf4 INTEGER_32}{\cf1 ;} {\cf5 a_angle}{\cf1 :} {\cf4 REAL_32}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Draw }{\cf5 a_text}{\cf3  at (}{\cf5 x}{\cf3 , }{\cf5 y}{\cf3 ) using }{\cf5 font}{\cf3 .}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 local}{\line}
{\tab}{\tab}{\tab}{\cf5 a_cs}{\cf1 :} {\cf4 EV_GTK_C_STRING}{\line}
{\tab}{\tab}{\tab}{\cf5 a_pango_layout}{\cf1 :} {\cf4 POINTER}{\line}
{\tab}{\tab}{\tab}{\cf5 x_orig}{\cf1 ,} {\cf5 y_orig}{\cf1 ,} {\cf5 a_x}{\cf1 ,} {\cf5 a_y}{\cf1 :} {\cf4 INTEGER_32}{\line}
{\tab}{\tab}{\tab}{\cf5 a_clip_area}{\cf1 :} {\b\cf6 detachable} {\cf4 EV_RECTANGLE}{\line}
{\tab}{\tab}{\tab}{\cf5 a_pango_matrix}{\cf1 ,} {\cf5 a_pango_context}{\cf1 :} {\cf4 POINTER}{\line}
{\tab}{\tab}{\tab}{\cf5 l_app_imp}{\cf1 :} {\b\cf6 like} {\cf5 App_implementation}{\line}
{\tab}{\tab}{\tab}{\cf5 l_pango_renderer}{\cf1 :} {\cf4 POINTER}{\line}
{\tab}{\tab}{\tab}{\cf5 l_ellipsize_symbol}{\cf1 :} {\cf4 POINTER}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 drawable} {\cf1 /=} {\cf5 default_pointer} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 l_app_imp} {\cf1 :=} {\cf5 App_implementation}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 x_orig} {\cf1 :=} {\cf5 x} {\cf1 +} {\cf5 device_x_offset}{\b\cf1 .}{\cf5 to_integer_32}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 y_orig} {\cf1 :=} {\cf5 y} {\cf1 +} {\cf5 device_y_offset}{\b\cf1 .}{\cf5 to_integer_32}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 a_x} {\cf1 :=} {\cf5 x_orig}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 draw_from_baseline} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 internal_font_imp} {\cf1 /=} {\b\cf6 Void} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\tab}{\cf5 a_y} {\cf1 :=} {\cf5 y_orig} {\cf1 -} {\cf5 internal_font_imp}{\b\cf1 .}{\cf5 ascent}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\b\cf6 else}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\tab}{\cf5 a_y} {\cf1 :=} {\cf5 y_orig} {\cf1 -} {\cf5 l_app_imp}{\b\cf1 .}{\cf5 default_font_ascent}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 else}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf5 a_y} {\cf1 :=} {\cf5 y_orig}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 a_cs} {\cf1 :=} {\cf5 l_app_imp}{\b\cf1 .}{\cf5 c_string_from_eiffel_string}{\cf1  }{\cf1 (}{\cf5 a_text}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 a_pango_layout} {\cf1 :=} {\cf5 l_app_imp}{\b\cf1 .}{\cf5 Pango_layout}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 pango_layout_set_text} {\cf1 (}{\cf5 a_pango_layout}{\cf1 ,} {\cf5 a_cs}{\b\cf1 .}{\cf5 item}{\cf1 ,} {\cf5 a_cs}{\b\cf1 .}{\cf5 string_length}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 internal_font_imp} {\cf1 /=} {\b\cf6 Void} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 pango_layout_set_font_description} {\cf1 (}{\cf5 a_pango_layout}{\cf1 ,} {\cf5 internal_font_imp}{\b\cf1 .}{\cf5 font_description}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 a_width} {\cf1 /=} -1 {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf5 l_ellipsize_symbol} {\cf1 :=} {\cf5 Pango_layout_set_ellipsize_symbol}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 l_ellipsize_symbol} {\cf1 /=} {\cf5 default_pointer} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\tab}{\cf5 pango_layout_set_ellipsize_call}{\cf1  }{\cf1 (}{\cf5 l_ellipsize_symbol}{\cf1 ,} {\cf5 a_pango_layout}{\cf1 ,} 3{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 pango_layout_set_width} {\cf1 (}{\cf5 a_pango_layout}{\cf1 ,} {\cf5 a_width} {\cf1 *} {\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 pango_scale}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\b\cf6 else}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\tab}{\cf5 a_clip_area} {\cf1 :=} {\cf5 gc_clip_area}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\tab}{\cf5 set_clip_area}{\cf1  }{\cf1 (}{\b\cf6 create}{\cf1  }{\cf1 \{}{\cf4 EV_RECTANGLE}{\cf1 \}}{\b\cf1 .}{\cf5 make}{\cf1  }{\cf1 (}{\cf5 x_orig}{\cf1 ,} {\cf5 y_orig}{\cf1 ,} {\cf5 a_width}{\cf1 ,} 10000{\cf1 )}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 pango_layout_set_width} {\cf1 (}{\cf5 a_pango_layout}{\cf1 ,} 10000 {\cf1 *} {\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 pango_scale}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 a_angle} {\cf1 /=} 0{\b\cf1 .}{\cf5 to_real} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf5 l_pango_renderer} {\cf1 :=} {\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_pango_renderer_get_default} {\cf1 (}{\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_screen_get_default}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_pango_renderer_set_drawable} {\cf1 (}{\cf5 l_pango_renderer}{\cf1 ,} {\cf5 drawable}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_pango_renderer_set_gc} {\cf1 (}{\cf5 l_pango_renderer}{\cf1 ,} {\cf5 gc}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf5 a_pango_context} {\cf1 :=} {\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 pango_layout_get_context} {\cf1 (}{\cf5 a_pango_layout}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 pango_matrix_init} {\cf1 (}{\cf1 $}{\cf5 a_pango_matrix}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 pango_matrix_translate} {\cf1 (}{\cf5 a_pango_matrix}{\cf1 ,} {\cf5 x_orig}{\b\cf1 .}{\cf5 max}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 min_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\b\cf1 .}{\cf5 min}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 max_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\b\cf1 .}{\cf5 to_real}{\cf1 ,} {\cf5 y_orig}{\b\cf1 .}{\cf5 max}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 min_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\b\cf1 .}{\cf5 min}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 max_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\b\cf1 .}{\cf5 to_real}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 pango_matrix_rotate} {\cf1 (}{\cf5 a_pango_matrix}{\cf1 ,} {\cf5 a_angle} {\cf1 /} {\cf5 Pi}{\b\cf1 .}{\cf5 truncated_to_real} {\cf1 *} 180{\b\cf1 .}{\cf5 to_real}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 pango_matrix_translate} {\cf1 (}{\cf5 a_pango_matrix}{\cf1 ,} 0{\b\cf1 .}{\cf5 to_real}{\cf1 ,} {\cf1 -} {\cf1 (}{\cf5 y_orig} {\cf1 -} {\cf5 a_y}{\cf1 )}{\b\cf1 .}{\cf5 to_real}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 pango_context_set_matrix} {\cf1 (}{\cf5 a_pango_context}{\cf1 ,} {\cf5 a_pango_matrix}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 pango_renderer_draw_layout} {\cf1 (}{\cf5 l_pango_renderer}{\cf1 ,} {\cf5 a_pango_layout}{\cf1 ,} 0{\cf1 ,} 0{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_pango_renderer_set_drawable} {\cf1 (}{\cf5 l_pango_renderer}{\cf1 ,} {\cf5 default_pointer}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_pango_renderer_set_gc} {\cf1 (}{\cf5 l_pango_renderer}{\cf1 ,} {\cf5 default_pointer}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 else}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_draw_layout} {\cf1 (}{\cf5 drawable}{\cf1 ,} {\cf5 gc}{\cf1 ,} {\cf5 a_x}{\b\cf1 .}{\cf5 max}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 min_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\b\cf1 .}{\cf5 min}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 max_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\cf1 ,} {\cf5 a_y}{\b\cf1 .}{\cf5 max}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 min_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\b\cf1 .}{\cf5 min}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 max_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\cf1 ,} {\cf5 a_pango_layout}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 a_width} {\cf1 /=} -1 {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 l_ellipsize_symbol} {\cf1 /=} {\cf5 default_pointer} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\tab}{\cf5 pango_layout_set_ellipsize_call}{\cf1  }{\cf1 (}{\cf5 l_ellipsize_symbol}{\cf1 ,} {\cf5 a_pango_layout}{\cf1 ,} 0{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\b\cf6 else}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 a_clip_area} {\cf1 /=} {\b\cf6 Void} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\tab}{\tab}{\cf5 set_clip_area}{\cf1  }{\cf1 (}{\cf5 a_clip_area}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\tab}{\b\cf6 else}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\tab}{\tab}{\cf5 remove_clipping}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 pango_layout_set_width} {\cf1 (}{\cf5 a_pango_layout}{\cf1 ,} -1{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 pango_layout_set_font_description} {\cf1 (}{\cf5 a_pango_layout}{\cf1 ,} {\cf5 default_pointer}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 a_pango_context} {\cf1 /=} {\cf5 default_pointer} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 pango_context_set_matrix} {\cf1 (}{\cf5 a_pango_context}{\cf1 ,} {\cf5 default_pointer}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 pango_matrix_free} {\cf1 (}{\cf5 a_pango_matrix}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 draw_text_top_left} {\cf1 (}{\cf5 x}{\cf1 ,} {\cf5 y}{\cf1 :} {\cf4 INTEGER_32}{\cf1 ;} {\cf5 a_text}{\cf1 :} {\cf4 READABLE_STRING_GENERAL}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Draw }{\cf5 a_text}{\cf3  with top left corner at (}{\cf5 x}{\cf3 , }{\cf5 y}{\cf3 ) using }{\cf5 font}{\cf3 .}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 require} {\cf3 --} {\cf3 from }{\cf4 EV_DRAWABLE_I}{\line}
{\tab}{\tab}{\tab}{\cf1 a_text_not_void}{\cf1 :} {\cf5 a_text} {\cf1 /=} {\b\cf6 Void}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\cf5 draw_text_internal}{\cf1  }{\cf1 (}{\cf5 x}{\b\cf1 .}{\cf5 max}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 min_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\b\cf1 .}{\cf5 min}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 max_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\cf1 ,} {\cf5 y}{\b\cf1 .}{\cf5 max}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 min_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\b\cf1 .}{\cf5 min}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 max_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\cf1 ,} {\cf5 a_text}{\cf1 ,} {\b\cf6 False}{\cf1 ,} -1{\cf1 ,} 0{\b\cf1 .}{\cf5 to_real}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 pango_layout_set_ellipsize_call} {\cf1 (}{\cf5 a_function}{\cf1 :} {\cf4 POINTER}{\cf1 ;} {\cf5 a_layout}{\cf1 :} {\cf4 POINTER}{\cf1 ;} {\cf5 a_ellipsize_mode}{\cf1 :} {\cf4 INTEGER_32}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 external}{\line}
{\tab}{\tab}{\tab}"C inline use <ev_gtk.h>"{\line}
{\tab}{\tab}{\b\cf6 alias}{\line}
{\tab}{\tab}{\tab}"(FUNCTION_CAST(void, (PangoLayout*, gint)) $a_function)((PangoLayout*) $a_layout, (gint) $a_ellipsize_mode);"{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 Pango_layout_set_ellipsize_symbol}{\cf1 :} {\cf4 POINTER}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Symbol for }{\cf5 pango_layout_set_ellipsize}{\cf3 .}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 once}{\line}
{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf5 App_implementation}{\b\cf1 .}{\cf5 symbol_from_symbol_name}{\cf1  }{\cf1 (}"pango_layout_set_ellipsize"{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 sub_pixmap} {\cf1 (}{\cf5 area}{\cf1 :} {\cf4 EV_RECTANGLE}{\cf1 )}{\cf1 :} {\cf4 EV_PIXMAP}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Pixmap region of }{\cf5 Current}{\cf3  represented by rectangle }{\cf5 area}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 require} {\cf3 --} {\cf3 from }{\cf4 EV_DRAWABLE_I}{\line}
{\tab}{\tab}{\tab}{\cf1 area_not_void}{\cf1 :} {\cf5 area} {\cf1 /=} {\b\cf6 Void}{\line}
{\tab}{\tab}{\b\cf6 local}{\line}
{\tab}{\tab}{\tab}{\cf5 pix_imp}{\cf1 :} {\b\cf6 detachable} {\cf4 EV_PIXMAP_IMP}{\line}
{\tab}{\tab}{\tab}{\cf5 a_pix}{\cf1 :} {\cf4 POINTER}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 create} {\b\cf6 Result}{\line}
{\tab}{\tab}{\tab}{\cf5 pix_imp} {\cf1 ?=} {\b\cf6 Result}{\b\cf1 .}{\cf5 implementation}{\line}
{\tab}{\tab}{\tab}{\b\cf6 check}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf5 pix_imp} {\cf1 /=} {\b\cf6 Void}{\line}
{\tab}{\tab}{\tab}{\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\tab}{\cf5 a_pix} {\cf1 :=} {\cf5 pixbuf_from_drawable_at_position}{\cf1  }{\cf1 (}{\cf5 area}{\b\cf1 .}{\cf5 x}{\cf1 ,} {\cf5 area}{\b\cf1 .}{\cf5 y}{\cf1 ,} 0{\cf1 ,} 0{\cf1 ,} {\cf5 area}{\b\cf1 .}{\cf5 width}{\cf1 ,} {\cf5 area}{\b\cf1 .}{\cf5 height}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf5 pix_imp}{\b\cf1 .}{\cf5 set_pixmap_from_pixbuf}{\cf1  }{\cf1 (}{\cf5 a_pix}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK2}{\cf1 \}}{\b\cf1 .}{\cf5 object_unref} {\cf1 (}{\cf5 a_pix}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 ensure} {\cf3 --} {\cf3 from }{\cf4 EV_DRAWABLE_I}{\line}
{\tab}{\tab}{\tab}{\cf1 result_not_void}{\cf1 :} {\b\cf6 Result} {\cf1 /=} {\b\cf6 Void}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\tab}{\line}
{\b\cf6 feature} {\cf1 \{}NONE{\cf1 \}} {\cf3 --}{\cf3  Externals (XTEST extension)}{\line}
{\line}
{\tab}{\cf5 {\cf5 gdk_display_warp_pointer_call} {\cf1 (}{\cf5 a_function}{\cf1 ,} {\cf5 a_display}{\cf1 ,} {\cf5 a_screen}{\cf1 :} {\cf4 POINTER}{\cf1 ;} {\cf5 a_x}{\cf1 ,} {\cf5 a_y}{\cf1 :} {\cf4 INTEGER_32}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 external}{\line}
{\tab}{\tab}{\tab}"C inline use <ev_gtk.h>"{\line}
{\tab}{\tab}{\b\cf6 alias}{\line}
{\tab}{\tab}{\tab}"(FUNCTION_CAST(void, (GdkDisplay*, GdkScreen*, gint, gint)) $a_function) ((GdkDisplay*) $a_display, (GdkScreen*) $a_screen, (gint) $a_x, (gint) $a_y)"{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 Gdk_display_warp_pointer_symbol}{\cf1 :} {\cf4 POINTER}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Symbol for }{\cf5 gdk_display_warp_pointer}{\cf3 .}{\line}
{\tab}{\tab}{\b\cf6 once}{\line}
{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf5 App_implementation}{\b\cf1 .}{\cf5 symbol_from_symbol_name}{\cf1  }{\cf1 (}"gdk_display_warp_pointer"{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 Gdk_test_simulate_button_symbol}{\cf1 :} {\cf4 POINTER}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Symbol for }{\cf5 gdk_test_simulate_button}{\line}
{\tab}{\tab}{\b\cf6 once}{\line}
{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf5 App_implementation}{\b\cf1 .}{\cf5 symbol_from_symbol_name}{\cf1  }{\cf1 (}"gdk_test_simulate_button"{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 gdk_test_simulate_call} {\cf1 (}{\cf5 a_function}{\cf1 ,} {\cf5 a_window}{\cf1 :} {\cf4 POINTER}{\cf1 ;} {\cf5 a_x}{\cf1 ,} {\cf5 a_y}{\cf1 :} {\cf4 INTEGER_32}{\cf1 ;} {\cf5 a_button}{\cf1 ,} {\cf5 a_modifiers}{\cf1 :} {\cf4 INTEGER_32}{\cf1 ;} {\cf5 a_press_release}{\cf1 :} {\cf4 INTEGER_32}{\cf1 )}{\cf1 :} {\cf4 BOOLEAN}{\line}
{\tab}{\tab}{\b\cf6 external}{\line}
{\tab}{\tab}{\tab}"C inline use <ev_gtk.h>"{\line}
{\tab}{\tab}{\b\cf6 alias}{\line}
{\tab}{\tab}{\tab}"return (FUNCTION_CAST(gboolean, (GdkWindow*, gint, gint, guint, GdkModifierType, GdkEventType)) $a_function) ((GdkWindow*) $a_window, (gint) $a_x, (gint) $a_y, (guint) $a_button, (GdkModifierType) $a_modifiers, (GdkEventType) $a_press_release)"{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 Gdk_test_simulate_key_symbol}{\cf1 :} {\cf4 POINTER}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Symbol for }{\cf5 gdk_test_simulate_key}{\line}
{\tab}{\tab}{\b\cf6 once}{\line}
{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf5 App_implementation}{\b\cf1 .}{\cf5 symbol_from_symbol_name}{\cf1  }{\cf1 (}"gdk_test_simulate_key"{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 x_keysym_to_keycode_call} {\cf1 (}{\cf5 a_function}{\cf1 ,} {\cf5 a_display}{\cf1 :} {\cf4 POINTER}{\cf1 ;} {\cf5 a_keycode}{\cf1 :} {\cf4 INTEGER_32}{\cf1 )}{\cf1 :} {\cf4 INTEGER_32}{\line}
{\tab}{\tab}{\b\cf6 external}{\line}
{\tab}{\tab}{\tab}"C inline use <ev_gtk.h>"{\line}
{\tab}{\tab}{\b\cf6 alias}{\line}
{\tab}{\tab}{\tab}"return (FUNCTION_CAST(EIF_INTEGER, (EIF_POINTER, EIF_INTEGER)) $a_function) ((EIF_POINTER) $a_display, (EIF_INTEGER) $a_keycode)"{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 X_keysym_to_keycode_symbol}{\cf1 :} {\cf4 POINTER}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Symbol for }{\cf5 x_keysym_to_keycode}{\cf3 .}{\line}
{\tab}{\tab}{\b\cf6 once}{\line}
{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf5 App_implementation}{\b\cf1 .}{\cf5 symbol_from_symbol_name}{\cf1  }{\cf1 (}"XKeysymToKeycode"{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 X_test_fake_button_event_symbol}{\cf1 :} {\cf4 POINTER}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Symbol for }{\cf5 XTestFakeButtonEvent}{\line}
{\tab}{\tab}{\b\cf6 once}{\line}
{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf5 App_implementation}{\b\cf1 .}{\cf5 symbol_from_symbol_name}{\cf1  }{\cf1 (}"XTestFakeButtonEvent"{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 x_test_fake_key_button_event_call} {\cf1 (}{\cf5 a_function}{\cf1 ,} {\cf5 a_display}{\cf1 :} {\cf4 POINTER}{\cf1 ;} {\cf5 a_keycode_or_button}{\cf1 :} {\cf4 INTEGER_32}{\cf1 ;} {\cf5 a_is_press}{\cf1 :} {\cf4 BOOLEAN}{\cf1 ;} {\cf5 a_delay}{\cf1 :} {\cf4 INTEGER_32}{\cf1 )}{\cf1 :} {\cf4 BOOLEAN}{\line}
{\tab}{\tab}{\b\cf6 external}{\line}
{\tab}{\tab}{\tab}"C inline use <ev_gtk.h>"{\line}
{\tab}{\tab}{\b\cf6 alias}{\line}
{\tab}{\tab}{\tab}"return (FUNCTION_CAST(EIF_BOOLEAN, (EIF_POINTER, EIF_INTEGER, EIF_BOOLEAN, EIF_INTEGER)) $a_function) ((EIF_POINTER) $a_display, (EIF_INTEGER) $a_keycode_or_button, (EIF_BOOLEAN) $a_is_press, (EIF_INTEGER) $a_delay)"{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 X_test_fake_key_event_symbol}{\cf1 :} {\cf4 POINTER}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Symbol for }{\cf5 XTestFakeKeyEvent}{\line}
{\tab}{\tab}{\b\cf6 once}{\line}
{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf5 App_implementation}{\b\cf1 .}{\cf5 symbol_from_symbol_name}{\cf1  }{\cf1 (}"XTestFakeKeyEvent"{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 x_test_fake_motion_event_call} {\cf1 (}{\cf5 a_function}{\cf1 ,} {\cf5 a_display}{\cf1 :} {\cf4 POINTER}{\cf1 ;} {\cf5 a_scr_num}{\cf1 ,} {\cf5 a_x}{\cf1 ,} {\cf5 a_y}{\cf1 ,} {\cf5 a_delay}{\cf1 :} {\cf4 INTEGER_32}{\cf1 )}{\cf1 :} {\cf4 BOOLEAN}{\line}
{\tab}{\tab}{\b\cf6 external}{\line}
{\tab}{\tab}{\tab}"C inline use <ev_gtk.h>"{\line}
{\tab}{\tab}{\b\cf6 alias}{\line}
{\tab}{\tab}{\tab}"return (FUNCTION_CAST(EIF_BOOLEAN, (EIF_POINTER, EIF_INTEGER, EIF_INTEGER, EIF_INTEGER, EIF_INTEGER)) $a_function) ((EIF_POINTER) $a_display, (EIF_INTEGER) $a_scr_num, (EIF_INTEGER) $a_x, (EIF_INTEGER) $a_x, (EIF_INTEGER) $a_delay)"{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 X_test_fake_motion_event_symbol}{\cf1 :} {\cf4 POINTER}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Symbol for }{\cf5 XTestFakeMotionEvent}{\line}
{\tab}{\tab}{\b\cf6 once}{\line}
{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf5 App_implementation}{\b\cf1 .}{\cf5 symbol_from_symbol_name}{\cf1  }{\cf1 (}"XTestFakeMotionEvent"{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\tab}{\line}
{\b\cf6 feature} {\cf1 \{}NONE{\cf1 \}} {\cf3 --}{\cf3  Implemention}{\line}
{\line}
{\tab}{\cf5 {\cf5 coord_array_to_gdkpoint_array} {\cf1 (}{\cf5 pts}{\cf1 :} {\cf4 ARRAY} {\cf1 [}{\cf4 EV_COORDINATE}{\cf1 ]}{\cf1 )}{\cf1 :} {\cf4 ARRAY} {\cf1 [}{\cf4 INTEGER_32}{\cf1 ]}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Low-level conversion.}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 require} {\cf3 --} {\cf3 from }{\cf4 EV_DRAWABLE_IMP}{\line}
{\tab}{\tab}{\tab}{\cf1 pts_exists}{\cf1 :} {\cf5 pts} {\cf1 /=} {\b\cf6 Void}{\line}
{\tab}{\tab}{\b\cf6 local}{\line}
{\tab}{\tab}{\tab}{\cf5 i}{\cf1 ,} {\cf5 j}{\cf1 ,} {\cf5 array_count}{\cf1 :} {\cf4 INTEGER_32}{\line}
{\tab}{\tab}{\tab}{\cf5 l_area}{\cf1 :} {\cf4 SPECIAL} {\cf1 [}{\cf4 INTEGER_32}{\cf1 ]}{\line}
{\tab}{\tab}{\tab}{\cf5 l_coord_area}{\cf1 :} {\cf4 SPECIAL} {\cf1 [}{\cf4 EV_COORDINATE}{\cf1 ]}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 from}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 array_count} {\cf1 :=} {\cf5 pts}{\b\cf1 .}{\cf5 count}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 create} {\b\cf6 Result}{\b\cf1 .}{\cf5 make_filled}{\cf1  }{\cf1 (}0{\cf1 ,} 1{\cf1 ,} {\cf5 array_count} {\cf1 *} 2{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 l_coord_area} {\cf1 :=} {\cf5 pts}{\b\cf1 .}{\cf5 area}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 l_area} {\cf1 :=} {\b\cf6 Result}{\b\cf1 .}{\cf5 area}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 i} {\cf1 :=} {\cf5 array_count} {\cf1 -} 1{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 j} {\cf1 :=} {\cf5 array_count} {\cf1 *} 2 {\cf1 -} 1{\line}
{\tab}{\tab}{\tab}{\b\cf6 until}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 i} {\cf1 <} 0{\line}
{\tab}{\tab}{\tab}{\b\cf6 loop}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 l_area} {\cf1 [}{\cf5 j}{\cf1 ]} {\cf1 :=} {\cf1 (}{\cf5 l_coord_area} {\cf1 @} {\cf5 i}{\cf1 )}{\b\cf1 .}{\cf5 y} {\cf1 +} {\cf5 device_y_offset}{\b\cf1 .}{\cf5 to_integer_32}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 j} {\cf1 :=} {\cf5 j} {\cf1 -} 1{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 l_area} {\cf1 [}{\cf5 j}{\cf1 ]} {\cf1 :=} {\cf1 (}{\cf5 l_coord_area} {\cf1 @} {\cf5 i}{\cf1 )}{\b\cf1 .}{\cf5 x} {\cf1 +} {\cf5 device_x_offset}{\b\cf1 .}{\cf5 to_integer_32}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 i} {\cf1 :=} {\cf5 i} {\cf1 -} 1{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 j} {\cf1 :=} {\cf5 j} {\cf1 -} 1{\line}
{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\b\cf6 ensure} {\cf3 --} {\cf3 from }{\cf4 EV_DRAWABLE_IMP}{\line}
{\tab}{\tab}{\tab}{\cf1 result_exists}{\cf1 :} {\b\cf6 Result} {\cf1 /=} {\b\cf6 Void}{\line}
{\tab}{\tab}{\tab}{\cf1 same_size}{\cf1 :} {\cf5 pts}{\b\cf1 .}{\cf5 count}{\b\cf1 .}{\cf5 to_double} {\cf1 =} {\b\cf6 Result}{\b\cf1 .}{\cf5 count} {\cf1 /} 2{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\tab}{\line}
{\b\cf6 feature} {\cf3 --}{\cf3  Obsoletes}{\line}
{\line}
{\tab}{\cf5 {\cf5 character_bits}{\cf1 :} {\cf4 INTEGER_32}{\line}
{\tab}{\tab}{\b\cf6 obsolete} "Use `character_8_bits' instead. [2017-05-31]"{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Number of bits in a value of type }{\cf5 CHARACTER_8}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 PLATFORM}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} 8{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 character_bytes}{\cf1 :} {\cf4 INTEGER_32}{\line}
{\tab}{\tab}{\b\cf6 obsolete} "Use `character_8_bytes' instead. [2017-05-31]"{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Number of bytes in a value of type }{\cf5 CHARACTER_8}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 PLATFORM}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 external}{\line}
{\tab}{\tab}{\tab}"built_in static"{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 double_bits}{\cf1 :} {\cf4 INTEGER_32}{\line}
{\tab}{\tab}{\b\cf6 obsolete} "Use `real_64_bits' instead. [2017-05-31]"{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Number of bits in a value of type }{\cf5 REAL_64}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 PLATFORM}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} 64{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 double_bytes}{\cf1 :} {\cf4 INTEGER_32}{\line}
{\tab}{\tab}{\b\cf6 obsolete} "Use `real_64_bytes' instead. [2017-05-31]"{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Number of bytes in a value of type }{\cf5 REAL_64}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 PLATFORM}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 external}{\line}
{\tab}{\tab}{\tab}"built_in static"{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 integer_bits}{\cf1 :} {\cf4 INTEGER_32}{\line}
{\tab}{\tab}{\b\cf6 obsolete} "Use `integer_32_bits' instead. [2017-05-31]"{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Number of bits in a value of type }{\cf5 INTEGER_32}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 PLATFORM}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} 32{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 integer_bytes}{\cf1 :} {\cf4 INTEGER_32}{\line}
{\tab}{\tab}{\b\cf6 obsolete} "Use `integer_32_bytes' instead. [2017-05-31]"{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Number of bytes in a value of type }{\cf5 INTEGER_32}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 PLATFORM}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 external}{\line}
{\tab}{\tab}{\tab}"built_in static"{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 maximum_character_code}{\cf1 :} {\cf4 INTEGER_32}{\line}
{\tab}{\tab}{\b\cf6 obsolete} "Use `\{CHARACTER\}.max_value' instead. [2017-05-31]"{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Largest supported code for CHARACTER_8 values}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 PLATFORM}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf1 \{}{\cf4 CHARACTER_8}{\cf1 \}}{\b\cf1 .}{\cf5 max_value}{\line}
{\tab}{\tab}{\b\cf6 ensure} {\cf3 --} {\cf3 from }{\cf4 PLATFORM}{\line}
{\tab}{\tab}{\tab}{\cf1 meaningful}{\cf1 :} {\b\cf6 Result} {\cf1 >=} 127{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 maximum_integer}{\cf1 :} {\cf4 INTEGER_32}{\line}
{\tab}{\tab}{\b\cf6 obsolete} "Use `\{INTEGER\}.max_value' instead. [2017-05-31]"{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Largest supported value of type INTEGER_32}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 PLATFORM}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf1 \{}{\cf4 INTEGER_32}{\cf1 \}}{\b\cf1 .}{\cf5 max_value}{\line}
{\tab}{\tab}{\b\cf6 ensure} {\cf3 --} {\cf3 from }{\cf4 PLATFORM}{\line}
{\tab}{\tab}{\tab}{\cf1 meaningful}{\cf1 :} {\b\cf6 Result} {\cf1 >=} 0{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 minimum_character_code}{\cf1 :} {\cf4 INTEGER_32}{\line}
{\tab}{\tab}{\b\cf6 obsolete} "Use `\{CHARACTER\}.min_value' instead. [2017-05-31]"{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Smallest supported code for CHARACTER_8 values}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 PLATFORM}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf1 \{}{\cf4 CHARACTER_8}{\cf1 \}}{\b\cf1 .}{\cf5 min_value}{\line}
{\tab}{\tab}{\b\cf6 ensure} {\cf3 --} {\cf3 from }{\cf4 PLATFORM}{\line}
{\tab}{\tab}{\tab}{\cf1 meaningful}{\cf1 :} {\b\cf6 Result} {\cf1 <=} 0{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 minimum_integer}{\cf1 :} {\cf4 INTEGER_32}{\line}
{\tab}{\tab}{\b\cf6 obsolete} "Use `\{INTEGER\}.min_value' instead. [2017-05-31]"{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Smallest supported value of type INTEGER_32}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 PLATFORM}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf1 \{}{\cf4 INTEGER_32}{\cf1 \}}{\b\cf1 .}{\cf5 min_value}{\line}
{\tab}{\tab}{\b\cf6 ensure} {\cf3 --} {\cf3 from }{\cf4 PLATFORM}{\line}
{\tab}{\tab}{\tab}{\cf1 meaningful}{\cf1 :} {\b\cf6 Result} {\cf1 <=} 0{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 real_bits}{\cf1 :} {\cf4 INTEGER_32}{\line}
{\tab}{\tab}{\b\cf6 obsolete} "Use `real_32_bits' instead. [2017-05-31]"{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Number of bits in a value of type }{\cf5 REAL_32}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 PLATFORM}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} 32{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 real_bytes}{\cf1 :} {\cf4 INTEGER_32}{\line}
{\tab}{\tab}{\b\cf6 obsolete} "Use `real_32_bytes' instead. [2017-05-31]"{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Number of bytes in a value of type }{\cf5 REAL_32}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 PLATFORM}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 external}{\line}
{\tab}{\tab}{\tab}"built_in static"{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 wide_character_bytes}{\cf1 :} {\cf4 INTEGER_32}{\line}
{\tab}{\tab}{\b\cf6 obsolete} "Use `character_32_bytes' instead. [2017-05-31]"{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Number of bytes in a value of type }{\cf5 CHARACTER_32}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 PLATFORM}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 external}{\line}
{\tab}{\tab}{\tab}"built_in static"{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\tab}{\line}
{\b\cf6 feature} {\cf3 --}{\cf3  Output}{\line}
{\line}
{\tab}{\cf5 {\cf5 Io}{\cf1 :} {\cf4 STD_FILES}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Handle to standard file setup}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 ANY}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 once}{\line}
{\tab}{\tab}{\tab}{\b\cf6 create} {\b\cf6 Result}{\line}
{\tab}{\tab}{\tab}{\b\cf6 Result}{\b\cf1 .}{\cf5 set_output_default}{\line}
{\tab}{\tab}{\b\cf6 ensure} {\cf3 --} {\cf3 from }{\cf4 ANY}{\line}
{\tab}{\tab}{\tab}{\cf1 io_not_void}{\cf1 :} {\b\cf6 Result} {\cf1 /=} {\b\cf6 Void}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 out}{\cf1 :} {\cf4 STRING_8}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  New string containing terse printable representation}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  of current object}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 ANY}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf5 tagged_out}{\line}
{\tab}{\tab}{\b\cf6 ensure} {\cf3 --} {\cf3 from }{\cf4 ANY}{\line}
{\tab}{\tab}{\tab}{\cf1 out_not_void}{\cf1 :} {\b\cf6 Result} {\cf1 /=} {\b\cf6 Void}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 print} {\cf1 (}{\cf5 o}{\cf1 :} {\b\cf6 detachable} {\cf4 ANY}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Write terse external representation of }{\cf5 o}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  on standard output.}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 ANY}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 o} {\cf1 /=} {\b\cf6 Void} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 Io}{\b\cf1 .}{\cf5 put_string}{\cf1  }{\cf1 (}{\cf5 o}{\b\cf1 .}{\cf5 out}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\b\cf6 frozen} {\cf5 tagged_out}{\cf1 :} {\cf4 STRING_8}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  New string containing terse printable representation}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  of current object}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 ANY}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 external}{\line}
{\tab}{\tab}{\tab}"built_in"{\line}
{\tab}{\tab}{\b\cf6 ensure} {\cf3 --} {\cf3 from }{\cf4 ANY}{\line}
{\tab}{\tab}{\tab}{\cf1 tagged_out_not_void}{\cf1 :} {\b\cf6 Result} {\cf1 /=} {\b\cf6 Void}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\tab}{\line}
{\b\cf6 feature} {\cf3 --}{\cf3  Platform}{\line}
{\line}
{\tab}{\cf5 {\cf5 is_64_bits}{\cf1 :} {\cf4 BOOLEAN}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Is the current process runing in 64-bit mode}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 PLATFORM}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 external}{\line}
{\tab}{\tab}{\tab}"built_in static"{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 is_dotnet}{\cf1 :} {\cf4 BOOLEAN}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Are we targetting .NET?}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 PLATFORM}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 external}{\line}
{\tab}{\tab}{\tab}"built_in static"{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 Is_little_endian}{\cf1 :} {\cf4 BOOLEAN}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Is current platform a little endian one?}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 PLATFORM}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 local}{\line}
{\tab}{\tab}{\tab}{\cf5 l_nat16}{\cf1 :} {\cf4 NATURAL_16}{\line}
{\tab}{\tab}{\tab}{\cf5 l_nat8}{\cf1 :} {\cf4 NATURAL_8}{\line}
{\tab}{\tab}{\tab}{\cf5 l_first}{\cf1 :} {\cf4 NATURAL_8}{\line}
{\tab}{\tab}{\b\cf6 once}{\line}
{\tab}{\tab}{\tab}{\cf5 l_nat16} {\cf1 :=} 17185{\line}
{\tab}{\tab}{\tab}{\cf5 l_nat8} {\cf1 :=} 33{\cf1 ;}{\line}
{\tab}{\tab}{\tab}{\cf1 (}{\cf1 $}{\cf5 l_first}{\cf1 )}{\b\cf1 .}{\cf5 memory_copy}{\cf1  }{\cf1 (}{\cf1 $}{\cf5 l_nat16}{\b\cf1 .}{\cf5 to_pointer}{\cf1 ,} 1{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf5 l_first} {\cf1 =} {\cf5 l_nat8}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 is_mac}{\cf1 :} {\cf4 BOOLEAN}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Are we running on Mac OS?}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 PLATFORM}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 external}{\line}
{\tab}{\tab}{\tab}"built_in static"{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 is_scoop_capable}{\cf1 :} {\cf4 BOOLEAN}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Is current platform capable of SCOOP?}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 PLATFORM}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 external}{\line}
{\tab}{\tab}{\tab}"built_in static"{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 is_thread_capable}{\cf1 :} {\cf4 BOOLEAN}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Is current platform capable of multi-threading?}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 PLATFORM}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 external}{\line}
{\tab}{\tab}{\tab}"built_in static"{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 is_unix}{\cf1 :} {\cf4 BOOLEAN}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Are we running on a Unix like platform?}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 PLATFORM}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 external}{\line}
{\tab}{\tab}{\tab}"built_in static"{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 is_vms}{\cf1 :} {\cf4 BOOLEAN}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Are we running on VMS?}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 PLATFORM}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 external}{\line}
{\tab}{\tab}{\tab}"built_in static"{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 is_vxworks}{\cf1 :} {\cf4 BOOLEAN}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Are we running on VxWorks?}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 PLATFORM}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 external}{\line}
{\tab}{\tab}{\tab}"built_in static"{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 is_windows}{\cf1 :} {\cf4 BOOLEAN}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Are we running on Windows platform?}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 PLATFORM}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 external}{\line}
{\tab}{\tab}{\tab}"built_in static"{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 Operating_environment}{\cf1 :} {\cf4 OPERATING_ENVIRONMENT}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Objects available from the operating system}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 ANY}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 once}{\line}
{\tab}{\tab}{\tab}{\b\cf6 create} {\b\cf6 Result}{\line}
{\tab}{\tab}{\b\cf6 ensure} {\cf3 --} {\cf3 from }{\cf4 ANY}{\line}
{\tab}{\tab}{\tab}{\cf1 operating_environment_not_void}{\cf1 :} {\b\cf6 Result} {\cf1 /=} {\b\cf6 Void}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\tab}{\line}
{\b\cf6 feature} {\cf1 \{}NONE{\cf1 \}} {\cf3 --}{\cf3  Retrieval}{\line}
{\line}
{\tab}{\cf5 {\b\cf6 frozen} {\cf5 internal_correct_mismatch}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Called from runtime to perform a proper dynamic dispatch on }{\cf5 correct_mismatch}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  from MISMATCH_CORRECTOR.}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 ANY}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 local}{\line}
{\tab}{\tab}{\tab}{\cf5 l_msg}{\cf1 :} {\cf4 STRING_8}{\line}
{\tab}{\tab}{\tab}{\cf5 l_exc}{\cf1 :} {\cf4 EXCEPTIONS}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 if} {\b\cf6 attached} {\cf1 \{}{\cf4 MISMATCH_CORRECTOR}{\cf1 \}} {\b\cf6 Current} {\b\cf6 as} l_corrector {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 l_corrector}{\b\cf1 .}{\cf5 correct_mismatch}{\line}
{\tab}{\tab}{\tab}{\b\cf6 else}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 create} {\cf5 l_msg}{\b\cf1 .}{\cf5 make_from_string}{\cf1  }{\cf1 (}"Mismatch: "{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 create} {\cf5 l_exc}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 l_msg}{\b\cf1 .}{\cf5 append}{\cf1  }{\cf1 (}{\cf5 generating_type}{\b\cf1 .}{\cf5 name}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 l_exc}{\b\cf1 .}{\cf5 raise_retrieval_exception}{\cf1  }{\cf1 (}{\cf5 l_msg}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\tab}{\line}
{\b\cf6 feature} {\cf3 --}{\cf3  filling operations}{\line}
{\line}
{\tab}{\cf5 {\cf5 fill_ellipse} {\cf1 (}{\cf5 x}{\cf1 ,} {\cf5 y}{\cf1 ,} {\cf5 a_width}{\cf1 ,} {\cf5 a_height}{\cf1 :} {\cf4 INTEGER_32}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Draw an ellipse bounded by top left (}{\cf5 x}{\cf3 , }{\cf5 y}{\cf3 ) with}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  size }{\cf5 a_width}{\cf3  and }{\cf5 a_height}{\cf3 .}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Fill with }{\cf5 background_color}{\cf3 .}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 require} {\cf3 --} {\cf3 from }{\cf4 EV_DRAWABLE_I}{\line}
{\tab}{\tab}{\tab}{\cf1 a_bounding_width_positive_or_zero}{\cf1 :} {\cf5 a_width} {\cf1 >=} 0{\line}
{\tab}{\tab}{\tab}{\cf1 a_bounding_height_positive_or_zero}{\cf1 :} {\cf5 a_height} {\cf1 >=} 0{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 drawable} {\cf1 /=} {\cf5 default_pointer} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 tile} {\cf1 /=} {\b\cf6 Void} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_gc_set_fill} {\cf1 (}{\cf5 gc}{\cf1 ,} {\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_tiled_enum}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_draw_arc} {\cf1 (}{\cf5 drawable}{\cf1 ,} {\cf5 gc}{\cf1 ,} 1{\cf1 ,} {\cf1 (}{\cf5 x} {\cf1 +} {\cf5 device_x_offset}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\b\cf1 .}{\cf5 max}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 min_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\b\cf1 .}{\cf5 min}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 max_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\cf1 ,} {\cf1 (}{\cf5 y} {\cf1 +} {\cf5 device_y_offset}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\b\cf1 .}{\cf5 max}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 min_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\b\cf1 .}{\cf5 min}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 max_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\cf1 ,} {\cf5 a_width}{\cf1 ,} {\cf5 a_height}{\cf1 ,} 0{\cf1 ,} {\cf5 Whole_circle}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 update_if_needed}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_gc_set_fill} {\cf1 (}{\cf5 gc}{\cf1 ,} {\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_solid_enum}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 fill_pie_slice} {\cf1 (}{\cf5 x}{\cf1 ,} {\cf5 y}{\cf1 ,} {\cf5 a_width}{\cf1 ,} {\cf5 a_height}{\cf1 :} {\cf4 INTEGER_32}{\cf1 ;} {\cf5 a_start_angle}{\cf1 ,} {\cf5 an_aperture}{\cf1 :} {\cf4 REAL_32}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Draw a part of an ellipse bounded by top left (}{\cf5 x}{\cf3 , }{\cf5 y}{\cf3 ) with}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  size }{\cf5 a_width}{\cf3  and }{\cf5 a_height}{\cf3 .}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Start at }{\cf5 a_start_angle}{\cf3  and stop at }{\cf5 a_start_angle}{\cf3  + }{\cf5 an_aperture}{\cf3 .}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  The arc is then closed by two segments through (}{\cf5 x}{\cf3 , }{\cf5 y}{\cf3 ).}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Angles are measured in radians.}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 require} {\cf3 --} {\cf3 from }{\cf4 EV_DRAWABLE_I}{\line}
{\tab}{\tab}{\tab}{\cf1 a_bounding_width_positive_or_zero}{\cf1 :} {\cf5 a_width} {\cf1 >=} 0{\line}
{\tab}{\tab}{\tab}{\cf1 a_bounding_height_positive_or_zero}{\cf1 :} {\cf5 a_height} {\cf1 >=} 0{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 drawable} {\cf1 /=} {\cf5 default_pointer} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 tile} {\cf1 /=} {\b\cf6 Void} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_gc_set_fill} {\cf1 (}{\cf5 gc}{\cf1 ,} {\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_tiled_enum}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_draw_arc} {\cf1 (}{\cf5 drawable}{\cf1 ,} {\cf5 gc}{\cf1 ,} 1{\cf1 ,} {\cf1 (}{\cf5 x} {\cf1 +} {\cf5 device_x_offset}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\b\cf1 .}{\cf5 max}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 min_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\b\cf1 .}{\cf5 min}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 max_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\cf1 ,} {\cf1 (}{\cf5 y} {\cf1 +} {\cf5 device_y_offset}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\b\cf1 .}{\cf5 max}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 min_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\b\cf1 .}{\cf5 min}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 max_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\cf1 ,} {\cf5 a_width}{\cf1 ,} {\cf5 a_height}{\cf1 ,} {\cf1 (}{\cf5 a_start_angle} {\cf1 *} {\cf5 Radians_to_gdk_angle}{\b\cf1 .}{\cf5 to_real}{\cf1 )}{\b\cf1 .}{\cf5 truncated_to_integer}{\cf1 ,} {\cf1 (}{\cf5 an_aperture} {\cf1 *} {\cf5 Radians_to_gdk_angle}{\b\cf1 .}{\cf5 to_real}{\cf1 )}{\b\cf1 .}{\cf5 truncated_to_integer}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_gc_set_fill} {\cf1 (}{\cf5 gc}{\cf1 ,} {\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_solid_enum}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 update_if_needed}{\line}
{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 fill_polygon} {\cf1 (}{\cf5 points}{\cf1 :} {\cf4 ARRAY} {\cf1 [}{\cf4 EV_COORDINATE}{\cf1 ]}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Draw line segments between subsequent points in }{\cf5 points}{\cf3 .}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Fill all enclosed area's with }{\cf5 background_color}{\cf3 .}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 require} {\cf3 --} {\cf3 from }{\cf4 EV_DRAWABLE_I}{\line}
{\tab}{\tab}{\tab}{\cf1 points_not_void}{\cf1 :} {\cf5 points} {\cf1 /=} {\b\cf6 Void}{\line}
{\tab}{\tab}{\b\cf6 local}{\line}
{\tab}{\tab}{\tab}{\cf5 tmp}{\cf1 :} {\cf4 SPECIAL} {\cf1 [}{\cf4 INTEGER_32}{\cf1 ]}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 drawable} {\cf1 /=} {\cf5 default_pointer} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 tmp} {\cf1 :=} {\cf5 coord_array_to_gdkpoint_array}{\cf1  }{\cf1 (}{\cf5 points}{\cf1 )}{\b\cf1 .}{\cf5 area}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 tile} {\cf1 /=} {\b\cf6 Void} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_gc_set_fill} {\cf1 (}{\cf5 gc}{\cf1 ,} {\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_tiled_enum}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_draw_polygon} {\cf1 (}{\cf5 drawable}{\cf1 ,} {\cf5 gc}{\cf1 ,} 1{\cf1 ,} {\cf1 $}{\cf5 tmp}{\b\cf1 .}{\cf5 to_pointer}{\cf1 ,} {\cf5 points}{\b\cf1 .}{\cf5 count}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_gc_set_fill} {\cf1 (}{\cf5 gc}{\cf1 ,} {\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_solid_enum}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 update_if_needed}{\line}
{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 fill_rectangle} {\cf1 (}{\cf5 x}{\cf1 ,} {\cf5 y}{\cf1 ,} {\cf5 a_width}{\cf1 ,} {\cf5 a_height}{\cf1 :} {\cf4 INTEGER_32}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Draw rectangle with upper-left corner on (}{\cf5 x}{\cf3 , }{\cf5 y}{\cf3 )}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  with size }{\cf5 a_width}{\cf3  and }{\cf5 a_height}{\cf3 . Fill with }{\cf5 background_color}{\cf3 .}{\line}
{\tab}{\tab}{\tab}{\cf3 --} {\cf3 (from }{\cf4 EV_DRAWABLE_IMP}{\cf3 )}{\line}
{\tab}{\tab}{\b\cf6 require} {\cf3 --} {\cf3 from }{\cf4 EV_DRAWABLE_I}{\line}
{\tab}{\tab}{\tab}{\cf1 a_width_positive_or_zero}{\cf1 :} {\cf5 a_width} {\cf1 >=} 0{\line}
{\tab}{\tab}{\tab}{\cf1 a_height_positive_or_zero}{\cf1 :} {\cf5 a_height} {\cf1 >=} 0{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 drawable} {\cf1 /=} {\cf5 default_pointer} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 if} {\cf5 tile} {\cf1 /=} {\b\cf6 Void} {\b\cf6 then}{\line}
{\tab}{\tab}{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_gc_set_fill} {\cf1 (}{\cf5 gc}{\cf1 ,} {\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_tiled_enum}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_draw_rectangle} {\cf1 (}{\cf5 drawable}{\cf1 ,} {\cf5 gc}{\cf1 ,} 1{\cf1 ,} {\cf1 (}{\cf5 x} {\cf1 +} {\cf5 device_x_offset}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\b\cf1 .}{\cf5 max}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 min_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\b\cf1 .}{\cf5 min}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 max_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\cf1 ,} {\cf1 (}{\cf5 y} {\cf1 +} {\cf5 device_y_offset}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\b\cf1 .}{\cf5 max}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 min_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\b\cf1 .}{\cf5 min}{\cf1  }{\cf1 (}{\cf1 \{}{\cf4 INTEGER_16}{\cf1 \}}{\b\cf1 .}{\cf5 max_value}{\b\cf1 .}{\cf5 to_integer_32}{\cf1 )}{\cf1 ,} {\cf5 a_width}{\cf1 ,} {\cf5 a_height}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_gc_set_fill} {\cf1 (}{\cf5 gc}{\cf1 ,} {\cf1 \{}{\cf4 GTK}{\cf1 \}}{\b\cf1 .}{\cf5 gdk_solid_enum}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\tab}{\cf5 update_if_needed}{\line}
{\tab}{\tab}{\tab}{\b\cf6 end}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\tab}{\line}
{\b\cf6 invariant}{\line}
{\tab}{\tab}{\cf3 --} {\cf3 from }{\cf4 EV_ANY_I}{\line}
{\tab}{\cf1 interface_coupled}{\cf1 :} {\cf5 is_usable} {\b\cf6 implies} {\cf5 interface} {\cf1 /=} {\b\cf6 Void} {\b\cf6 and then} {\cf5 attached_interface}{\b\cf1 .}{\cf5 implementation} {\cf1 =} {\b\cf6 Current}{\line}
{\tab}{\cf1 base_make_called}{\cf1 :} {\cf5 is_usable} {\b\cf6 implies} {\cf5 base_make_called}{\line}
{\line}
{\tab}{\tab}{\cf3 --} {\cf3 from }{\cf4 ANY}{\line}
{\tab}{\cf1 reflexive_equality}{\cf1 :} {\cf5 standard_is_equal}{\cf1  }{\cf1 (}{\b\cf6 Current}{\cf1 )}{\line}
{\tab}{\cf1 reflexive_conformance}{\cf1 :} {\cf5 conforms_to}{\cf1  }{\cf1 (}{\b\cf6 Current}{\cf1 )}{\line}
{\line}
{\tab}{\tab}{\cf3 --} {\cf3 from }{\cf4 EV_DRAWABLE_IMP}{\line}
{\tab}{\cf1 gc_not_void}{\cf1 :} {\cf5 is_usable} {\b\cf6 implies} {\cf5 gc} {\cf1 /=} {\cf5 default_pointer}{\line}
{\line}
{\b\cf6 note}{\line}
{\tab}{\cf1 copyright}{\cf1 :} "Copyright (c) 1984-2017, Eiffel Software and others"{\line}
{\tab}{\cf1 license}{\cf1 :} "Eiffel Forum License v2 (see http://www.eiffel.com/licensing/forum.txt)"{\line}
{\tab}{\cf1 source}{\cf1 :} "[{\line}
{\tab}{\tab}Eiffel Software{\line}
{\tab}{\tab}5949 Hollister Ave., Goleta, CA 93117 USA{\line}
{\tab}{\tab}Telephone 805-685-1006, Fax 805-685-6869{\line}
{\tab}{\tab}Website http://www.eiffel.com{\line}
{\tab}{\tab}Customer support http://support.eiffel.com{\line}
{\tab}]"{\line}
{\line}
{\b\cf6 end} {\cf3 --} {\cf3 class }{\cf4 EV_SCREEN_IMP}}
{\line}
{\cf3 {\tab}{\tab}{\tab}-- Generated by ISE Eiffel --}
{\line}
{\cf3{\tab}{\tab}{\tab}-- For more details: http://www.eiffel.com --}
}}
{\line}
