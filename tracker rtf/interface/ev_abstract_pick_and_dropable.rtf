{\rtf1\ansi\ansicpg1252\deflang1033{\fonttbl{\f0\fscript\fcharset0 Courier;}}{\colortbl ;\red0\green0\blue0;\red255\green255\blue255;\red128\green0\blue0;\red0\green0\blue255;\red0\green128\blue0;\red0\green0\blue128;}
{\cf3\f0\fs16 {\tab}{\tab}{\tab}-- Automatic generation produced by ISE Eiffel --
{\line}
{{\b\cf6 note}{\line}
{\tab}{\cf1 description}{\cf1 :} "Abstract interface for all pick and dropable classes.%NDescendants include: widgets, items and figures."{\line}
{\tab}{\cf1 legal}{\cf1 :} "See notice at end of class."{\line}
{\tab}{\cf1 status}{\cf1 :} "See notice at end of class."{\line}
{\tab}{\cf1 keywords}{\cf1 :} "pick and drop, figure, widget, item"{\line}
{\tab}{\cf1 date}{\cf1 :} "$Date: 2015-12-17 05:34:17 -0800 (Thu, 17 Dec 2015) $"{\line}
{\tab}{\cf1 revision}{\cf1 :} "$Revision: 98279 $"{\line}
{\line}
{\b\cf6 deferred} {\b\cf6 class} {\line}
{\tab}{\cf4 EV_ABSTRACT_PICK_AND_DROPABLE}{\line}
{\line}
{\b\cf6 inherit}{\line}
{\tab}{\cf4 IDENTIFIED}{\line}
{\tab}{\tab}{\b\cf6 export}{\line}
{\tab}{\tab}{\tab}{\cf1 \{}NONE{\cf1 \}} {\cf5 free_id}{\cf1 ,} {\cf5 id_freed}{\cf1 ,} {\cf5 default_create}{\line}
{\tab}{\tab}{\b\cf6 end}{\line}
{\line}
{\b\cf6 feature} {\cf3 --}{\cf3  Access}{\line}
{\line}
{\tab}{\cf5 {\cf5 pebble}{\cf1 :} {\b\cf6 detachable} {\cf4 ANY}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Data to be transported by pick and drop mechanism.}{\line}
{\tab}{\tab}{\b\cf6 deferred}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 target_name}{\cf1 :} {\b\cf6 detachable} {\cf4 READABLE_STRING_GENERAL}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Optional textual name describing }{\cf5 Current}{\cf3  pick and drop hole.}{\line}
{\tab}{\tab}{\b\cf6 note}{\line}
{\tab}{\tab}{\tab}option: stable{\line}
{\tab}{\tab}{\b\cf6 attribute}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 target_data_function}{\cf1 :} {\b\cf6 detachable} {\cf4 FUNCTION} {\cf1 [}{\b\cf6 like} {\cf5 pebble}{\cf1 ,} {\cf4 EV_PND_TARGET_DATA}{\cf1 ]}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Function for computing target meta data based on source pebble.}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Primarily used for Pick and Drop target menu.}{\line}
{\tab}{\tab}{\b\cf6 note}{\line}
{\tab}{\tab}{\tab}option: stable{\line}
{\tab}{\tab}{\b\cf6 attribute}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 pebble_function}{\cf1 :} {\b\cf6 detachable} {\cf4 FUNCTION} {\cf1 [}{\b\cf6 detachable} {\cf4 ANY}{\cf1 ]}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Returns data to be transported by pick and drop mechanism.}{\line}
{\tab}{\tab}{\b\cf6 deferred}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 accept_cursor}{\cf1 :} {\cf4 EV_POINTER_STYLE}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  }{\cf5 Result}{\cf3  is cursor displayed when the screen pointer is over a}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  target that accepts }{\cf5 pebble}{\cf3  during pick and drop.}{\line}
{\tab}{\tab}{\b\cf6 deferred}{\line}
{\tab}{\tab}{\b\cf6 ensure}{\line}
{\tab}{\tab}{\tab}{\cf1 result_not_void}{\cf1 :} {\b\cf6 Result} {\cf1 /=} {\b\cf6 Void}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 deny_cursor}{\cf1 :} {\cf4 EV_POINTER_STYLE}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  }{\cf5 Result}{\cf3  is cursor displayed when the screen pointer is over a}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  target that does not accept }{\cf5 pebble}{\cf3  during pick and drop.}{\line}
{\tab}{\tab}{\b\cf6 deferred}{\line}
{\tab}{\tab}{\b\cf6 ensure}{\line}
{\tab}{\tab}{\tab}{\cf1 result_not_void}{\cf1 :} {\b\cf6 Result} {\cf1 /=} {\b\cf6 Void}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\tab}{\line}
{\b\cf6 feature} {\cf3 --}{\cf3  Status setting}{\line}
{\line}
{\tab}{\cf5 {\cf5 set_pebble} {\cf1 (}{\cf5 a_pebble}{\cf1 :} {\b\cf6 like} {\cf5 pebble}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Assign }{\cf5 a_pebble}{\cf3  to }{\cf5 pebble}{\cf3 .}{\line}
{\tab}{\tab}{\b\cf6 require}{\line}
{\tab}{\tab}{\tab}{\cf1 a_pebble_not_void}{\cf1 :} {\cf5 a_pebble} {\cf1 /=} {\b\cf6 Void}{\line}
{\tab}{\tab}{\b\cf6 deferred}{\line}
{\tab}{\tab}{\b\cf6 ensure}{\line}
{\tab}{\tab}{\tab}{\cf1 pebble_assigned}{\cf1 :} {\cf5 pebble} {\cf1 =} {\cf5 a_pebble}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 remove_pebble}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Make }{\cf5 pebble}{\cf3  }{\cf5 Void}{\cf3  and }{\cf5 pebble_function}{\cf3  `Void,}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Removing transport.}{\line}
{\tab}{\tab}{\b\cf6 deferred}{\line}
{\tab}{\tab}{\b\cf6 ensure}{\line}
{\tab}{\tab}{\tab}{\cf1 pebble_removed}{\cf1 :} {\cf5 pebble} {\cf1 =} {\b\cf6 Void} {\b\cf6 and} {\cf5 pebble_function} {\cf1 =} {\b\cf6 Void}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 set_pebble_function} {\cf1 (}{\cf5 a_function}{\cf1 :} {\cf4 FUNCTION} {\cf1 [}{\b\cf6 detachable} {\cf4 ANY}{\cf1 ]}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Set }{\cf5 a_function}{\cf3  to compute }{\cf5 pebble}{\cf3 .}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  It will be called once each time a pick occurs, the result}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  will be assigned to }{\cf5 pebble}{\cf3  for the duration of transport.}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  When a pick occurs, the pick position in widget coordinates,}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  <<x, y>> in pixels, is passed.}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  To handle this data use }{\cf5 a_function}{\cf3  of type}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  FUNCTION [ANY, TUPLE [INTEGER, INTEGER], ANY] and return the}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  pebble as a function of x and y.}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Overrides }{\cf5 set_pebble}{\cf3 .}{\line}
{\tab}{\tab}{\b\cf6 require}{\line}
{\tab}{\tab}{\tab}{\cf1 a_function_not_void}{\cf1 :} {\cf5 a_function} {\cf1 /=} {\b\cf6 Void}{\line}
{\tab}{\tab}{\tab}{\cf1 a_function_takes_two_integer_open_operands}{\cf1 :} {\cf5 a_function}{\b\cf1 .}{\cf5 valid_operands}{\cf1  }{\cf1 (}{\cf1 [}1{\cf1 ,} 1{\cf1 ]}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 deferred}{\line}
{\tab}{\tab}{\b\cf6 ensure}{\line}
{\tab}{\tab}{\tab}{\cf1 pebble_function_assigned}{\cf1 :} {\cf5 pebble_function} {\cf1 =} {\cf5 a_function}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 set_target_name} {\cf1 (}{\cf5 a_name}{\cf1 :} {\cf4 READABLE_STRING_GENERAL}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Assign }{\cf5 a_name}{\cf3  to }{\cf5 target_name}{\cf3 .}{\line}
{\tab}{\tab}{\b\cf6 require}{\line}
{\tab}{\tab}{\tab}{\cf1 a_name_not_void}{\cf1 :} {\cf5 a_name} {\cf1 /=} {\b\cf6 Void}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\cf5 target_name} {\cf1 :=} {\cf5 a_name}{\b\cf1 .}{\cf5 twin}{\line}
{\tab}{\tab}{\b\cf6 ensure}{\line}
{\tab}{\tab}{\tab}{\cf1 target_name_assigned}{\cf1 :} {\b\cf6 attached} {\cf5 target_name} {\b\cf6 as} l_target_name {\b\cf6 and then} {\cf5 a_name} {\cf1 /=} {\cf5 l_target_name} {\b\cf6 and then} {\cf5 a_name}{\b\cf1 .}{\cf5 same_string}{\cf1  }{\cf1 (}{\cf5 l_target_name}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 set_target_data_function} {\cf1 (}{\cf5 a_function}{\cf1 :} {\cf4 FUNCTION} {\cf1 [}{\b\cf6 like} {\cf5 pebble}{\cf1 ,} {\cf4 EV_PND_TARGET_DATA}{\cf1 ]}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Set }{\cf5 a_function}{\cf3  to compute target meta data based on transport source.}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Overrides any }{\cf5 target_name}{\cf3  set with }{\cf5 set_target_name}{\cf3 .}{\line}
{\tab}{\tab}{\b\cf6 require}{\line}
{\tab}{\tab}{\tab}{\cf1 a_function_not_void}{\cf1 :} {\cf5 a_function} {\cf1 /=} {\b\cf6 Void}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\cf5 target_data_function} {\cf1 :=} {\cf5 a_function}{\b\cf1 .}{\cf5 twin}{\line}
{\tab}{\tab}{\b\cf6 ensure}{\line}
{\tab}{\tab}{\tab}{\cf1 target_data_function_assigned}{\cf1 :} {\cf5 target_data_function} {\cf1 /=} {\b\cf6 Void} {\b\cf6 and then} {\cf5 target_data_function}{\b\cf1 .}{\cf5 is_equal}{\cf1  }{\cf1 (}{\cf5 a_function}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 set_accept_cursor} {\cf1 (}{\cf5 a_cursor}{\cf1 :} {\b\cf6 detachable} {\b\cf6 like} {\cf5 accept_cursor}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Set }{\cf5 a_cursor}{\cf3  to be displayed when the screen pointer is over a}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  target that accepts }{\cf5 pebble}{\cf3  during pick and drop.}{\line}
{\tab}{\tab}{\b\cf6 deferred}{\line}
{\tab}{\tab}{\b\cf6 ensure}{\line}
{\tab}{\tab}{\tab}{\cf1 accept_cursor_assigned}{\cf1 :} {\b\cf6 attached} {\cf5 a_cursor} {\b\cf6 as} l_accept_cursor {\b\cf6 implies} {\cf5 l_accept_cursor} {\cf1 ~} {\cf5 accept_cursor}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 set_deny_cursor} {\cf1 (}{\cf5 a_cursor}{\cf1 :} {\b\cf6 detachable} {\b\cf6 like} {\cf5 deny_cursor}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Set }{\cf5 a_cursor}{\cf3  to be displayed when the screen pointer is not}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  over a valid target.}{\line}
{\tab}{\tab}{\b\cf6 deferred}{\line}
{\tab}{\tab}{\b\cf6 ensure}{\line}
{\tab}{\tab}{\tab}{\cf1 deny_cursor_assigned}{\cf1 :} {\b\cf6 attached} {\cf5 a_cursor} {\b\cf6 as} l_deny_cursor {\b\cf6 implies} {\cf5 l_deny_cursor} {\cf1 ~} {\cf5 deny_cursor}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\tab}{\line}
{\b\cf6 feature} {\cf3 --}{\cf3  User input events}{\line}
{\line}
{\tab}{\cf5 {\cf5 pick_actions}{\cf1 :} {\cf4 EV_PND_START_ACTION_SEQUENCE}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Actions to be performed when }{\cf5 pebble}{\cf3  is picked up.}{\line}
{\tab}{\tab}{\b\cf6 deferred}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 conforming_pick_actions}{\cf1 :} {\cf4 EV_NOTIFY_ACTION_SEQUENCE}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Actions to be performed when a pebble that fits this hole is}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  picked up from another source.}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  (when drop_actions.accepts_pebble (pebble))}{\line}
{\tab}{\tab}{\b\cf6 deferred}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 pointer_motion_actions}{\cf1 :} {\cf4 EV_POINTER_MOTION_ACTION_SEQUENCE}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Actions to be performed when screen pointer moves.}{\line}
{\tab}{\tab}{\b\cf6 deferred}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 drop_actions}{\cf1 :} {\cf4 EV_PND_ACTION_SEQUENCE}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Actions to take when pick and drop transport drops on }{\cf5 Current}{\cf3 .}{\line}
{\tab}{\tab}{\b\cf6 deferred}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\tab}{\line}
{\b\cf6 feature} {\cf1 \{}{\cf4 EV_ANY_I}{\cf1 ,} {\cf4 EV_ABSTRACT_PICK_AND_DROPABLE}{\cf1 \}} {\cf3 --}{\cf3  Initialization}{\line}
{\line}
{\tab}{\cf5 {\cf5 init_drop_actions} {\cf1 (}{\cf5 a_drop_actions}{\cf1 :} {\cf4 EV_PND_ACTION_SEQUENCE}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Setup drop action sequence.}{\line}
{\tab}{\tab}{\b\cf6 local}{\line}
{\tab}{\tab}{\tab}{\cf5 l_pnd_targets}{\cf1 :} {\cf4 HASH_TABLE} {\cf1 [}{\cf4 INTEGER_32}{\cf1 ,} {\cf4 INTEGER_32}{\cf1 ]}{\line}
{\tab}{\tab}{\tab}{\cf5 l_object_id}{\cf1 :} {\b\cf6 like} {\cf5 object_id}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\cf5 l_object_id} {\cf1 :=} {\cf5 object_id}{\line}
{\tab}{\tab}{\tab}{\cf5 l_pnd_targets} {\cf1 :=} {\cf5 Pnd_targets}{\line}
{\tab}{\tab}{\tab}{\cf5 a_drop_actions}{\b\cf1 .}{\cf5 not_empty_actions}{\b\cf1 .}{\cf5 extend}{\cf1  }{\cf1 (}{\b\cf6 agent} {\cf5 l_pnd_targets}{\b\cf1 .}{\cf5 put}{\cf1  }{\cf1 (}{\cf5 l_object_id}{\cf1 ,} {\cf5 l_object_id}{\cf1 )}{\cf1 )}{\line}
{\tab}{\tab}{\tab}{\cf5 a_drop_actions}{\b\cf1 .}{\cf5 empty_actions}{\b\cf1 .}{\cf5 extend}{\cf1  }{\cf1 (}{\b\cf6 agent} {\cf5 l_pnd_targets}{\b\cf1 .}{\cf5 remove}{\cf1  }{\cf1 (}{\cf5 l_object_id}{\cf1 )}{\cf1 )}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\tab}{\line}
{\b\cf6 feature} {\cf1 \{}NONE{\cf1 \}} {\cf3 --}{\cf3  Implementation}{\line}
{\line}
{\tab}{\cf5 {\cf5 create_interface_objects}{\line}
{\tab}{\tab}{\b\cf6 do}{\line}
{\tab}{\tab}{\tab}{\cf5 Pnd_targets}{\b\cf1 .}{\cf5 do_nothing}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 Pnd_targets}{\cf1 :} {\cf4 HASH_TABLE} {\cf1 [}{\cf4 INTEGER_32}{\cf1 ,} {\cf4 INTEGER_32}{\cf1 ]}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Hash table of current pnd targets.}{\line}
{\tab}{\tab}{\b\cf6 once}{\line}
{\tab}{\tab}{\tab}{\b\cf6 Result} {\cf1 :=} {\cf1 (}{\b\cf6 create}{\cf1  }{\cf1 \{}{\cf4 EV_ENVIRONMENT}{\cf1 \}}{\cf1 )}{\b\cf1 .}{\cf5 implementation}{\b\cf1 .}{\cf5 application_i}{\b\cf1 .}{\cf5 pnd_targets}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\line}
{\tab}{\cf5 {\cf5 Default_pixmaps}{\cf1 :} {\cf4 EV_STOCK_PIXMAPS}{\line}
{\tab}{\tab}{\tab}{\cf3 --}{\cf3  Default pixmaps and cursors.}{\line}
{\tab}{\tab}{\b\cf6 once}{\line}
{\tab}{\tab}{\tab}{\b\cf6 create} {\b\cf6 Result}{\line}
{\tab}{\tab}{\b\cf6 end}}{\line}
{\tab}{\line}
{\b\cf6 note}{\line}
{\tab}{\cf1 copyright}{\cf1 :} "Copyright (c) 1984-2015, Eiffel Software and others"{\line}
{\tab}{\cf1 license}{\cf1 :} "Eiffel Forum License v2 (see http://www.eiffel.com/licensing/forum.txt)"{\line}
{\tab}{\cf1 source}{\cf1 :} "[{\line}
{\tab}{\tab}Eiffel Software{\line}
{\tab}{\tab}5949 Hollister Ave., Goleta, CA 93117 USA{\line}
{\tab}{\tab}Telephone 805-685-1006, Fax 805-685-6869{\line}
{\tab}{\tab}Website http://www.eiffel.com{\line}
{\tab}{\tab}Customer support http://support.eiffel.com{\line}
{\tab}]"{\line}
{\line}
{\b\cf6 end} {\cf3 --} {\cf3 class }{\cf4 EV_ABSTRACT_PICK_AND_DROPABLE}}
{\line}
{\cf3 {\tab}{\tab}{\tab}-- Generated by ISE Eiffel --}
{\line}
{\cf3{\tab}{\tab}{\tab}-- For more details: http://www.eiffel.com --}
}}
{\line}
